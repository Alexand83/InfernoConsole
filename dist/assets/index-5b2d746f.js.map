{"version":3,"mappings":"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","names":["l","n","p","q","r","t","u","v","w","x","y","z","A","a","B","C","D","E","b","e","F","G","H","I","J","K","L","M","d","c","k","h","g","f","m","N","O","escape","P","Q","R","S","T","U","V","W","X","react_production_min","reactModule","require$$0","reactJsxRuntime_production_min","jsxRuntimeModule","exports","schedulerModule","aa","ca","require$$1","da","ea","fa","ha","ia","ja","ka","la","ma","oa","pa","qa","ra","sa","ta","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","Ra","Sa","Ta","Ua","Va","Wa","Xa","Ya","Za","ab","bb","cb","db","eb","fb","gb","hb","ib","jb","kb","lb","mb","nb","ob","pb","qb","rb","sb","tb","ub","vb","wb","xb","yb","zb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","oc","nc","pc","qc","rc","sc","tc","uc","vc","wc","xc","yc","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","Wc","Xc","Yc","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","id","jd","kd","ld","md","nd","od","pd","qd","rd","sd","td","ud","vd","wd","xd","yd","Ad","zd","Bd","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","Rd","Sd","Td","Ud","Vd","Wd","Xd","Yd","Zd","$d","ae","be","ce","de","ee","fe","ge","he","ie","je","ke","le","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","Ae","Be","Ce","De","Ee","Fe","Ge","He","Ie","Je","Ke","Le","Me","Ne","Oe","Pe","Qe","Re","Se","Te","Ue","Ve","We","Xe","Ye","Ze","$e","af","bf","cf","df","ef","ff","gf","hf","jf","kf","lf","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","na","xa","$a","ba","xf","yf","zf","Af","Bf","Cf","Df","Ef","Ff","Gf","Hf","Jf","If","Kf","Lf","Mf","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","jh","kh","lh","mh","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","ei","fi","gi","hi","ii","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","ej","fj","gj","hj","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Kj","Lj","Mj","Nj","Oj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","Xj","Yj","Zj","ak","bk","ck","dk","ek","fk","gk","hk","ik","jk","kk","lk","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","Qk","Rk","Sk","Tk","Uk","Vk","Wk","Xk","Yk","Zk","$k","al","bl","cl","dl","el","fl","gl","hl","il","jl","kl","ll","ml","nl","ol","pl","ql","rl","sl","tl","ul","vl","reactDom_production_min","checkDCE","err","reactDomModule","client","_extends","target","i","source","key","Action","PopStateEventType","createBrowserHistory","options","createBrowserLocation","window","globalHistory","pathname","search","hash","createLocation","createBrowserHref","to","createPath","getUrlBasedHistory","createHashHistory","createHashLocation","parsePath","createHashHref","base","href","url","hashIndex","validateHashLocation","location","warning","invariant","value","message","cond","createKey","getHistoryState","index","current","state","_ref","path","parsedPath","searchIndex","getLocation","createHref","validateLocation","v5Compat","action","listener","getIndex","handlePop","nextIndex","delta","history","push","historyState","error","replace","createURL","fn","ResultType","matchRoutes","routes","locationArg","basename","matchRoutesImpl","allowPartial","stripBasename","branches","flattenRoutes","rankRouteBranches","matches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","meta","joinPaths","routesMeta","computeScore","_route$path","exploded","explodeOptionalSegments","segments","first","rest","isOptional","required","restExploded","result","subpath","compareIndexes","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","initialScore","score","segment","branch","matchedParams","matchedPathname","end","remainingPathname","match","matchPath","normalizePathname","pattern","matcher","compiledParams","compilePath","pathnameBase","captureGroups","memo","paramName","splatValue","caseSensitive","params","regexpSource","_","startIndex","nextChar","resolvePath","fromPathname","toPathname","resolvePathname","normalizeSearch","normalizeHash","getInvalidPathError","char","field","dest","getPathContributingMatches","getResolveToMatches","v7_relativeSplatPath","pathMatches","idx","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","from","routePathnameIndex","toSegments","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","React.createContext","DataRouterStateContext","NavigationContext","LocationContext","RouteContext","RouteErrorContext","useHref","_temp","relative","useInRouterContext","UNSAFE_invariant","navigator","React.useContext","useResolvedPath","joinedPathname","useLocation","useIsomorphicLayoutEffect","React.useLayoutEffect","useNavigate","isDataRoute","useNavigateStable","useNavigateUnstable","dataRouterContext","future","routePathnamesJson","UNSAFE_getResolveToMatches","activeRef","React.useRef","React.useCallback","_temp2","React.useMemo","useRoutes","useRoutesImpl","dataRouterState","parentMatches","routeMatch","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","React.createElement","DefaultErrorComponent","useRouteError","stack","preStyles","devInfo","React.Fragment","defaultErrorElement","RenderErrorBoundary","React.Component","props","errorInfo","RenderedRoute","routeContext","children","_dataRouterState","_future","errors","errorIndex","renderFallback","fallbackIndex","loaderData","needsToRunLoader","outlet","shouldRenderHydrateFallback","errorElement","hydrateFallbackElement","warningOnce","getChildren","DataRouterHook","DataRouterStateHook","useDataRouterContext","hookName","ctx","useDataRouterState","useRouteContext","useCurrentRouteId","thisRoute","_state$errors","routeId","router","alreadyWarned$1","logV6DeprecationWarnings","renderFuture","routerFuture","Route","_props","Router","_ref5","basenameProp","locationProp","navigationType","staticProp","navigationContext","locationContext","trailingPathname","Routes","_ref6","createRoutesFromChildren","React.Children","element","React.isValidElement","treePath","_objectWithoutPropertiesLoose","excluded","sourceKeys","isModifiedEvent","event","shouldProcessLinkClick","_excluded","_excluded2","REACT_ROUTER_VERSION","ViewTransitionContext","START_TRANSITION","startTransitionImpl","React","BrowserRouter","_ref4","historyRef","setStateImpl","React.useState","v7_startTransition","setState","newState","React.useEffect","UNSAFE_logV6DeprecationWarnings","HashRouter","isBrowser","ABSOLUTE_URL_REGEX","Link","React.forwardRef","_ref7","ref","onClick","reloadDocument","preventScrollReset","viewTransition","UNSAFE_NavigationContext","absoluteHref","isExternal","currentUrl","targetUrl","internalOnClick","useLinkClickHandler","handleClick","NavLink","_ref8","ariaCurrentProp","classNameProp","styleProp","routerState","UNSAFE_DataRouterStateContext","isTransitioning","useViewTransitionState","nextLocationPathname","endSlashPosition","isActive","isPending","renderProps","ariaCurrent","className","style","UNSAFE_DataRouterContext","replaceProp","navigate","opts","vtContext","currentPath","nextPath","it","en","es","fr","translations","currentLanguage","language","lang","keys","fallbackKey","setLanguage","getCurrentLanguage","getAvailableLanguages","useTranslation","forceUpdate","useState","useEffect","handleLanguageChange","TopNav","items","jsx","jsxs","item","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","createElement","tag","attrs","createLucideIcon$1","Activity","AlertCircle","AlertTriangle","Bell","CheckCircle","Clock","Disc","GripVertical","Headphones","Home","Info","MicOff","Mic","Music","Pause","Play","Radio","RefreshCw","RotateCcw","Settings","SkipBack","SkipForward","Square","Terminal","Volume2","VolumeX","WifiOff","Wifi","LocalDatabase","__publicField","kind","evt","dbStore","res","data","changed","raw","track","playlist","tracksData","tracks","playlistsData","settingsData","tracksArray","clone","playlistsArray","settingsObj","samplePlaylist","newTrack","_b","_a","_d","_c","updates","updatedTrack","deleted","trackId","getBlobUrl","__vitePreload","BlobStore","blobId","list","query","filters","lowerQuery","rating","newPlaylist","updatedPlaylist","playlistId","trackIds","playlists","totalPlayTime","total","mostPlayedTrack","max","genreCounts","topGenres","genre","count","jsonData","resolve","checkInit","servers","defaultId","server","newServer","serverIndex","localDatabase","DB_NAME","STORE_NAME","DB_VERSION","dbPromise","openDb","reject","request","putBlob","blob","req","getBlob","urlCache","deleteBlob","existing","revokeAllUrls","defaultSettings","settingsReducer","category","mainKey","subKey","SettingsContext","createContext","SettingsProvider","settings","dispatch","useReducer","isInitialized","useRef","ensureAllSettings","savedSettings","completeSettings","applyTheme","applyLanguage","applyWaveformSettings","applyAnimationSettings","updateSetting","updateCategory","resetSettings","theme","root","mediaQuery","isDark","index$1","showWaveforms","showSpectrum","showBeatGrid","animations","useSettings","context","useContext","SoundEffectsManager","callbacks","ensureMainAudioContext","globalAudioContext","_e","_f","duration","sampleRate","buffer","leftChannel","rightChannel","time","envelope","clapPattern","randomClaps","noise","midFreq","baseFreq","fundamental","harmonic2","harmonic3","harmonic4","harmonic5","tremolo","wave","frequency","effectId","volume","gainNode","mixerGain","destinationStream","_g","_h","_i","_j","_k","MicrophoneEffectsManager","length","impulse","decay","samples","curve","deg","microphoneStream","amount","wetGain","dryGain","dryGainNode","wetGainNode","delayTime","feedback","type","presetId","audioReducer","initialState","AudioContext","AudioProvider","leftAudioRef","rightAudioRef","micStreamRef","soundEffectsManagerRef","microphoneEffectsManagerRef","soundEffectsManager","microphoneEffectsManager","micStream","createMicrophoneStream","fallbackStream","getMixedStream","leftElement","rightElement","pttActive","streamingFormat","streamingBitrate","streamingChannels","audioSampleRate","defaultServer","testUrl","fetchError","serverError","mixContext","streamingManager","hasRealAudio","leftAudioElement","rightAudioElement","allAudioElements","audio","alternativeLeftAudio","alternativeRightAudio","finalLeftAudio","finalRightAudio","leftStreamAudio","syncLeftPosition","currentLeftAudio","timeDiff","leftSource","leftStreamGain","leftCrossfaderVolume","rightStreamAudio","syncRightPosition","currentRightAudio","rightSource","rightStreamGain","rightCrossfaderVolume","micSource","micGain","oscillator","silentOscillator","silentGain","_l","waitForStreamingManager","timeoutMs","startTime","addAudioStreamToTracking","stream","removeAudioStreamFromTracking","getAvailableAudioOutputDevices","audioOutputs","device","useCallback","AudioContextClass","mainContext","cleanupAllAudioStreams","deckId","deckAudioElement","newMixedStream","streamError","host","port","response","httpError","errorMsg","settingsError","pttDuckingLevel","currentStreamVolume","originalStreamVolume","duckedStreamVolume","playLeftTrack","playRightTrack","updateLocalVolumes","targetVolume","configureAudioOutputDevice","outputDevice","audioElements","audioElement","seekDebounceRef","handleBeforeUnload","handleUnload","setLeftLocalVolume","clampedVolume","setRightLocalVolume","seekLeftTo","clampedTime","leftAudio","seekRightTo","rightAudio","pauseLeftTrack","resumeLeftTrack","stopLeftTrack","pauseRightTrack","resumeRightTrack","stopRightTrack","handlePlayPauseDefinitive","side","audioRef","isPlaying","setStreamDucking","active","duckingPercent","setStreamMasterVolume","setMasterVolume","setCrossfader","clampedValue","setLiveStreamVolume","crossfaderValue","leftGain","rightGain","leftVolume","rightVolume","addToDeck","deck","audioTrack","reconnectError","updated","incrementPlayCount","newPlayCount","micSettings","deviceId","audioInputs","selectedDevice","constraints","audioCtx","destination","lowpassFilter","noiseFilter","microphoneGain","reverbNode","reverbGain","reverbLength","reverbBuffer","createSmartMicrophoneControl","isMicrophoneActive","enableMicrophone","disableMicrophone","getMicrophoneStream","smartMicrophoneControl","currentTime","trackEndedEvent","useAudio","playlistReducer","PlaylistContext","PlaylistProvider","renderCount","lastRenderTime","now","timeSinceLastRender","loadInitialData","interfacePlaylists","dbPlaylist","validTracks","totalDuration","sum","genres","artists","albums","handleFocus","handleDbUpdate","detail","handleLibraryPlaylistUpdate","updatedTracks","updatedPlaylists","handleForcePlaylistRefresh","aValue","bValue","name","description","artist","usePlaylist","DynamicWaveform","waveformData","onSeek","canvasRef","animationRef","hoveredIndex","setHoveredIndex","currentPosition","canvas","width","height","barWidth","maxBarHeight","amplitude","barHeight","lineX","pulse","handleCanvasClick","rect","newTime","seekEvent","handleMouseMove","handleMouseLeave","animate","interval","TimerDisplay","formatTime","minutes","seconds","AudioDeck","onActivate","audioState","deckVolume","setDeckVolume","isProcessing","setIsProcessing","handleWaveformSeek","handlePlay","handlePause","handleSkipBackward","handleSkipForward","handleVolumeChange","currentTrack","isThisTrackPlaying","deckCurrentTime","deckDuration","Crossfader","onLeftVolumeChange","onRightVolumeChange","crossfadeValue","onCrossfadeChange","crossfadeCurve","setCrossfadeCurve","handleCrossfadeChange","StreamingManager","credentials","callback","protocol","adminUrl","streamUrl","headers","auth","adminResponse","streamResponse","delay","desktopStreamConfig","desktopStreamResult","ffmpegConfig","ffmpegResult","_m","_n","_o","_p","command","pauseDuration","audioContext","bufferLength","globalMixerGain","peak","rms","level","maxValue","maxIndex","nyquist","latency","packetLoss","qualityScore","mimeType","audioBitsPerSecond","arrayBuffer","uint8Array","metadata","icecastMetadata","enabled","threshold","temp","title","status","_stream","StreamingControl","onStreamStart","onStreamStop","onMetadataUpdate","isConnected","setIsConnected","isStreaming","setIsStreaming","streamStatus","setStreamStatus","streamStats","setStreamStats","debugLines","setDebugLines","setMetadata","format","setFormat","bitrate","setBitrate","sendMic","setSendMic","lastMeta","setLastMeta","newFormat","newBitrate","isElectron","defaultWs","wsUrl","onDbUpdated","anyEvt","prev","onServerUpdated","stats","msg","handleConnect","handleDisconnect","handleStartStreaming","mixed","handleStopStreaming","handleMetadataChange","newMetadata","DJConsole","componentId","isStable","hasStabilized","toggleMicrophone","playlistState","reorderPlaylist","leftTrack","setLeftTrack","rightTrack","setRightTrack","activePlaylistId","setActivePlaylistId","activeDeck","setActiveDeck","autoAdvance","setAutoAdvance","pttActiveRef","micWasActiveBeforePTTRef","originalVolumeRef","loadInProgressRef","memoizedOnLoad","trackToPlay","onRequestNext","activePlaylist","currentIndex","nextTrack","leftTimeLeft","rightTimeLeft","onKeyDown","totalVolume","activeDecks","duckedVolume","onKeyUp","hasMounted","handleAudioControlsRestored","handleDatabaseRestored","handleTrackDeleted","startPTT","applyDucking","stopPTT","shouldDeactivateMic","removeTrackFromPlaylist","handlePlaylistUpdated","handlePlaylistsUpdated","handleLibraryPlaylistUpdated","handleLibraryPlaylistsSync","handleLibraryPlaylistsChanged","forceLibrarySync","syncWithLibrary","syncInterval","arr","fromIndexStr","fromIndex","newOrder","moved","tr","_AudioManager","listeners","saved","parsedState","AudioManager","DeckPlayer","isMuted","onVolumeChange","onTrackEnd","setIsPlaying","setCurrentTime","setDuration","isLoading","setIsLoading","showWaveform","setShowWaveform","progressRef","timeUpdateInterval","audioManager","mins","secs","remainingTime","updateCurrentTime","progress","stopTimeUpdate","handleStateChange","deckState","handlePlayPause","handleStop","handleSkip","handleSeek","newVolume","handleReset","MixerControls","deckAVolume","deckBVolume","onDeckAVolumeChange","onDeckBVolumeChange","deckAMuted","deckBMuted","onDeckAMuteToggle","onDeckBMuteToggle","onCrossfaderChange","masterVolume","onMasterVolumeChange","micEnabled","micVolume","onMicToggle","onMicVolumeChange","cueEnabled","onCueToggle","masterMuted","setMasterMuted","handleMasterMute","crossfaderPosition","_GlobalAudioPersistence","originalPushState","originalReplaceState","args","persistentState","savedState","maxAge","GlobalAudioPersistence","NewDJConsole","manager","deckATrack","setDeckATrack","deckBTrack","setDeckBTrack","setDeckAVolume","setDeckBVolume","setMicEnabled","setMicVolume","savedVolume","setCueEnabled","isStreamConnected","setIsStreamConnected","setStreamError","testOscillatorRef","mediaRecorderRef","streamVerificationInterval","settingsLoadedRef","showNotificationPanel","setShowNotificationPanel","notificationPanelHasNew","setNotificationPanelHasNew","streamLogs","setStreamLogs","showDebugPanel","setShowDebugPanel","deckAActive","setDeckAActive","deckBActive","setDeckBActive","setDeckAMuted","setDeckBMuted","playlistDispatch","draggedTrack","setDraggedTrack","dragOverTrack","setDragOverTrack","doubleClickTimeout","setDoubleClickTimeout","lastClickTimeRef","lastClickedTrackRef","duplicateTrackDialog","setDuplicateTrackDialog","handleDeckAVolumeChange","handleDeckBVolumeChange","handleDeckAActivate","handleDeckBActivate","handleMasterVolumeChange","currentPTTState","handleMicToggle","handleCueToggle","loadTrackInDeck","trackData","addStreamingNotification","logEntry","isLocallyStreaming","isConnectedToServer","streamingError","localhostTest","localhostSources","localhostArray","localhostMounts","commonPorts","icecast","testResponse","testError","diagError","disconnectionMonitor","stillStreaming","stillConnected","monitorError","originalStopStreaming","connectionAttemptCount","actuallyStreaming","actuallyConnected","statusUrl","rejectedMatches","currentConnectionAttempts","newAttempts","publicStatusUrl","publicResponse","sources","sourcesArray","mountpoint","matchingSources","sourceMount","sourceUrl","mountName","lowerMsg","loadStreamingSettings","bridgeStatus","fallbackSettings","_t","_s","retryError","checkForDuplicateTrack","targetDeck","deckAState","deckBState","getNextTrackInPlaylist","currentPlaylist","handleTrackDoubleClick","trackIndex","isAutoAdvance","timeout","duplicateCheck","handleTrackClick","timeSinceLastClick","renderPlaylistTracks","handleDragStart","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","autoAdvanceEnabled","setAutoAdvanceEnabled","handleTrackEnd","dropIndex","newTracks","movedTrack","handleToggleStreaming","icecastHost","icecastPort","controller","timeoutId","statusData","isRemoteServer","filteredSources","isLocalhost","removedSources","existingMount","micError","currentSettings","creds","safeUrl","streamingSettings","desiredFormat","desiredBitrate","djNick","ffmpegParams","leftAudioByClass","rightAudioByClass","retryCount","maxRetries","ensureAudioReady","isValidAudioSource","src","leftReady","rightReady","audioReady","attempts","maxAttempts","mixedStream","mediaRecorder","buf","updateMixedStream","currentPttActive","newPttActive","desktopError","ensureAudioReadyFallback","audioReadyFallback","attemptsFallback","maxAttemptsFallback","realConnectionVerified","ourMount","serverName","singleSource","connectedTime","isRecentConnection","availableMounts","verifyError","reallyConnected","currentStatus","errorMessage","setPttActive","originalVolumes","setOriginalVolumes","duckingSettings","setDuckingSettings","handleMicVolumeChange","actualVolume","loadedSettings","handlePTTStart","currentVolumes","duckingFactor","handlePTTEnd","handleGlobalMouseUp","handleGlobalMouseLeave","handleKeyDown","handleKeyUp","handleTrackEnded","log","isError","isSuccess","isWarning","sourceInfo","ourMountpoint","ourSource","dialog","DuplicateTrackDialog","onConfirm","onCancel","isVisible","countdown","setCountdown","autoConfirm","setAutoConfirm","otherDeck","currentDeck","EnhancedDeck","onTrackLoad","onAutoAdvance","localVolume","setLocalVolume","Fragment","EnhancedMixer","leftDeckActive","rightDeckActive","onStreamVolumeChange","onPTTActivate","streamVolume","setStreamVolume","setCrossfaderValue","handlePTTActivate","handleCrossfaderChange","handleStreamVolumeChange","handleStreamVolumeChangeEvent","EnhancedPlaylist","onPlaylistChange","draggedIndex","setDraggedIndex","highlightedTrack","setHighlightedTrack","hours","getBestDeckForLoad","handleLoadInDeck","dragIndexStr","dragIndex","isTrackPlaying","isTrackLoaded","playingStatus","loadedStatus","isHighlighted","AutoAdvanceManager","onDuplicateTrackWarning","pendingAdvanceRef","generalAdvanceTimeRef","deckAdvanceTimeRef","getNextTrack","isDeckFree","getBestDeckForAutoAdvance","leftFree","rightFree","isTrackDuplicate","getNextNonDuplicateTrack","isDuplicate","handleAutoAdvance","fromDeck","handleAutoAdvanceRequest","timeLeft","ContinuousStreamingManager","statusString","config","isRetry","serverUrl","_q","_r","_u","_v","_w","_x","_y","_z","leftDeckGain","rightDeckGain","chunkSize","zeroBytes","totalBytes","silencePatterns","patternMatch","j","silenceDuration","secondsRemaining","reason","electronAPI","_event","errorData","connectionData","disconnectData","StreamingDebugPanel","onClose","debugMessages","activeTab","setActiveTab","notifications","setNotifications","maxNotifications","newNotification","getStatusColor","getStatusIcon","getIcon","getTypeColor","clearNotifications","removeNotification","filteredNotifications","getTabCount","notification","ConfirmationDialog","isOpen","confirmText","cancelText","styles","DeckEffects","setSoundEffectsManager","setIsInitialized","reverbEnabled","setReverbEnabled","reverbAmount","setReverbAmount","distortionEnabled","setDistortionEnabled","distortionAmount","setDistortionAmount","pitchEnabled","setPitchEnabled","pitchAmount","setPitchAmount","echoEnabled","setEchoEnabled","echoAmount","setEchoAmount","initializationError","setInitializationError","checkInitialization","fallbackManager","playSoundEffect","toggleReverb","newReverbState","updateReverbAmount","toggleDistortion","newDistortionState","updateDistortionAmount","togglePitch","newPitchState","updatePitchAmount","toggleEcho","newEchoState","updateEchoAmount","RebuiltDJConsole","duplicateDialog","setDuplicateDialog","setDebugMessages","errorCount","setErrorCount","showStartConfirmation","setShowStartConfirmation","showStopConfirmation","setShowStopConfirmation","pendingStreamingAction","setPendingStreamingAction","showSilenceWarning","setShowSilenceWarning","silenceSecondsRemaining","setSilenceSecondsRemaining","errorMessages","cachedMixedStreamRef","attempt","handleTrackLoadInternal","currentDeckTrack","handleLeftTrackLoad","handleRightTrackLoad","handleDuplicateTrackWarning","handleDuplicateConfirm","handleDuplicateCancel","handleStreamingButtonClick","handleStartStreamingConfirmed","streamConfig","handleStopStreamingConfirmed","handleStreamingStatusChange","streaming","TestAudioControls","testResults","setTestResults","isTesting","setIsTesting","addTestResult","runAudioControlsTest","wasPlaying","clearResults","createSilentWavBlob","durationSeconds","numFrames","byteRate","blockAlign","dataSize","view","writeString","offset","TestConsole","isRunning","setIsRunning","playTrack","createPlaylist","runTests","silentBlob","objectUrl","allTracks","allPlaylists","searchResults","testPlayTrack","testCreatePlaylist","TimerContext","TimerProvider","updateLeftDeckTime","updateRightDeckTime","updateLeftDeckDuration","updateRightDeckDuration","ErrorBoundary","App","handleForceRefresh","stableRef","memoizedRebuiltDJConsole","useMemo","memoizedDJConsole","memoizedOldDJConsole","LazyLibraryManager","LazySettings","memoizedTestConsole","ReactDOM"],"sources":["../../node_modules/react/cjs/react.production.min.js","../../node_modules/react/index.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/scheduler/cjs/scheduler.production.min.js","../../node_modules/scheduler/index.js","../../node_modules/react-dom/cjs/react-dom.production.min.js","../../node_modules/react-dom/index.js","../../node_modules/react-dom/client.js","../../node_modules/@remix-run/router/dist/router.js","../../node_modules/react-router/dist/index.js","../../node_modules/react-router-dom/dist/index.js","../../src/i18n/it.ts","../../src/i18n/en.ts","../../src/i18n/es.ts","../../src/i18n/fr.ts","../../src/i18n/de.ts","../../src/i18n/index.ts","../../src/components/TopNav.tsx","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/activity.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs","../../node_modules/lucide-react/dist/esm/icons/bell.mjs","../../node_modules/lucide-react/dist/esm/icons/check-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/clock.mjs","../../node_modules/lucide-react/dist/esm/icons/disc.mjs","../../node_modules/lucide-react/dist/esm/icons/grip-vertical.mjs","../../node_modules/lucide-react/dist/esm/icons/headphones.mjs","../../node_modules/lucide-react/dist/esm/icons/home.mjs","../../node_modules/lucide-react/dist/esm/icons/info.mjs","../../node_modules/lucide-react/dist/esm/icons/mic-off.mjs","../../node_modules/lucide-react/dist/esm/icons/mic.mjs","../../node_modules/lucide-react/dist/esm/icons/music.mjs","../../node_modules/lucide-react/dist/esm/icons/pause.mjs","../../node_modules/lucide-react/dist/esm/icons/play.mjs","../../node_modules/lucide-react/dist/esm/icons/radio.mjs","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs","../../node_modules/lucide-react/dist/esm/icons/settings.mjs","../../node_modules/lucide-react/dist/esm/icons/skip-back.mjs","../../node_modules/lucide-react/dist/esm/icons/skip-forward.mjs","../../node_modules/lucide-react/dist/esm/icons/square.mjs","../../node_modules/lucide-react/dist/esm/icons/terminal.mjs","../../node_modules/lucide-react/dist/esm/icons/volume-2.mjs","../../node_modules/lucide-react/dist/esm/icons/volume-x.mjs","../../node_modules/lucide-react/dist/esm/icons/wifi-off.mjs","../../node_modules/lucide-react/dist/esm/icons/wifi.mjs","../../node_modules/lucide-react/dist/esm/icons/x.mjs","../../src/database/LocalDatabase.ts","../../src/database/BlobStore.ts","../../src/contexts/SettingsContext.tsx","../../src/audio/SoundEffectsManager.ts","../../src/audio/MicrophoneEffectsManager.ts","../../src/contexts/AudioContext.tsx","../../src/contexts/PlaylistContext.tsx","../../src/components/DynamicWaveform.tsx","../../src/components/TimerDisplay.tsx","../../src/components/AudioDeck.tsx","../../src/components/Crossfader.tsx","../../src/audio/StreamingManager.ts","../../src/components/StreamingControl.tsx","../../src/components/DJConsole.tsx","../../src/audio/AudioManager.ts","../../src/components/DeckPlayer.tsx","../../src/components/MixerControls.tsx","../../src/audio/GlobalAudioPersistence.ts","../../src/components/NewDJConsole.tsx","../../src/components/dj-console/DuplicateTrackDialog.tsx","../../src/components/dj-console/EnhancedDeck.tsx","../../src/components/dj-console/EnhancedMixer.tsx","../../src/components/dj-console/EnhancedPlaylist.tsx","../../src/components/dj-console/AutoAdvanceManager.tsx","../../src/audio/ContinuousStreamingManager.ts","../../src/components/dj-console/StreamingDebugPanel.tsx","../../src/components/ConfirmationDialog.tsx","../../src/components/DeckEffects.tsx","../../src/components/dj-console/RebuiltDJConsole.tsx","../../src/components/TestAudioControls.tsx","../../src/components/TestConsole.tsx","../../src/contexts/TimerContext.tsx","../../src/components/ErrorBoundary.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @remix-run/router v1.23.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */\nvar Action;\n(function (Action) {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Action[\"Push\"] = \"PUSH\";\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\nconst PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    initialEntries = [\"/\"],\n    initialIndex,\n    v5Compat = false\n  } = options;\n  let entries; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) => createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n  let action = Action.Pop;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state, key) {\n    if (state === void 0) {\n      state = null;\n    }\n    let location = createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n    return location;\n  }\n  function createHref(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 1\n        });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 0\n        });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta\n        });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createBrowserLocation(window, globalHistory) {\n    let {\n      pathname,\n      search,\n      hash\n    } = window.location;\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createBrowserHref(window, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createHashLocation(window, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window.location.hash.substr(1));\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createHashHref(window, to) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n  }\n  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience, so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */\nfunction createLocation(current, to, state, key) {\n  if (state === void 0) {\n    state = null;\n  }\n  let location = _extends({\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\"\n  }, typeof to === \"string\" ? parsePath(to) : to, {\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  });\n  return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nfunction createPath(_ref) {\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\"\n  } = _ref;\n  if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    window = document.defaultView,\n    v5Compat = false\n  } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener = null;\n  let index = getIndex();\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || {\n      idx: null\n    };\n    return state.idx;\n  }\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({\n        action,\n        location: history.location,\n        delta\n      });\n    }\n  }\n  function push(to, state) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 1\n      });\n    }\n  }\n  function replace(to, state) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 0\n      });\n    }\n  }\n  function createURL(to) {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n    let href = typeof to === \"string\" ? to : createPath(to);\n    // Treating this as a full URL will strip any trailing spaces so we need to\n    // pre-encode them since they might be part of a matching splat param from\n    // an ancestor route\n    href = href.replace(/ $/, \"%20\");\n    invariant(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n    return new URL(href, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n//#endregion\n\nvar ResultType;\n(function (ResultType) {\n  ResultType[\"data\"] = \"data\";\n  ResultType[\"deferred\"] = \"deferred\";\n  ResultType[\"redirect\"] = \"redirect\";\n  ResultType[\"error\"] = \"error\";\n})(ResultType || (ResultType = {}));\nconst immutableRouteKeys = new Set([\"lazy\", \"caseSensitive\", \"path\", \"id\", \"index\", \"children\"]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary, so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties, parentPath, manifest) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  if (manifest === void 0) {\n    manifest = {};\n  }\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n    invariant(!manifest[id], \"Found a route id collision on id \\\"\" + id + \"\\\".  Route \" + \"id's must be globally unique within Data Router usages\");\n    if (isIndexRoute(route)) {\n      let indexRoute = _extends({}, route, mapRouteProperties(route), {\n        id\n      });\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = _extends({}, route, mapRouteProperties(route), {\n        id,\n        children: undefined\n      });\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties, treePath, manifest);\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/v6/utils/match-routes\n */\nfunction matchRoutes(routes, locationArg, basename) {\n  if (basename === void 0) {\n    basename = \"/\";\n  }\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(branches[i], decoded, allowPartial);\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let {\n    route,\n    pathname,\n    params\n  } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches, parentsMeta, parentPath) {\n  if (branches === void 0) {\n    branches = [];\n  }\n  if (parentsMeta === void 0) {\n    parentsMeta = [];\n  }\n  if (parentPath === void 0) {\n    parentPath = \"\";\n  }\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(meta.relativePath.startsWith(parentPath), \"Absolute route path \\\"\" + meta.relativePath + \"\\\" nested under path \" + (\"\\\"\" + parentPath + \"\\\" is not valid. An absolute child route path \") + \"must start with the combined path of all its parent routes.\");\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    // Add the children before adding this route to the array, so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n      // Our types know better, but runtime JS may not!\n      // @ts-expect-error\n      route.index !== true, \"Index routes must not have child routes. Please remove \" + (\"all child routes from route path \\\"\" + path + \"\\\".\"));\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    var _route$path;\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children, so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explode _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(...restExploded.map(subpath => subpath === \"\" ? required : [required, subpath].join(\"/\")));\n  // Then, if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map(exploded => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction rankRouteBranches(branches) {\n  branches.sort((a, b) => a.score !== b.score ? b.score - a.score // Higher score first\n  : compareIndexes(a.routesMeta.map(meta => meta.childrenIndex), b.routesMeta.map(meta => meta.childrenIndex)));\n}\nconst paramRe = /^:[\\w-]+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = s => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter(s => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue), initialScore);\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ?\n  // If two routes are siblings, we should try to match the earlier sibling\n  // first. This allows people to have fine-grained control over the matching\n  // behavior by simply putting routes with identical paths in the order they\n  // want them tried.\n  a[a.length - 1] - b[b.length - 1] :\n  // Otherwise, it doesn't really make sense to rank non-siblings by index,\n  // so they sort equally.\n  0;\n}\nfunction matchRouteBranch(branch, pathname, allowPartial) {\n  if (allowPartial === void 0) {\n    allowPartial = false;\n  }\n  let {\n    routesMeta\n  } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath({\n      path: meta.relativePath,\n      caseSensitive: meta.caseSensitive,\n      end\n    }, remainingPathname);\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath({\n        path: meta.relativePath,\n        caseSensitive: meta.caseSensitive,\n        end: false\n      }, remainingPathname);\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/v6/utils/generate-path\n */\nfunction generatePath(originalPath, params) {\n  if (params === void 0) {\n    params = {};\n  }\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(false, \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = p => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    // only apply the splat if it's the last segment\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      // Apply the splat\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, \"Missing \\\":\" + key + \"\\\" param\");\n      return stringify(param);\n    }\n    // Remove any optional markers from optional static segments\n    return segment.replace(/\\?$/g, \"\");\n  })\n  // Remove empty segments\n  .filter(segment => !!segment);\n  return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/v6/utils/match-path\n */\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = {\n      path: pattern,\n      caseSensitive: false,\n      end: true\n    };\n  }\n  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce((memo, _ref, index) => {\n    let {\n      paramName,\n      isOptional\n    } = _ref;\n    // We need to compute the pathnameBase here using the raw splat value\n    // instead of using params[\"*\"] later because it will be decoded then\n    if (paramName === \"*\") {\n      let splatValue = captureGroups[index] || \"\";\n      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n    }\n    const value = captureGroups[index];\n    if (isOptional && !value) {\n      memo[paramName] = undefined;\n    } else {\n      memo[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n    }\n    return memo;\n  }, {});\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive, end) {\n  if (caseSensitive === void 0) {\n    caseSensitive = false;\n  }\n  if (end === void 0) {\n    end = true;\n  }\n  warning(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n  .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n  .replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n  .replace(/\\/:([\\w-]+)(\\?)?/g, (_, paramName, isOptional) => {\n    params.push({\n      paramName,\n      isOptional: isOptional != null\n    });\n    return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n  });\n  if (path.endsWith(\"*\")) {\n    params.push({\n      paramName: \"*\"\n    });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n    : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex, so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else ;\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map(v => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(false, \"The URL path \\\"\" + value + \"\\\" could not be decoded because it is is a \" + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n    return value;\n  }\n}\n/**\n * @private\n */\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/v6/utils/resolve-path\n */\nfunction resolvePath(to, fromPathname) {\n  if (fromPathname === void 0) {\n    fromPathname = \"/\";\n  }\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach(segment => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + \"a string in <Link to=\\\"...\\\"> and the router will parse it for you.\";\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches) {\n  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);\n}\n// Return the array of pathnames for the current route matches - used to\n// generate the routePathnames input for resolveTo()\nfunction getResolveToMatches(matches, v7_relativeSplatPath) {\n  let pathMatches = getPathContributingMatches(matches);\n  // When v7_relativeSplatPath is enabled, use the full pathname for the leaf\n  // match so we include splat values for \".\" links.  See:\n  // https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329\n  if (v7_relativeSplatPath) {\n    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);\n  }\n  return pathMatches.map(match => match.pathnameBase);\n}\n/**\n * @private\n */\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {\n  if (isPathRelative === void 0) {\n    isPathRelative = false;\n  }\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = _extends({}, toArg);\n    invariant(!to.pathname || !to.pathname.includes(\"?\"), getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n    invariant(!to.pathname || !to.pathname.includes(\"#\"), getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n    invariant(!to.search || !to.search.includes(\"#\"), getInvalidPathError(\"#\", \"search\", \"hash\", to));\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    // With relative=\"route\" (the default), each leading .. segment means\n    // \"go up one route\" instead of \"go up one URL segment\".  This is a key\n    // difference from how <a href> works and a major reason we call this a\n    // \"to\" value instead of a \"href\".\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\n/**\n * @private\n */\nfunction getToPathname(to) {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? parsePath(to).pathname : to.pathname;\n}\n/**\n * @private\n */\nconst joinPaths = paths => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */\nconst normalizePathname = pathname => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */\nconst normalizeSearch = search => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */\nconst normalizeHash = hash => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n *\n * @deprecated The `json` method is deprecated in favor of returning raw objects.\n * This method will be removed in v7.\n */\nconst json = function json(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n  return new Response(JSON.stringify(data), _extends({}, responseInit, {\n    headers\n  }));\n};\nclass DataWithResponseInit {\n  constructor(data, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data;\n    this.init = init || null;\n  }\n}\n/**\n * Create \"responses\" that contain `status`/`headers` without forcing\n * serialization into an actual `Response` - used by Remix single fetch\n */\nfunction data(data, init) {\n  return new DataWithResponseInit(data, typeof init === \"number\" ? {\n    status: init\n  } : init);\n}\nclass AbortedDeferredError extends Error {}\nclass DeferredData {\n  constructor(data, responseInit) {\n    this.pendingKeysSet = new Set();\n    this.subscribers = new Set();\n    this.deferredKeys = [];\n    invariant(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject;\n    this.abortPromise = new Promise((_, r) => reject = r);\n    this.controller = new AbortController();\n    let onAbort = () => reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n    this.data = Object.entries(data).reduce((acc, _ref2) => {\n      let [key, value] = _ref2;\n      return Object.assign(acc, {\n        [key]: this.trackPromise(key, value)\n      });\n    }, {});\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n    this.init = responseInit;\n  }\n  trackPromise(key, value) {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise = Promise.race([value, this.abortPromise]).then(data => this.onSettle(promise, key, undefined, data), error => this.onSettle(promise, key, error));\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n    Object.defineProperty(promise, \"_tracked\", {\n      get: () => true\n    });\n    return promise;\n  }\n  onSettle(promise, key, error, data) {\n    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      return Promise.reject(error);\n    }\n    this.pendingKeysSet.delete(key);\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\"Deferred data for key \\\"\" + key + \"\\\" resolved/rejected with `undefined`, \" + \"you must resolve/reject with a value or `null`.\");\n      Object.defineProperty(promise, \"_error\", {\n        get: () => undefinedError\n      });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n    Object.defineProperty(promise, \"_data\", {\n      get: () => data\n    });\n    this.emit(false, key);\n    return data;\n  }\n  emit(aborted, settledKey) {\n    this.subscribers.forEach(subscriber => subscriber(aborted, settledKey));\n  }\n  subscribe(fn) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n  async resolveData(signal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise(resolve => {\n        this.subscribe(aborted => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n  get unwrappedData() {\n    invariant(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n    return Object.entries(this.data).reduce((acc, _ref3) => {\n      let [key, value] = _ref3;\n      return Object.assign(acc, {\n        [key]: unwrapTrackedPromise(value)\n      });\n    }, {});\n  }\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\nfunction isTrackedPromise(value) {\n  return value instanceof Promise && value._tracked === true;\n}\nfunction unwrapTrackedPromise(value) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n/**\n * @deprecated The `defer` method is deprecated in favor of returning raw\n * objects. This method will be removed in v7.\n */\nconst defer = function defer(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  return new DeferredData(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirect = function redirect(url, init) {\n  if (init === void 0) {\n    init = 302;\n  }\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = {\n      status: responseInit\n    };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, _extends({}, responseInit, {\n    headers\n  }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n/**\n * A redirect response that will perform a `history.replaceState` instead of a\n * `history.pushState` for client-side navigation redirects.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n *\n * We don't export the class for public use since it's an implementation\n * detail, but we export the interface above so folks can build their own\n * abstractions around instances via isRouteErrorResponse()\n */\nclass ErrorResponseImpl {\n  constructor(status, statusText, data, internal) {\n    if (internal === void 0) {\n      internal = false;\n    }\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\nconst validMutationMethodsArr = [\"post\", \"put\", \"patch\", \"delete\"];\nconst validMutationMethods = new Set(validMutationMethodsArr);\nconst validRequestMethodsArr = [\"get\", ...validMutationMethodsArr];\nconst validRequestMethods = new Set(validRequestMethodsArr);\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\nconst IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_FETCHER = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined\n};\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst defaultMapRouteProperties = route => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nconst TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n  const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n  invariant(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n  let mapRouteProperties;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Routes keyed by ID\n  let manifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties, undefined, manifest);\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategy;\n  let patchRoutesOnNavigationImpl = init.patchRoutesOnNavigation;\n  // Config driven behavior flags\n  let future = _extends({\n    v7_fetcherPersist: false,\n    v7_normalizeFormMethod: false,\n    v7_partialHydration: false,\n    v7_prependBasename: false,\n    v7_relativeSplatPath: false,\n    v7_skipActionErrorRevalidation: false\n  }, init.future);\n  // Cleanup function for history\n  let unlistenHistory = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  if (initialMatches == null && !patchRoutesOnNavigationImpl) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = {\n      [route.id]: error\n    };\n  }\n  // In SPA apps, if the user provided a patchRoutesOnNavigation implementation and\n  // our initial match is a splat route, clear them out so we run through lazy\n  // discovery on hydration in case there's a more accurate lazy route match.\n  // In SSR apps (with `hydrationData`), we expect that the server will send\n  // up the proper matched routes so we don't want to run lazy discovery on\n  // initial hydration and want to hydrate into the splat route.\n  if (initialMatches && !init.hydrationData) {\n    let fogOfWar = checkFogOfWar(initialMatches, dataRoutes, init.history.location.pathname);\n    if (fogOfWar.active) {\n      initialMatches = null;\n    }\n  }\n  let initialized;\n  if (!initialMatches) {\n    initialized = false;\n    initialMatches = [];\n    // If partial hydration and fog of war is enabled, we will be running\n    // `patchRoutesOnNavigation` during hydration so include any partial matches as\n    // the initial matches so we can properly render `HydrateFallback`'s\n    if (future.v7_partialHydration) {\n      let fogOfWar = checkFogOfWar(null, dataRoutes, init.history.location.pathname);\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatchesIsFOW = true;\n        initialMatches = fogOfWar.matches;\n      }\n    }\n  } else if (initialMatches.some(m => m.route.lazy)) {\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    initialized = false;\n  } else if (!initialMatches.some(m => m.route.loader)) {\n    // If we've got no loaders to run, then we're good to go\n    initialized = true;\n  } else if (future.v7_partialHydration) {\n    // If partial hydration is enabled, we're initialized so long as we were\n    // provided with hydrationData for every route with a loader, and no loaders\n    // were marked for explicit hydration\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    // If errors exist, don't consider routes below the boundary\n    if (errors) {\n      let idx = initialMatches.findIndex(m => errors[m.route.id] !== undefined);\n      initialized = initialMatches.slice(0, idx + 1).every(m => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    } else {\n      initialized = initialMatches.every(m => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    }\n  } else {\n    // Without partial hydration - we're initialized if we were provided any\n    // hydrationData - which is expected to be complete\n    initialized = init.hydrationData != null;\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map()\n  };\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction = Action.Pop;\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n  // AbortController for the active navigation\n  let pendingNavigationController;\n  // Should the current navigation enable document.startViewTransition?\n  let pendingViewTransitionEnabled = false;\n  // Store applied view transitions so we can apply them on POP\n  let appliedViewTransitions = new Map();\n  // Cleanup function for persisting applied transitions to sessionStorage\n  let removePageHideEventListener = null;\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes = [];\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads = new Set();\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map();\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map();\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set();\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map();\n  // Ref-count mounted fetchers so we know when it's ok to clean them up\n  let activeFetchers = new Map();\n  // Fetchers that have requested a delete when using v7_fetcherPersist,\n  // they'll be officially removed after they return to idle\n  let deletedFetchers = new Set();\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map();\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map();\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let unblockBlockerHistoryUpdate = undefined;\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(_ref => {\n      let {\n        action: historyAction,\n        location,\n        delta\n      } = _ref;\n      // Ignore this event if it was just us resetting the URL from a\n      // blocked POP navigation\n      if (unblockBlockerHistoryUpdate) {\n        unblockBlockerHistoryUpdate();\n        unblockBlockerHistoryUpdate = undefined;\n        return;\n      }\n      warning(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location \" + \"that was not created by @remix-run/router. This will fail silently in \" + \"production. This can happen if you are navigating outside the router \" + \"via `window.history.pushState`/`window.location.hash` instead of using \" + \"router navigation APIs.  This can also happen if you are using \" + \"createHashRouter and the user manually changes the URL.\");\n      let blockerKey = shouldBlockNavigation({\n        currentLocation: state.location,\n        nextLocation: location,\n        historyAction\n      });\n      if (blockerKey && delta != null) {\n        // Restore the URL to match the current UI, but don't update router state\n        let nextHistoryUpdatePromise = new Promise(resolve => {\n          unblockBlockerHistoryUpdate = resolve;\n        });\n        init.history.go(delta * -1);\n        // Put the blocker into a blocked state\n        updateBlocker(blockerKey, {\n          state: \"blocked\",\n          location,\n          proceed() {\n            updateBlocker(blockerKey, {\n              state: \"proceeding\",\n              proceed: undefined,\n              reset: undefined,\n              location\n            });\n            // Re-do the same POP navigation we just blocked, after the url\n            // restoration is also complete.  See:\n            // https://github.com/remix-run/react-router/issues/11613\n            nextHistoryUpdatePromise.then(() => init.history.go(delta));\n          },\n          reset() {\n            let blockers = new Map(state.blockers);\n            blockers.set(blockerKey, IDLE_BLOCKER);\n            updateState({\n              blockers\n            });\n          }\n        });\n        return;\n      }\n      return startNavigation(historyAction, location);\n    });\n    if (isBrowser) {\n      // FIXME: This feels gross.  How can we cleanup the lines between\n      // scrollRestoration/appliedTransitions persistance?\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(Action.Pop, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  // Subscribe to state updates for the router\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  // Update our state and notify the calling context of the change\n  function updateState(newState, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    state = _extends({}, state, newState);\n    // Prep fetcher cleanup so we can tell the UI which fetcher data entries\n    // can be removed\n    let completedFetchers = [];\n    let deletedFetchersKeys = [];\n    if (future.v7_fetcherPersist) {\n      state.fetchers.forEach((fetcher, key) => {\n        if (fetcher.state === \"idle\") {\n          if (deletedFetchers.has(key)) {\n            // Unmounted from the UI and can be totally removed\n            deletedFetchersKeys.push(key);\n          } else {\n            // Returned to idle but still mounted in the UI, so semi-remains for\n            // revalidations and such\n            completedFetchers.push(key);\n          }\n        }\n      });\n    }\n    // Remove any lingering deleted fetchers that have already been removed\n    // from state.fetchers\n    deletedFetchers.forEach(key => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        deletedFetchersKeys.push(key);\n      }\n    });\n    // Iterate over a local copy so that if flushSync is used and we end up\n    // removing and adding a new subscriber due to the useCallback dependencies,\n    // we don't get ourselves into a loop calling the new subscriber immediately\n    [...subscribers].forEach(subscriber => subscriber(state, {\n      deletedFetchers: deletedFetchersKeys,\n      viewTransitionOpts: opts.viewTransitionOpts,\n      flushSync: opts.flushSync === true\n    }));\n    // Remove idle fetchers from state since we only care about in-flight fetchers.\n    if (future.v7_fetcherPersist) {\n      completedFetchers.forEach(key => state.fetchers.delete(key));\n      deletedFetchersKeys.forEach(key => deleteFetcher(key));\n    } else {\n      // We already called deleteFetcher() on these, can remove them from this\n      // Set now that we've handed the keys off to the data layer\n      deletedFetchersKeys.forEach(key => deletedFetchers.delete(key));\n    }\n  }\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(location, newState, _temp) {\n    var _location$state, _location$state2;\n    let {\n      flushSync\n    } = _temp === void 0 ? {} : _temp;\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n    // Commit any in-flight routes at the end of the HMR revalidation \"navigation\"\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n    if (isUninterruptedRevalidation) ; else if (pendingAction === Action.Pop) ; else if (pendingAction === Action.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === Action.Replace) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    // On POP, enable transitions if they were enabled on the original navigation\n    if (pendingAction === Action.Pop) {\n      // Forward takes precedence so they behave like the original navigation\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        // If we don't have a previous forward nav, assume we're popping back to\n        // the new location and enable if that location previously enabled\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      // Store the applied transition on PUSH/REPLACE\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(_extends({}, newState, {\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n      preventScrollReset,\n      blockers\n    }), {\n      viewTransitionOpts,\n      flushSync: flushSync === true\n    });\n    // Reset stateful navigation vars\n    pendingAction = Action.Pop;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n  }\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, future.v7_relativeSplatPath, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = _extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n    let historyAction = Action.Push;\n    if (userReplace === true) {\n      historyAction = Action.Replace;\n    } else if (userReplace === false) ; else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = Action.Replace;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({\n            blockers\n          });\n        }\n      });\n      return;\n    }\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({\n      revalidation: \"loading\"\n    });\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return;\n    }\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n      overrideNavigation: state.navigation,\n      // Proxy through any rending view transition\n      enableViewTransition: pendingViewTransitionEnabled === true\n    });\n  }\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(historyAction, location, opts) {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts != null && opts.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ?\n    // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n    state.matches : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial hydration will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, {\n        matches\n      }, {\n        flushSync\n      });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let {\n        error,\n        notFoundMatches,\n        route\n      } = handleNavigational404(location.pathname);\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error\n        }\n      }, {\n        flushSync\n      });\n      return;\n    }\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingActionResult = [findNearestBoundary(matches).route.id, {\n        type: ResultType.error,\n        error: opts.pendingError\n      }];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      // Call action if we received an action submission\n      let actionResult = await handleAction(request, location, opts.submission, matches, fogOfWar.active, {\n        replace: opts.replace,\n        flushSync\n      });\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      // If we received a 404 from handleAction, it's because we couldn't lazily\n      // discover the destination route so we don't want to call loaders\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      // No need to do fog of war matching again on loader execution\n      fogOfWar.active = false;\n      // Create a GET request for the loaders\n      request = createClientSideRequest(init.history, request.url, request.signal);\n    }\n    // Call loaders\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(request, location, matches, fogOfWar.active, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, opts && opts.initialHydration === true, flushSync, pendingActionResult);\n    if (shortCircuited) {\n      return;\n    }\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n    completeNavigation(location, _extends({\n      matches: updatedMatches || matches\n    }, getActionDataForCommit(pendingActionResult), {\n      loaderData,\n      errors\n    }));\n  }\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(request, location, submission, matches, isFogOfWar, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    interruptActiveLoads();\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({\n      navigation\n    }, {\n      flushSync: opts.flushSync === true\n    });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(matches, location.pathname, request.signal);\n      if (discoverResult.type === \"aborted\") {\n        return {\n          shortCircuited: true\n        };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [boundaryId, {\n            type: ResultType.error,\n            error: discoverResult.error\n          }]\n        };\n      } else if (!discoverResult.matches) {\n        let {\n          notFoundMatches,\n          error,\n          route\n        } = handleNavigational404(location.pathname);\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [route.id, {\n            type: ResultType.error,\n            error\n          }]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    // Call our action and get the result\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let results = await callDataStrategy(\"action\", state, request, [actionMatch], matches, null);\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        return {\n          shortCircuited: true\n        };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        let location = normalizeRedirectLocation(result.response.headers.get(\"Location\"), new URL(request.url), basename);\n        replace = location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      // By default, all submissions to the current location are REPLACE\n      // navigations, but if the action threw an error that'll be rendered in\n      // an errorElement, we fall back to PUSH so that the user can use the\n      // back button to get back to the pre-submission form location to try\n      // again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = Action.Push;\n      }\n      return {\n        matches,\n        pendingActionResult: [boundaryMatch.route.id, result]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(request, location, matches, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace, initialHydration, flushSync, pendingActionResult) {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    // If we have partialHydration enabled, then don't update the state for the\n    // initial data load since it's not a \"navigation\"\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && (!future.v7_partialHydration || !initialHydration);\n    // When fog of war is enabled, we enter our `loading` state earlier so we\n    // can discover new routes during the `loading` state.  We skip this if\n    // we've already run actions since we would have done our matching already.\n    // If the children() function threw then, we want to proceed with the\n    // partial matches it discovered.\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(_extends({\n          navigation: loadingNavigation\n        }, actionData !== undefined ? {\n          actionData\n        } : {}), {\n          flushSync\n        });\n      }\n      let discoverResult = await discoverRoutes(matches, location.pathname, request.signal);\n      if (discoverResult.type === \"aborted\") {\n        return {\n          shortCircuited: true\n        };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let {\n          error,\n          notFoundMatches,\n          route\n        } = handleNavigational404(location.pathname);\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location, future.v7_partialHydration && initialHydration === true, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult);\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(routeId => !(matches && matches.some(m => m.route.id === routeId)) || matchesToLoad && matchesToLoad.some(m => m.route.id === routeId));\n    pendingNavigationLoadId = ++incrementingLoadId;\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, _extends({\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null\n      }, getActionDataForCommit(pendingActionResult), updatedFetchers ? {\n        fetchers: new Map(state.fetchers)\n      } : {}), {\n        flushSync\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        // Only update navigation/actionNData if we didn't already do it above\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== undefined) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, {\n        flushSync\n      });\n    }\n    revalidatingFetchers.forEach(rf => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(f => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    let {\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, request);\n    if (request.signal.aborted) {\n      return {\n        shortCircuited: true\n      };\n    }\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    revalidatingFetchers.forEach(rf => fetchControllers.delete(rf.key));\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(loaderResults);\n    if (redirect) {\n      await startRedirectNavigation(request, redirect.result, true, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    redirect = findRedirect(fetcherResults);\n    if (redirect) {\n      // If this redirect came from a fetcher make sure we mark it in\n      // fetchRedirectIds so it doesn't get revalidated on the next set of\n      // loader executions\n      fetchRedirectIds.add(redirect.key);\n      await startRedirectNavigation(request, redirect.result, true, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, loaderResults, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe(aborted => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n    // Preserve SSR errors during partial hydration\n    if (future.v7_partialHydration && initialHydration && state.errors) {\n      errors = _extends({}, state.errors, errors);\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return _extends({\n      matches,\n      loaderData,\n      errors\n    }, shouldUpdateFetchers ? {\n      fetchers: new Map(state.fetchers)\n    } : {});\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      // This is cast to `any` currently because `RouteData`uses any and it\n      // would be a breaking change to use any.\n      // TODO: v7 - change `RouteData` to use `unknown` instead of `any`\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach(rf => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(key, routeId, href, opts) {\n    if (isServer) {\n      throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. \" + \"You are likely calling a useFetcher() method in the body of your component. \" + \"Try moving it to a useEffect or a callback.\");\n    }\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, future.v7_relativeSplatPath, routeId, opts == null ? void 0 : opts.relative);\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(key, routeId, getInternalRouterError(404, {\n        pathname: normalizedPath\n      }), {\n        flushSync\n      });\n      return;\n    }\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n    if (error) {\n      setFetcherError(key, routeId, error, {\n        flushSync\n      });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, fogOfWar.active, flushSync, preventScrollReset, submission);\n      return;\n    }\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, {\n      routeId,\n      path\n    });\n    handleFetcherLoader(key, routeId, path, match, matches, fogOfWar.active, flushSync, preventScrollReset, submission);\n  }\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId: routeId\n        });\n        setFetcherError(key, routeId, error, {\n          flushSync\n        });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(requestMatches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, {\n          flushSync\n        });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(key, routeId, getInternalRouterError(404, {\n          pathname: path\n        }), {\n          flushSync\n        });\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    // Call the action for the fetcher\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\"action\", state, fetchRequest, [match], requestMatches, key);\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    // When using v7_fetcherPersist, we don't want errors bubbling up to the UI\n    // or redirects processed for unmounted fetchers so we just revert them to\n    // idle\n    if (future.v7_fetcherPersist && deletedFetchers.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      }\n      // Let SuccessResult's fall through for revalidation\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          // A new navigation was kicked off after our action started, so that\n          // should take precedence over this redirect navigation.  We already\n          // set isRevalidationRequired so all loaders for the new route should\n          // fire unless opted out via shouldRevalidate\n          updateFetcherState(key, getDoneFetcher(undefined));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      // Process any non-redirect errors thrown\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, false, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, [match.route.id, actionResult]);\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers.filter(rf => rf.key !== key).forEach(rf => {\n      let staleKey = rf.key;\n      let existingFetcher = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(rf => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    let {\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach(r => fetchControllers.delete(r.key));\n    let redirect = findRedirect(loaderResults);\n    if (redirect) {\n      return startRedirectNavigation(revalidationRequest, redirect.result, false, {\n        preventScrollReset\n      });\n    }\n    redirect = findRedirect(fetcherResults);\n    if (redirect) {\n      // If this redirect came from a fetcher make sure we mark it in\n      // fetchRedirectIds so it doesn't get revalidated on the next set of\n      // loader executions\n      fetchRedirectIds.add(redirect.key);\n      return startRedirectNavigation(revalidationRequest, redirect.result, false, {\n        preventScrollReset\n      });\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    abortStaleFetchLoads(loadId);\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(key, routeId, path, match, matches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(matches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, {\n          flushSync\n        });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(key, routeId, getInternalRouterError(404, {\n          pathname: path\n        }), {\n          flushSync\n        });\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    // Call the loader for this fetcher route match\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\"loader\", state, fetchRequest, [match], matches, key);\n    let result = results[match.route.id];\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result = (await resolveDeferredData(result, fetchRequest.signal, true)) || result;\n    }\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    // We don't want errors bubbling up or redirects followed for unmounted\n    // fetchers, so short circuit here if it was removed from the UI\n    if (deletedFetchers.has(key)) {\n      updateFetcherState(key, getDoneFetcher(undefined));\n      return;\n    }\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n    // Put the fetcher back into an idle state\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(request, redirect, isNavigation, _temp2) {\n    let {\n      submission,\n      fetcherSubmission,\n      preventScrollReset,\n      replace\n    } = _temp2 === void 0 ? {} : _temp2;\n    if (redirect.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(location, new URL(request.url), basename);\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser) {\n      let isDocumentReload = false;\n      if (redirect.response.headers.has(\"X-Remix-Reload-Document\")) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload =\n        // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin ||\n        // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n    let redirectHistoryAction = replace === true || redirect.response.headers.has(\"X-Remix-Replace\") ? Action.Replace : Action.Push;\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let {\n      formMethod,\n      formAction,\n      formEncType\n    } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: _extends({}, activeSubmission, {\n          formAction: location\n        }),\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined\n      });\n    } else {\n      // If we have a navigation submission, we will preserve it through the\n      // redirect navigation\n      let overrideNavigation = getLoadingNavigation(redirectLocation, submission);\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined\n      });\n    }\n  }\n  // Utility wrapper for calling dataStrategy client-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(type, state, request, matchesToLoad, matches, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties);\n    } catch (e) {\n      // If the outer dataStrategy method throws, just return the error for all\n      // matches - and it'll naturally bubble to the root\n      matchesToLoad.forEach(m => {\n        dataResults[m.route.id] = {\n          type: ResultType.error,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResultResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: ResultType.redirect,\n          response: normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, future.v7_relativeSplatPath)\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(state, matches, matchesToLoad, fetchersToLoad, request) {\n    let currentMatches = state.matches;\n    // Kick off loaders and fetchers in parallel\n    let loaderResultsPromise = callDataStrategy(\"loader\", state, request, matchesToLoad, matches, null);\n    let fetcherResultsPromise = Promise.all(fetchersToLoad.map(async f => {\n      if (f.matches && f.match && f.controller) {\n        let results = await callDataStrategy(\"loader\", state, createClientSideRequest(init.history, f.path, f.controller.signal), [f.match], f.matches, f.key);\n        let result = results[f.match.route.id];\n        // Fetcher results are keyed by fetcher key from here on out, not routeId\n        return {\n          [f.key]: result\n        };\n      } else {\n        return Promise.resolve({\n          [f.key]: {\n            type: ResultType.error,\n            error: getInternalRouterError(404, {\n              pathname: f.path\n            })\n          }\n        });\n      }\n    }));\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce((acc, r) => Object.assign(acc, r), {});\n    await Promise.all([resolveNavigationDeferredResults(matches, loaderResults, request.signal, currentMatches, state.loaderData), resolveFetcherDeferredResults(matches, fetcherResults, fetchersToLoad)]);\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    state.fetchers.set(key, fetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    }, {\n      flushSync: (opts && opts.flushSync) === true\n    });\n  }\n  function setFetcherError(key, routeId, error, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error\n      },\n      fetchers: new Map(state.fetchers)\n    }, {\n      flushSync: (opts && opts.flushSync) === true\n    });\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    // If this fetcher was previously marked for deletion, unmark it since we\n    // have a new instance\n    if (deletedFetchers.has(key)) {\n      deletedFetchers.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    // If we opted into the flag we can clear this now since we're calling\n    // deleteFetcher() at the end of updateState() and we've already handed the\n    // deleted fetcher keys off to the data layer.\n    // If not, we're eagerly calling deleteFetcher() and we need to keep this\n    // Set populated until the next updateState call, and we'll clear\n    // `deletedFetchers` then\n    if (future.v7_fetcherPersist) {\n      deletedFetchers.delete(key);\n    }\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function deleteFetcherAndUpdateState(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      deletedFetchers.add(key);\n      if (!future.v7_fetcherPersist) {\n        deleteFetcher(key);\n      }\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, \"Expected fetcher: \" + key);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, \"Expected fetcher: \" + key);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({\n      blockers\n    });\n  }\n  function shouldBlockNavigation(_ref2) {\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = _ref2;\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({\n      currentLocation,\n      nextLocation,\n      historyAction\n    })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, {\n      pathname\n    });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(routesToUse);\n    // Cancel all pending deferred on 404s since we don't keep any routes\n    cancelActiveDeferreds();\n    return {\n      notFoundMatches: matches,\n      route,\n      error\n    };\n  }\n  function cancelActiveDeferreds(predicate) {\n    let cancelledRouteIds = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({\n          restoreScrollPosition: y\n        });\n      }\n    }\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(location, matches.map(m => convertRouteMatchToUiMatch(m, state.loaderData)));\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (patchRoutesOnNavigationImpl) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n        return {\n          active: true,\n          matches: fogMatches || []\n        };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          // If we matched a dynamic param or a splat, it might only be because\n          // we haven't yet discovered other routes that would match with a\n          // higher score.  Call patchRoutesOnNavigation just to be sure\n          let partialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n          return {\n            active: true,\n            matches: partialMatches\n          };\n        }\n      }\n    }\n    return {\n      active: false,\n      matches: null\n    };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!patchRoutesOnNavigationImpl) {\n      return {\n        type: \"success\",\n        matches\n      };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await patchRoutesOnNavigationImpl({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(routeId, children, routesToUse, localManifest, mapRouteProperties);\n          }\n        });\n      } catch (e) {\n        return {\n          type: \"error\",\n          error: e,\n          partialMatches\n        };\n      } finally {\n        // If we are not in the middle of an HMR revalidation and we changed the\n        // routes, provide a new identity so when we `updateState` at the end of\n        // this navigation/fetch `router.routes` will be a new identity and\n        // trigger a re-run of memoized `router.routes` dependencies.\n        // HMR will already update the identity and reflow when it lands\n        // `inFlightDataRoutes` in `completeNavigation`\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return {\n          type: \"aborted\"\n        };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return {\n          type: \"success\",\n          matches: newMatches\n        };\n      }\n      let newPartialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n      // Avoid loops if the second pass results in the same partial matches\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every((m, i) => m.route.id === newPartialMatches[i].route.id)) {\n        return {\n          type: \"success\",\n          matches: null\n        };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties, undefined, manifest);\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties);\n    // If we are not in the middle of an HMR revalidation and we changed the\n    // routes, provide a new identity and trigger a reflow via `updateState`\n    // to re-run memoized `router.routes` dependencies.\n    // HMR will already update the identity and reflow when it lands\n    // `inFlightDataRoutes` in `completeNavigation`\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: to => init.history.createHref(to),\n    encodeLocation: to => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: deleteFetcherAndUpdateState,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\nfunction createStaticHandler(routes, opts) {\n  invariant(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties;\n  if (opts != null && opts.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts != null && opts.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Config driven behavior flags\n  let future = _extends({\n    v7_relativeSplatPath: false,\n    v7_throwAbortReason: false\n  }, opts ? opts.future : null);\n  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, undefined, manifest);\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   *\n   * - `opts.requestContext` is an optional server context that will be passed\n   *   to actions/loaders in the `context` parameter\n   * - `opts.skipLoaderErrorBubbling` is an optional parameter that will prevent\n   *   the bubbling of errors which allows single-fetch-type implementations\n   *   where the client will handle the bubbling and we may need to return data\n   *   for the handling route\n   */\n  async function query(request, _temp3) {\n    let {\n      requestContext,\n      skipLoaderErrorBubbling,\n      dataStrategy\n    } = _temp3 === void 0 ? {} : _temp3;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, {\n        method\n      });\n      let {\n        matches: methodNotAllowedMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let result = await queryImpl(request, location, matches, requestContext, dataStrategy || null, skipLoaderErrorBubbling === true, null);\n    if (isResponse(result)) {\n      return result;\n    }\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return _extends({\n      location,\n      basename\n    }, result);\n  }\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   *\n   * - `opts.routeId` allows you to specify the specific route handler to call.\n   *   If not provided the handler will determine the proper route by matching\n   *   against `request.url`\n   * - `opts.requestContext` is an optional server context that will be passed\n   *    to actions/loaders in the `context` parameter\n   */\n  async function queryRoute(request, _temp4) {\n    let {\n      routeId,\n      requestContext,\n      dataStrategy\n    } = _temp4 === void 0 ? {} : _temp4;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, {\n        method\n      });\n    } else if (!matches) {\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let match = routeId ? matches.find(m => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let result = await queryImpl(request, location, matches, requestContext, dataStrategy || null, false, match);\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      var _result$activeDeferre;\n      let data = Object.values(result.loaderData)[0];\n      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n    return undefined;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch) {\n    invariant(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch != null);\n        return result;\n      }\n      let result = await loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch);\n      return isResponse(result) ? result : _extends({}, result, {\n        actionData: null,\n        actionHeaders: {}\n      });\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction for a\n      // `queryRoute` call, we throw the `DataStrategyResult` to bail out early\n      // and then return or throw the raw Response here accordingly\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === ResultType.error) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    } else {\n      let results = await callDataStrategy(\"action\", request, [actionMatch], matches, isRouteRequest, requestContext, dataStrategy);\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest, future);\n      }\n    }\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    }\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: {\n          [actionMatch.route.id]: result.data\n        },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null, [boundaryMatch.route.id, result]);\n      // action status codes take precedence over loader status codes\n      return _extends({}, context, {\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: _extends({}, result.headers ? {\n          [actionMatch.route.id]: result.headers\n        } : {})\n      });\n    }\n    let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null);\n    return _extends({}, context, {\n      actionData: {\n        [actionMatch.route.id]: result.data\n      }\n    }, result.statusCode ? {\n      statusCode: result.statusCode\n    } : {}, {\n      actionHeaders: result.headers ? {\n        [actionMatch.route.id]: result.headers\n      } : {}\n    });\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch == null ? void 0 : routeMatch.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;\n    let matchesToLoad = requestMatches.filter(m => m.route.loader || m.route.lazy);\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce((acc, m) => Object.assign(acc, {\n          [m.route.id]: null\n        }), {}),\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let results = await callDataStrategy(\"loader\", request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy);\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest, future);\n    }\n    // Process and commit output from loaders\n    let activeDeferreds = new Map();\n    let context = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling);\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set(matchesToLoad.map(match => match.route.id));\n    matches.forEach(match => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return _extends({}, context, {\n      matches,\n      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n    });\n  }\n  // Utility wrapper for calling dataStrategy server-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(dataStrategy || defaultDataStrategy, type, null, request, matchesToLoad, matches, null, manifest, mapRouteProperties, requestContext);\n    let dataResults = {};\n    await Promise.all(matches.map(async match => {\n      if (!(match.route.id in results)) {\n        return;\n      }\n      let result = results[match.route.id];\n      if (isRedirectDataStrategyResultResult(result)) {\n        let response = result.result;\n        // Throw redirects and let the server handle them with an HTTP redirect\n        throw normalizeRelativeRoutingRedirectResponse(response, request, match.route.id, matches, basename, future.v7_relativeSplatPath);\n      }\n      if (isResponse(result.result) && isRouteRequest) {\n        // For SSR single-route requests, we want to hand Responses back\n        // directly without unwrapping\n        throw result;\n      }\n      dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n    }));\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = _extends({}, context, {\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  });\n  return newContext;\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest, future) {\n  if (future.v7_throwAbortReason && request.signal.reason !== undefined) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(method + \"() call aborted: \" + request.method + \" \" + request.url);\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction normalizeTo(location, matches, basename, prependBasename, to, v7_relativeSplatPath, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  // Resolve the relative path\n  let path = resolveTo(to ? to : \".\", getResolveToMatches(contextualMatches, v7_relativeSplatPath), stripBasename(location.pathname, basename) || location.pathname, relative === \"path\");\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  // Account for `?index` params when routing to the current location\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      // Add one when we're targeting an index route\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      // Remove existing ones when we're not\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return {\n      path\n    };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, {\n        method: opts.formMethod\n      })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, {\n      type: \"invalid-body\"\n    })\n  });\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n      Array.from(opts.body.entries()).reduce((acc, _ref3) => {\n        let [name, value] = _ref3;\n        return \"\" + acc + name + \"=\" + value + \"\\n\";\n      }, \"\") : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(typeof FormData === \"function\", \"FormData is not available in this environment\");\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return {\n      path,\n      submission\n    };\n  }\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = \"?\" + searchParams;\n  return {\n    path: createPath(parsedPath),\n    submission\n  };\n}\n// Filter out all routes at/below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary) {\n  if (includeBoundary === void 0) {\n    includeBoundary = false;\n  }\n  let index = matches.findIndex(m => m.route.id === boundaryId);\n  if (index >= 0) {\n    return matches.slice(0, includeBoundary ? index + 1 : index);\n  }\n  return matches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, initialHydration, skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryMatches = matches;\n  if (initialHydration && state.errors) {\n    // On initial hydration, only consider matches up to _and including_ the boundary.\n    // This is inclusive to handle cases where a server loader ran successfully,\n    // a child server loader bubbled up to this route, but this route has\n    // `clientLoader.hydrate` so we want to still run the `clientLoader` so that\n    // we have a complete version of `loaderData`\n    boundaryMatches = getLoaderMatchesUntilBoundary(matches, Object.keys(state.errors)[0], true);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    // If an action threw an error, we call loaders up to, but not including the\n    // boundary\n    boundaryMatches = getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]);\n  }\n  // Don't revalidate loaders by default after action 4xx/5xx responses\n  // when the flag is enabled.  They can still opt-into revalidation via\n  // `shouldRevalidate` via `actionResult`\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : undefined;\n  let shouldSkipRevalidation = skipActionErrorRevalidation && actionStatus && actionStatus >= 400;\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let {\n      route\n    } = match;\n    if (route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (route.loader == null) {\n      return false;\n    }\n    if (initialHydration) {\n      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);\n    }\n    // Always call the loader on new route instances and pending defer cancellations\n    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some(id => id === match.route.id)) {\n      return true;\n    }\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, _extends({\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params\n    }, submission, {\n      actionResult,\n      actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation ? false :\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||\n      // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n    }));\n  });\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate:\n    //  - on initial hydration (shouldn't be any fetchers then anyway)\n    //  - if fetcher won't be present in the subsequent render\n    //    - no longer matches the URL (v7_fetcherPersist=false)\n    //    - was unmounted but persisted due to v7_fetcherPersist=true\n    if (initialHydration || !matches.some(m => m.route.id === f.routeId) || deletedFetchers.has(key)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.has(key)) {\n      // Always mark for revalidation if the fetcher was cancelled\n      cancelledFetcherLoads.delete(key);\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends({\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params\n      }, submission, {\n        actionResult,\n        actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      }));\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  // We dunno if we have a loader - gotta find out!\n  if (route.lazy) {\n    return true;\n  }\n  // No loader, nothing to initialize\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && loaderData[route.id] !== undefined;\n  let hasError = errors != null && errors[route.id] !== undefined;\n  // Don't run if we error'd during SSR\n  if (!hasData && hasError) {\n    return false;\n  }\n  // Explicitly opting-in to running on hydration\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  // Otherwise, run if we're not yet initialized with anything\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew =\n  // [a] -> [a, b]\n  !currentMatch ||\n  // [a, b] -> [a, c]\n  match.route.id !== currentMatch.route.id;\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties) {\n  var _childrenToPatch;\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(route, \"No route found to patch children into: routeId = \" + routeId);\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  // Don't patch in routes we already know about so that `patch` is idempotent\n  // to simplify user-land code. This is useful because we re-call the\n  // `patchRoutesOnNavigation` function for matched routes with params.\n  let uniqueChildren = children.filter(newRoute => !childrenToPatch.some(existingRoute => isSameRoute(newRoute, existingRoute)));\n  let newRoutes = convertRoutesToDataRoutes(uniqueChildren, mapRouteProperties, [routeId || \"_\", \"patch\", String(((_childrenToPatch = childrenToPatch) == null ? void 0 : _childrenToPatch.length) || \"0\")], manifest);\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  // Most optimal check is by id\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  // Second is by pathing differences\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  // Pathless layout routes are trickier since we need to check children.\n  // If they have no children then they're the same as far as we can tell\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  // Otherwise, we look to see if every child in the new route is already\n  // represented in the existing route's children\n  return newRoute.children.every((aChild, i) => {\n    var _existingRoute$childr;\n    return (_existingRoute$childr = existingRoute.children) == null ? void 0 : _existingRoute$childr.some(bChild => isSameRoute(aChild, bChild));\n  });\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(route, mapRouteProperties, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== undefined &&\n    // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(!isPropertyStaticallyDefined, \"Route \\\"\" + routeToUpdate.id + \"\\\" has a static property \\\"\" + lazyRouteProperty + \"\\\" \" + \"defined but its lazy function is also returning a value for this property. \" + (\"The lazy route property \\\"\" + lazyRouteProperty + \"\\\" will be ignored.\"));\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, _extends({}, mapRouteProperties(routeToUpdate), {\n    lazy: undefined\n  }));\n}\n// Default implementation of `dataStrategy` which fetches all loaders in parallel\nasync function defaultDataStrategy(_ref4) {\n  let {\n    matches\n  } = _ref4;\n  let matchesToLoad = matches.filter(m => m.shouldLoad);\n  let results = await Promise.all(matchesToLoad.map(m => m.resolve()));\n  return results.reduce((acc, result, i) => Object.assign(acc, {\n    [matchesToLoad[i].route.id]: result\n  }), {});\n}\nasync function callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties, requestContext) {\n  let loadRouteDefinitionsPromises = matches.map(m => m.route.lazy ? loadLazyRouteModule(m.route, mapRouteProperties, manifest) : undefined);\n  let dsMatches = matches.map((match, i) => {\n    let loadRoutePromise = loadRouteDefinitionsPromises[i];\n    let shouldLoad = matchesToLoad.some(m => m.route.id === match.route.id);\n    // `resolve` encapsulates route.lazy(), executing the loader/action,\n    // and mapping return values/thrown errors to a `DataStrategyResult`.  Users\n    // can pass a callback to take fine-grained control over the execution\n    // of the loader/action\n    let resolve = async handlerOverride => {\n      if (handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        shouldLoad = true;\n      }\n      return shouldLoad ? callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, requestContext) : Promise.resolve({\n        type: ResultType.data,\n        result: undefined\n      });\n    };\n    return _extends({}, match, {\n      shouldLoad,\n      resolve\n    });\n  });\n  // Send all matches here to allow for a middleware-type implementation.\n  // handler will be a no-op for unneeded routes and we filter those results\n  // back out below.\n  let results = await dataStrategyImpl({\n    matches: dsMatches,\n    request,\n    params: matches[0].params,\n    fetcherKey,\n    context: requestContext\n  });\n  // Wait for all routes to load here but 'swallow the error since we want\n  // it to bubble up from the `await loadRoutePromise` in `callLoaderOrAction` -\n  // called from `match.resolve()`\n  try {\n    await Promise.all(loadRouteDefinitionsPromises);\n  } catch (e) {\n    // No-op\n  }\n  return results;\n}\n// Default logic for calling a loader/action is the user has no specified a dataStrategy\nasync function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, staticContext) {\n  let result;\n  let onReject;\n  let runHandler = handler => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject;\n    // This will never resolve so safe to type it as Promise<DataStrategyResult> to\n    // satisfy the function return value\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = ctx => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(new Error(\"You cannot call the handler for a route which defines a boolean \" + (\"\\\"\" + type + \"\\\" [routeId: \" + match.route.id + \"]\")));\n      }\n      return handler({\n        request,\n        params: match.params,\n        context: staticContext\n      }, ...(ctx !== undefined ? [ctx] : []));\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride(ctx => actualHandler(ctx)) : actualHandler());\n        return {\n          type: \"data\",\n          result: val\n        };\n      } catch (e) {\n        return {\n          type: \"error\",\n          result: e\n        };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    // If we have a route.lazy promise, await that first\n    if (loadRoutePromise) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let handlerError;\n        let [value] = await Promise.all([\n        // If the handler throws, don't let it immediately bubble out,\n        // since we need to let the lazy() execution finish so we know if this\n        // route has a boundary that can handle the error\n        runHandler(handler).catch(e => {\n          handlerError = e;\n        }), loadRoutePromise]);\n        if (handlerError !== undefined) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadRoutePromise;\n        handler = match.route[type];\n        if (handler) {\n          // Handler still runs even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return {\n            type: ResultType.data,\n            result: undefined\n          };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n    invariant(result.result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + (\"\\\"\" + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n  } catch (e) {\n    // We should already be catching and converting normal handler executions to\n    // DataStrategyResults and returning them, so anything that throws here is an\n    // unexpected error we still need to wrap\n    return {\n      type: ResultType.error,\n      result: e\n    };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let {\n    result,\n    type\n  } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      // Check between word boundaries instead of startsWith() due to the last\n      // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data = null;\n        } else {\n          data = await result.json();\n        }\n      } else {\n        data = await result.text();\n      }\n    } catch (e) {\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n    if (type === ResultType.error) {\n      return {\n        type: ResultType.error,\n        error: new ErrorResponseImpl(result.status, result.statusText, data),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === ResultType.error) {\n    if (isDataWithResponseInit(result)) {\n      var _result$init3, _result$init4;\n      if (result.data instanceof Error) {\n        var _result$init, _result$init2;\n        return {\n          type: ResultType.error,\n          error: result.data,\n          statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n          headers: (_result$init2 = result.init) != null && _result$init2.headers ? new Headers(result.init.headers) : undefined\n        };\n      }\n      // Convert thrown data() to ErrorResponse instances\n      return {\n        type: ResultType.error,\n        error: new ErrorResponseImpl(((_result$init3 = result.init) == null ? void 0 : _result$init3.status) || 500, undefined, result.data),\n        statusCode: isRouteErrorResponse(result) ? result.status : undefined,\n        headers: (_result$init4 = result.init) != null && _result$init4.headers ? new Headers(result.init.headers) : undefined\n      };\n    }\n    return {\n      type: ResultType.error,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : undefined\n    };\n  }\n  if (isDeferredData(result)) {\n    var _result$init5, _result$init6;\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: (_result$init5 = result.init) == null ? void 0 : _result$init5.status,\n      headers: ((_result$init6 = result.init) == null ? void 0 : _result$init6.headers) && new Headers(result.init.headers)\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    var _result$init7, _result$init8;\n    return {\n      type: ResultType.data,\n      data: result.data,\n      statusCode: (_result$init7 = result.init) == null ? void 0 : _result$init7.status,\n      headers: (_result$init8 = result.init) != null && _result$init8.headers ? new Headers(result.init.headers) : undefined\n    };\n  }\n  return {\n    type: ResultType.data,\n    data: result\n  };\n}\n// Support relative routing in internal redirects\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, v7_relativeSplatPath) {\n  let location = response.headers.get(\"Location\");\n  invariant(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1);\n    location = normalizeTo(new URL(request.url), trimmedMatches, basename, true, location, v7_relativeSplatPath);\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    // Strip off the protocol+origin for same-origin + same-basename absolute redirects\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = {\n    signal\n  };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let {\n      formMethod,\n      formEncType\n    } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({\n        \"Content-Type\": formEncType\n      });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling) {\n  // Fill in loaderData/errors from our loaders\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : undefined;\n  // Process loader results into state.loaderData/state.errors\n  matches.forEach(match => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(!isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n    if (isErrorResult(result)) {\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError !== undefined) {\n        error = pendingError;\n        pendingError = undefined;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        // Look upwards from the matched route for the closest ancestor error\n        // boundary, defaulting to the root match.  Prefer higher error values\n        // if lower errors bubble to the same boundary\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode != null && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      } else {\n        loaderData[id] = result.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      }\n    }\n  });\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError !== undefined && pendingActionResult) {\n    errors = {\n      [pendingActionResult[0]]: pendingError\n    };\n    loaderData[pendingActionResult[0]] = undefined;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds) {\n  let {\n    loaderData,\n    errors\n  } = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, false // This method is only called client side so we always want to bubble\n  );\n  // Process results from our revalidating fetchers\n  revalidatingFetchers.forEach(rf => {\n    let {\n      key,\n      match,\n      controller\n    } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = _extends({}, errors, {\n          [boundaryMatch.route.id]: result.error\n        });\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return {\n    loaderData,\n    errors\n  };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = _extends({}, newLoaderData);\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find(m => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.length === 1 ? routes[0] : routes.find(r => r.index || !r.path || r.path === \"/\") || {\n    id: \"__shim-error-route__\"\n  };\n  return {\n    matches: [{\n      params: {},\n      pathname: \"\",\n      pathnameBase: \"\",\n      route\n    }],\n    route\n  };\n}\nfunction getInternalRouterError(status, _temp5) {\n  let {\n    pathname,\n    routeId,\n    method,\n    type,\n    message\n  } = _temp5 === void 0 ? {} : _temp5;\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide a `loader` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = \"Route \\\"\" + routeId + \"\\\" does not match URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = \"No route matches URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method.toUpperCase() + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide an `action` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (method) {\n      errorMessage = \"Invalid request method \\\"\" + method.toUpperCase() + \"\\\"\";\n    }\n  }\n  return new ErrorResponseImpl(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return {\n        key,\n        result\n      };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath(_extends({}, parsedPath, {\n    hash: \"\"\n  }));\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === ResultType.data || result.type === ResultType.error);\n}\nfunction isRedirectDataStrategyResultResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isDeferredResult(result) {\n  return result.type === ResultType.deferred;\n}\nfunction isErrorResult(result) {\n  return result.type === ResultType.error;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === ResultType.redirect;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isDeferredData(value) {\n  let deferred = value;\n  return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectResponse(result) {\n  if (!isResponse(result)) {\n    return false;\n  }\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toLowerCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toLowerCase());\n}\nasync function resolveNavigationDeferredResults(matches, results, signal, currentMatches, currentLoaderData) {\n  let entries = Object.entries(results);\n  for (let index = 0; index < entries.length; index++) {\n    let [routeId, result] = entries[index];\n    let match = matches.find(m => (m == null ? void 0 : m.route.id) === routeId);\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    let currentMatch = currentMatches.find(m => m.route.id === match.route.id);\n    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n    if (isDeferredResult(result) && isRevalidatingLoader) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      await resolveDeferredData(result, signal, false).then(result => {\n        if (result) {\n          results[routeId] = result;\n        }\n      });\n    }\n  }\n}\nasync function resolveFetcherDeferredResults(matches, results, revalidatingFetchers) {\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let {\n      key,\n      routeId,\n      controller\n    } = revalidatingFetchers[index];\n    let result = results[key];\n    let match = matches.find(m => (m == null ? void 0 : m.route.id) === routeId);\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    if (isDeferredResult(result)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      invariant(controller, \"Expected an AbortController for revalidating fetcher deferred result\");\n      await resolveDeferredData(result, controller.signal, true).then(result => {\n        if (result) {\n          results[key] = result;\n        }\n      });\n    }\n  }\n}\nasync function resolveDeferredData(result, signal, unwrap) {\n  if (unwrap === void 0) {\n    unwrap = false;\n  }\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n  }\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data\n  };\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some(v => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let {\n    formMethod,\n    formAction,\n    formEncType,\n    text,\n    formData,\n    json\n  } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n    // no-op, use default empty object\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY, JSON.stringify(json));\n    } catch (error) {\n      warning(false, \"Failed to save applied view transitions in sessionStorage (\" + error + \").\");\n    }\n  }\n}\n//#endregion\n\nexport { AbortedDeferredError, Action, IDLE_BLOCKER, IDLE_FETCHER, IDLE_NAVIGATION, UNSAFE_DEFERRED_SYMBOL, DeferredData as UNSAFE_DeferredData, ErrorResponseImpl as UNSAFE_ErrorResponseImpl, convertRouteMatchToUiMatch as UNSAFE_convertRouteMatchToUiMatch, convertRoutesToDataRoutes as UNSAFE_convertRoutesToDataRoutes, decodePath as UNSAFE_decodePath, getResolveToMatches as UNSAFE_getResolveToMatches, invariant as UNSAFE_invariant, warning as UNSAFE_warning, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, createRouter, createStaticHandler, data, defer, generatePath, getStaticContextFromError, getToPathname, isDataWithResponseInit, isDeferredData, isRouteErrorResponse, joinPaths, json, matchPath, matchRoutes, normalizePathname, parsePath, redirect, redirectDocument, replace, resolvePath, resolveTo, stripBasename };\n//# sourceMappingURL=router.js.map\n","/**\n * React Router v6.30.1\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_invariant, joinPaths, matchPath, UNSAFE_decodePath, UNSAFE_getResolveToMatches, UNSAFE_warning, resolveTo, parsePath, matchRoutes, Action, UNSAFE_convertRouteMatchToUiMatch, stripBasename, IDLE_BLOCKER, isRouteErrorResponse, createMemoryHistory, AbortedDeferredError, createRouter } from '@remix-run/router';\nexport { AbortedDeferredError, Action as NavigationType, createPath, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, replace, resolvePath } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst DataRouterContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterContext.displayName = \"DataRouter\";\n}\nconst DataRouterStateContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\nconst AwaitContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  AwaitContext.displayName = \"Await\";\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level `<Router>` API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\n\nconst NavigationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  NavigationContext.displayName = \"Navigation\";\n}\nconst LocationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  LocationContext.displayName = \"Location\";\n}\nconst RouteContext = /*#__PURE__*/React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  RouteContext.displayName = \"Route\";\n}\nconst RouteErrorContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/v6/hooks/use-href\n */\nfunction useHref(to, _temp) {\n  let {\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useHref() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    hash,\n    pathname,\n    search\n  } = useResolvedPath(to, {\n    relative\n  });\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({\n    pathname: joinedPathname,\n    search,\n    hash\n  });\n}\n\n/**\n * Returns true if this component is a descendant of a `<Router>`.\n *\n * @see https://reactrouter.com/v6/hooks/use-in-router-context\n */\nfunction useInRouterContext() {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/v6/hooks/use-location\n */\nfunction useLocation() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useLocation() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/v6/hooks/use-navigation-type\n */\nfunction useNavigationType() {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * `<NavLink>`.\n *\n * @see https://reactrouter.com/v6/hooks/use-match\n */\nfunction useMatch(pattern) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useMatch() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    pathname\n  } = useLocation();\n  return React.useMemo(() => matchPath(pattern, UNSAFE_decodePath(pathname)), [pathname, pattern]);\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\n\nconst navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when \" + \"your component is first rendered.\";\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by `<Link>`s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/v6/hooks/use-navigate\n */\nfunction useNavigate() {\n  let {\n    isDataRoute\n  } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useNavigate() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let {\n    basename,\n    future,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath));\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our history listener yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      navigator.go(to);\n      return;\n    }\n    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to handing off to history (but only if we're not in a data router,\n    // otherwise it'll prepend the basename inside of the router).\n    // If this is a root navigation, then we navigate to the raw basename\n    // which allows the basename to have full control over the presence of a\n    // trailing slash on root links\n    if (dataRouterContext == null && basename !== \"/\") {\n      path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n    }\n    (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n  }, [basename, navigator, routePathnamesJson, locationPathname, dataRouterContext]);\n  return navigate;\n}\nconst OutletContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/v6/hooks/use-outlet-context\n */\nfunction useOutletContext() {\n  return React.useContext(OutletContext);\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by `<Outlet>` to render child routes.\n *\n * @see https://reactrouter.com/v6/hooks/use-outlet\n */\nfunction useOutlet(context) {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /*#__PURE__*/React.createElement(OutletContext.Provider, {\n      value: context\n    }, outlet);\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/v6/hooks/use-params\n */\nfunction useParams() {\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/v6/hooks/use-resolved-path\n */\nfunction useResolvedPath(to, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    future\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath));\n  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [to, routePathnamesJson, locationPathname, relative]);\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an `<Outlet>` to render their child route's\n * element.\n *\n * @see https://reactrouter.com/v6/hooks/use-routes\n */\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useRoutes() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches: parentMatches\n  } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (process.env.NODE_ENV !== \"production\") {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(parentPathname, !parentRoute || parentPath.endsWith(\"*\"), \"You rendered descendant <Routes> (or called `useRoutes()`) at \" + (\"\\\"\" + parentPathname + \"\\\" (under <Route path=\\\"\" + parentPath + \"\\\">) but the \") + \"parent route path has no trailing \\\"*\\\". This means if you navigate \" + \"deeper, the parent won't match anymore and therefore the child \" + \"routes will never render.\\n\\n\" + (\"Please change the parent <Route path=\\\"\" + parentPath + \"\\\"> to <Route \") + (\"path=\\\"\" + (parentPath === \"/\" ? \"*\" : parentPath + \"/*\") + \"\\\">.\"));\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    var _parsedLocationArg$pa;\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, \" + \"the location pathname must begin with the portion of the URL pathname that was \" + (\"matched by all parent routes. The current pathname base is \\\"\" + parentPathnameBase + \"\\\" \") + (\"but pathname \\\"\" + parsedLocationArg.pathname + \"\\\" was given in the `location` prop.\")) : UNSAFE_invariant(false) : void 0;\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    // Determine the remaining pathname by removing the # of URL segments the\n    // parentPathnameBase has, instead of removing based on character count.\n    // This is because we can't guarantee that incoming/outgoing encodings/\n    // decodings will match exactly.\n    // We decode paths before matching on a per-segment basis with\n    // decodeURIComponent(), but we re-encode pathnames via `new URL()` so they\n    // match what `window.location.pathname` would reflect.  Those don't 100%\n    // align when it comes to encoded URI characters such as % and &.\n    //\n    // So we may end up with:\n    //   pathname:           \"/descendant/a%25b/match\"\n    //   parentPathnameBase: \"/descendant/a%b\"\n    //\n    // And the direct substring removal approach won't work :/\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, {\n    pathname: remainingPathname\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(parentRoute || matches != null, \"No routes matched location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \") : void 0;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(matches == null || matches[matches.length - 1].route.element !== undefined || matches[matches.length - 1].route.Component !== undefined || matches[matches.length - 1].route.lazy !== undefined, \"Matched leaf route at location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \" + \"does not have an element or Component. This means it will render an <Outlet /> with a \" + \"null value by default resulting in an \\\"empty\\\" page.\") : void 0;\n  }\n  let renderedMatches = _renderMatches(matches && matches.map(match => Object.assign({}, match, {\n    params: Object.assign({}, parentParams, match.params),\n    pathname: joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname]),\n    pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase])\n  })), parentMatches, dataRouterState, future);\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return /*#__PURE__*/React.createElement(LocationContext.Provider, {\n      value: {\n        location: _extends({\n          pathname: \"/\",\n          search: \"\",\n          hash: \"\",\n          state: null,\n          key: \"default\"\n        }, location),\n        navigationType: Action.Pop\n      }\n    }, renderedMatches);\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = {\n    padding: \"0.5rem\",\n    backgroundColor: lightgrey\n  };\n  let codeStyles = {\n    padding: \"2px 4px\",\n    backgroundColor: lightgrey\n  };\n  let devInfo = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    console.error(\"Error handled by React Router default ErrorBoundary:\", error);\n    devInfo = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, \"\\uD83D\\uDCBF Hey developer \\uD83D\\uDC4B\"), /*#__PURE__*/React.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"ErrorBoundary\"), \" or\", \" \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontStyle: \"italic\"\n    }\n  }, message), stack ? /*#__PURE__*/React.createElement(\"pre\", {\n    style: preStyles\n  }, stack) : null, devInfo);\n}\nconst defaultErrorElement = /*#__PURE__*/React.createElement(DefaultErrorComponent, null);\nclass RenderErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error !== undefined ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"React Router caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    return this.state.error !== undefined ? /*#__PURE__*/React.createElement(RouteContext.Provider, {\n      value: this.props.routeContext\n    }, /*#__PURE__*/React.createElement(RouteErrorContext.Provider, {\n      value: this.state.error,\n      children: this.props.component\n    })) : this.props.children;\n  }\n}\nfunction RenderedRoute(_ref) {\n  let {\n    routeContext,\n    match,\n    children\n  } = _ref;\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /*#__PURE__*/React.createElement(RouteContext.Provider, {\n    value: routeContext\n  }, children);\n}\nfunction _renderMatches(matches, parentMatches, dataRouterState, future) {\n  var _dataRouterState;\n  if (parentMatches === void 0) {\n    parentMatches = [];\n  }\n  if (dataRouterState === void 0) {\n    dataRouterState = null;\n  }\n  if (future === void 0) {\n    future = null;\n  }\n  if (matches == null) {\n    var _future;\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches;\n    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      // Don't bail if we're initializing with partial hydration and we have\n      // router matches.  That means we're actively running `patchRoutesOnNavigation`\n      // so we should render down the partial matches to the appropriate\n      // `HydrateFallback`.  We only do this if `parentMatches` is empty so it\n      // only impacts the root matches for `RouterProvider` and no descendant\n      // `<Routes>`\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(m => m.route.id && (errors == null ? void 0 : errors[m.route.id]) !== undefined);\n    !(errorIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"Could not find a matching route for errors on route IDs: \" + Object.keys(errors).join(\",\")) : UNSAFE_invariant(false) : void 0;\n    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n  }\n\n  // If we're in a partial hydration mode, detect if we need to render down to\n  // a given HydrateFallback while we load the rest of the hydration data\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState && future && future.v7_partialHydration) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      // Track the deepest fallback up until the first route without data\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let {\n          loaderData,\n          errors\n        } = dataRouterState;\n        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === undefined && (!errors || errors[match.route.id] === undefined);\n        if (match.route.lazy || needsToRunLoader) {\n          // We found the first route that's not ready to render (waiting on\n          // lazy, or has a loader that hasn't run yet).  Flag that we need to\n          // render a fallback and render up until the appropriate fallback\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    // Only data routers handle errors/fallbacks\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : undefined;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\"route-fallback\", false, \"No `HydrateFallback` element provided to render during initial hydration\");\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = /*#__PURE__*/React.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /*#__PURE__*/React.createElement(RenderedRoute, {\n        match: match,\n        routeContext: {\n          outlet,\n          matches,\n          isDataRoute: dataRouterState != null\n        },\n        children: children\n      });\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/React.createElement(RenderErrorBoundary, {\n      location: dataRouterState.location,\n      revalidation: dataRouterState.revalidation,\n      component: errorElement,\n      error: error,\n      children: getChildren(),\n      routeContext: {\n        outlet: null,\n        matches,\n        isDataRoute: true\n      }\n    }) : getChildren();\n  }, null);\n}\nvar DataRouterHook = /*#__PURE__*/function (DataRouterHook) {\n  DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n  return DataRouterHook;\n}(DataRouterHook || {});\nvar DataRouterStateHook = /*#__PURE__*/function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n  DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n  DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n  DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n  DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n  DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n  DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n  DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n  return DataRouterStateHook;\n}(DataRouterStateHook || {});\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  !thisRoute.route.id ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, hookName + \" can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nfunction useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nfunction useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(() => ({\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation\n  }), [dataRouterContext.router.revalidate, state.revalidation]);\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nfunction useMatches() {\n  let {\n    matches,\n    loaderData\n  } = useDataRouterState(DataRouterStateHook.UseMatches);\n  return React.useMemo(() => matches.map(m => UNSAFE_convertRouteMatchToUiMatch(m, loaderData)), [matches, loaderData]);\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nfunction useLoaderData() {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nfunction useActionData() {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  return state.actionData ? state.actionData[routeId] : undefined;\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nfunction useRouteError() {\n  var _state$errors;\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error !== undefined) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor `<Await />` value\n */\nfunction useAsyncValue() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._data;\n}\n\n/**\n * Returns the error from the nearest ancestor `<Await />` value\n */\nfunction useAsyncError() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._error;\n}\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nfunction useBlocker(shouldBlock) {\n  let {\n    router,\n    basename\n  } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback(arg => {\n    if (typeof shouldBlock !== \"function\") {\n      return !!shouldBlock;\n    }\n    if (basename === \"/\") {\n      return shouldBlock(arg);\n    }\n\n    // If they provided us a function and we've got an active basename, strip\n    // it from the locations we expose to the user to match the behavior of\n    // useLocation\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = arg;\n    return shouldBlock({\n      currentLocation: _extends({}, currentLocation, {\n        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n      }),\n      nextLocation: _extends({}, nextLocation, {\n        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n      }),\n      historyAction\n    });\n  }, [basename, shouldBlock]);\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our router subscriber yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      router.navigate(to);\n    } else {\n      router.navigate(to, _extends({\n        fromRouteId: id\n      }, options));\n    }\n  }, [router, id]);\n  return navigate;\n}\nconst alreadyWarned$1 = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned$1[key]) {\n    alreadyWarned$1[key] = true;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, message) : void 0;\n  }\n}\n\nconst alreadyWarned = {};\nfunction warnOnce(key, message) {\n  if (process.env.NODE_ENV !== \"production\" && !alreadyWarned[message]) {\n    alreadyWarned[message] = true;\n    console.warn(message);\n  }\n}\nconst logDeprecation = (flag, msg, link) => warnOnce(flag, \"\\u26A0\\uFE0F React Router Future Flag Warning: \" + msg + \". \" + (\"You can use the `\" + flag + \"` future flag to opt-in early. \") + (\"For more information, see \" + link + \".\"));\nfunction logV6DeprecationWarnings(renderFuture, routerFuture) {\n  if ((renderFuture == null ? void 0 : renderFuture.v7_startTransition) === undefined) {\n    logDeprecation(\"v7_startTransition\", \"React Router will begin wrapping state updates in `React.startTransition` in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_starttransition\");\n  }\n  if ((renderFuture == null ? void 0 : renderFuture.v7_relativeSplatPath) === undefined && (!routerFuture || routerFuture.v7_relativeSplatPath === undefined)) {\n    logDeprecation(\"v7_relativeSplatPath\", \"Relative route resolution within Splat routes is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath\");\n  }\n  if (routerFuture) {\n    if (routerFuture.v7_fetcherPersist === undefined) {\n      logDeprecation(\"v7_fetcherPersist\", \"The persistence behavior of fetchers is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist\");\n    }\n    if (routerFuture.v7_normalizeFormMethod === undefined) {\n      logDeprecation(\"v7_normalizeFormMethod\", \"Casing of `formMethod` fields is being normalized to uppercase in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod\");\n    }\n    if (routerFuture.v7_partialHydration === undefined) {\n      logDeprecation(\"v7_partialHydration\", \"`RouterProvider` hydration behavior is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_partialhydration\");\n    }\n    if (routerFuture.v7_skipActionErrorRevalidation === undefined) {\n      logDeprecation(\"v7_skipActionErrorRevalidation\", \"The revalidation behavior after 4xx/5xx `action` responses is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation\");\n    }\n  }\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    if (v7_startTransition && startTransitionImpl) {\n      startTransitionImpl(() => setStateImpl(newState));\n    } else {\n      setStateImpl(newState);\n    }\n  }, [setStateImpl, v7_startTransition]);\n\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n  React.useEffect(() => logV6DeprecationWarnings(future, router.future), [router, future]);\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: {\n      v7_relativeSplatPath: router.future.v7_relativeSplatPath\n    }\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(DataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))), null);\n}\nfunction DataRoutes(_ref2) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref2;\n  return useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` that stores all entries in memory.\n *\n * @see https://reactrouter.com/v6/router-components/memory-router\n */\nfunction MemoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    initialEntries,\n    initialIndex,\n    future\n  } = _ref3;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/v6/components/navigate\n */\nfunction Navigate(_ref4) {\n  let {\n    to,\n    replace,\n    state,\n    relative\n  } = _ref4;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of\n  // the router loaded. We can help them understand how to avoid that.\n  \"<Navigate> may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    future,\n    static: isStatic\n  } = React.useContext(NavigationContext);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(!isStatic, \"<Navigate> must not be used on the initial render in a <StaticRouter>. \" + \"This is a no-op, but you should modify your code so the <Navigate> is \" + \"only ever rendered in response to some user interaction or state change.\") : void 0;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(to, UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === \"path\");\n  let jsonPath = JSON.stringify(path);\n  React.useEffect(() => navigate(JSON.parse(jsonPath), {\n    replace,\n    state,\n    relative\n  }), [navigate, jsonPath, relative, replace, state]);\n  return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/v6/components/outlet\n */\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/v6/components/route\n */\nfunction Route(_props) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"A <Route> is only ever to be used as the child of <Routes> element, \" + \"never rendered directly. Please wrap your <Route> in a <Routes>.\") : UNSAFE_invariant(false) ;\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a `<Router>` directly. Instead, you'll render a\n * router that is more specific to your environment such as a `<BrowserRouter>`\n * in web browsers or a `<StaticRouter>` for server rendering.\n *\n * @see https://reactrouter.com/v6/router-components/router\n */\nfunction Router(_ref5) {\n  let {\n    basename: basenameProp = \"/\",\n    children = null,\n    location: locationProp,\n    navigationType = Action.Pop,\n    navigator,\n    static: staticProp = false,\n    future\n  } = _ref5;\n  !!useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"You cannot render a <Router> inside another <Router>.\" + \" You should never have more than one in your app.\") : UNSAFE_invariant(false) : void 0;\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(() => ({\n    basename,\n    navigator,\n    static: staticProp,\n    future: _extends({\n      v7_relativeSplatPath: false\n    }, future)\n  }), [basename, future, navigator, staticProp]);\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(locationContext != null, \"<Router basename=\\\"\" + basename + \"\\\"> is not able to match the URL \" + (\"\\\"\" + pathname + search + hash + \"\\\" because it does not start with the \") + \"basename, so the <Router> won't render anything.\") : void 0;\n  if (locationContext == null) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigationContext\n  }, /*#__PURE__*/React.createElement(LocationContext.Provider, {\n    children: children,\n    value: locationContext\n  }));\n}\n/**\n * A container for a nested tree of `<Route>` elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/v6/components/routes\n */\nfunction Routes(_ref6) {\n  let {\n    children,\n    location\n  } = _ref6;\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nfunction Await(_ref7) {\n  let {\n    children,\n    errorElement,\n    resolve\n  } = _ref7;\n  return /*#__PURE__*/React.createElement(AwaitErrorBoundary, {\n    resolve: resolve,\n    errorElement: errorElement\n  }, /*#__PURE__*/React.createElement(ResolveAwait, null, children));\n}\nvar AwaitRenderStatus = /*#__PURE__*/function (AwaitRenderStatus) {\n  AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n  AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n  AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n  return AwaitRenderStatus;\n}(AwaitRenderStatus || {});\nconst neverSettledPromise = new Promise(() => {});\nclass AwaitErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"<Await> caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    let {\n      children,\n      errorElement,\n      resolve\n    } = this.props;\n    let promise = null;\n    let status = AwaitRenderStatus.pending;\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_data\", {\n        get: () => resolve\n      });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_error\", {\n        get: () => renderError\n      });\n    } else if (resolve._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status = \"_error\" in promise ? AwaitRenderStatus.error : \"_data\" in promise ? AwaitRenderStatus.success : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", {\n        get: () => true\n      });\n      promise = resolve.then(data => Object.defineProperty(resolve, \"_data\", {\n        get: () => data\n      }), error => Object.defineProperty(resolve, \"_error\", {\n        get: () => error\n      }));\n    }\n    if (status === AwaitRenderStatus.error && promise._error instanceof AbortedDeferredError) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: errorElement\n      });\n    }\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: children\n      });\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on `<Await>`\n */\nfunction ResolveAwait(_ref8) {\n  let {\n    children\n  } = _ref8;\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, toRender);\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/v6/utils/create-routes-from-children\n */\nfunction createRoutesFromChildren(children, parentPath) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  let routes = [];\n  React.Children.forEach(children, (element, index) => {\n    if (! /*#__PURE__*/React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));\n      return;\n    }\n    !(element.type === Route) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"[\" + (typeof element.type === \"string\" ? element.type : element.type.name) + \"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>\") : UNSAFE_invariant(false) : void 0;\n    !(!element.props.index || !element.props.children) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"An index route cannot have child routes.\") : UNSAFE_invariant(false) : void 0;\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(element.props.children, treePath);\n    }\n    routes.push(route);\n  });\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.element) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `Component` and `element` on your route - \" + \"`Component` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      element: /*#__PURE__*/React.createElement(route.Component),\n      Component: undefined\n    });\n  }\n  if (route.HydrateFallback) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.hydrateFallbackElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - \" + \"`HydrateFallback` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: /*#__PURE__*/React.createElement(route.HydrateFallback),\n      HydrateFallback: undefined\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.errorElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" + \"`ErrorBoundary` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      errorElement: /*#__PURE__*/React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createMemoryHistory({\n      initialEntries: opts == null ? void 0 : opts.initialEntries,\n      initialIndex: opts == null ? void 0 : opts.initialIndex\n    }),\n    hydrationData: opts == null ? void 0 : opts.hydrationData,\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation\n  }).initialize();\n}\n\nexport { Await, MemoryRouter, Navigate, Outlet, Route, Router, RouterProvider, Routes, DataRouterContext as UNSAFE_DataRouterContext, DataRouterStateContext as UNSAFE_DataRouterStateContext, LocationContext as UNSAFE_LocationContext, NavigationContext as UNSAFE_NavigationContext, RouteContext as UNSAFE_RouteContext, logV6DeprecationWarnings as UNSAFE_logV6DeprecationWarnings, mapRouteProperties as UNSAFE_mapRouteProperties, useRouteId as UNSAFE_useRouteId, useRoutesImpl as UNSAFE_useRoutesImpl, createMemoryRouter, createRoutesFromChildren, createRoutesFromChildren as createRoutesFromElements, renderMatches, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes };\n//# sourceMappingURL=index.js.map\n","/**\n * React Router DOM v6.30.1\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { UNSAFE_mapRouteProperties, UNSAFE_logV6DeprecationWarnings, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, Router, UNSAFE_useRoutesImpl, UNSAFE_NavigationContext, useHref, useResolvedPath, useLocation, useNavigate, createPath, UNSAFE_useRouteId, UNSAFE_RouteContext, useMatches, useNavigation, useBlocker } from 'react-router';\nexport { AbortedDeferredError, Await, MemoryRouter, Navigate, NavigationType, Outlet, Route, Router, Routes, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, UNSAFE_LocationContext, UNSAFE_NavigationContext, UNSAFE_RouteContext, UNSAFE_useRouteId, createMemoryRouter, createPath, createRoutesFromChildren, createRoutesFromElements, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, renderMatches, replace, resolvePath, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes } from 'react-router';\nimport { stripBasename, UNSAFE_warning, createRouter, createBrowserHistory, createHashHistory, UNSAFE_ErrorResponseImpl, UNSAFE_invariant, joinPaths, IDLE_FETCHER, matchPath } from '@remix-run/router';\nexport { UNSAFE_ErrorResponseImpl } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nconst defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && (\n  // Ignore everything but left clicks\n  !target || target === \"_self\") &&\n  // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event) // Ignore clicks with modifier keys\n  ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nfunction createSearchParams(init) {\n  if (init === void 0) {\n    init = \"\";\n  }\n  return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key) => {\n    let value = init[key];\n    return memo.concat(Array.isArray(value) ? value.map(v => [key, v]) : [[key, value]]);\n  }, []));\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach(value => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\n// One-time check for submitter support\nlet _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(document.createElement(\"form\"),\n      // @ts-expect-error if FormData supports the submitter parameter, this will throw\n      0);\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nconst supportedFormEncTypes = new Set([\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"\\\"\" + encType + \"\\\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` \" + (\"and will default to \\\"\" + defaultEncType + \"\\\"\")) : void 0;\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\"Cannot submit a <button> or <input type=\\\"submit\\\"> without a <form>\");\n    }\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let {\n        name,\n        type,\n        value\n      } = target;\n      if (type === \"image\") {\n        let prefix = name ? name + \".\" : \"\";\n        formData.append(prefix + \"x\", \"0\");\n        formData.append(prefix + \"y\", \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\"Cannot submit element that is not <form>, <button>, or \" + \"<input type=\\\"submit|image\\\">\");\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n  return {\n    action,\n    method: method.toLowerCase(),\n    encType,\n    formData,\n    body\n  };\n}\n\nconst _excluded = [\"onClick\", \"relative\", \"reloadDocument\", \"replace\", \"state\", \"target\", \"to\", \"preventScrollReset\", \"viewTransition\"],\n  _excluded2 = [\"aria-current\", \"caseSensitive\", \"className\", \"end\", \"style\", \"to\", \"viewTransition\", \"children\"],\n  _excluded3 = [\"fetcherKey\", \"navigate\", \"reloadDocument\", \"replace\", \"state\", \"method\", \"action\", \"onSubmit\", \"relative\", \"preventScrollReset\", \"viewTransition\"];\n// HEY YOU! DON'T TOUCH THIS VARIABLE!\n//\n// It is replaced with the proper version at build time via a babel plugin in\n// the rollup config.\n//\n// Export a global property onto the window for React Router detection by the\n// Core Web Vitals Technology Report.  This way they can configure the `wappalyzer`\n// to detect and properly classify live websites as being built with React Router:\n// https://github.com/HTTPArchive/wappalyzer/blob/main/src/technologies/r.json\nconst REACT_ROUTER_VERSION = \"6\";\ntry {\n  window.__reactRouterVersion = REACT_ROUTER_VERSION;\n} catch (e) {\n  // no-op\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createBrowserHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createHashHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  var _window;\n  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = _extends({}, state, {\n      errors: deserializeErrors(state.errors)\n    });\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new UNSAFE_ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nconst ViewTransitionContext = /*#__PURE__*/React.createContext({\n  isTransitioning: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  ViewTransitionContext.displayName = \"ViewTransition\";\n}\nconst FetchersContext = /*#__PURE__*/React.createContext(new Map());\nif (process.env.NODE_ENV !== \"production\") {\n  FetchersContext.displayName = \"Fetchers\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\nconst FLUSH_SYNC = \"flushSync\";\nconst flushSyncImpl = ReactDOM[FLUSH_SYNC];\nconst USE_ID = \"useId\";\nconst useIdImpl = React[USE_ID];\nfunction startTransitionSafe(cb) {\n  if (startTransitionImpl) {\n    startTransitionImpl(cb);\n  } else {\n    cb();\n  }\n}\nfunction flushSyncSafe(cb) {\n  if (flushSyncImpl) {\n    flushSyncImpl(cb);\n  } else {\n    cb();\n  }\n}\nclass Deferred {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = value => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = reason => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n}\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let [pendingState, setPendingState] = React.useState();\n  let [vtContext, setVtContext] = React.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React.useState();\n  let [transition, setTransition] = React.useState();\n  let [interruption, setInterruption] = React.useState();\n  let fetcherData = React.useRef(new Map());\n  let {\n    v7_startTransition\n  } = future || {};\n  let optInStartTransition = React.useCallback(cb => {\n    if (v7_startTransition) {\n      startTransitionSafe(cb);\n    } else {\n      cb();\n    }\n  }, [v7_startTransition]);\n  let setState = React.useCallback((newState, _ref2) => {\n    let {\n      deletedFetchers,\n      flushSync: flushSync,\n      viewTransitionOpts: viewTransitionOpts\n    } = _ref2;\n    newState.fetchers.forEach((fetcher, key) => {\n      if (fetcher.data !== undefined) {\n        fetcherData.current.set(key, fetcher.data);\n      }\n    });\n    deletedFetchers.forEach(key => fetcherData.current.delete(key));\n    let isViewTransitionUnavailable = router.window == null || router.window.document == null || typeof router.window.document.startViewTransition !== \"function\";\n    // If this isn't a view transition or it's not available in this browser,\n    // just update and be done with it\n    if (!viewTransitionOpts || isViewTransitionUnavailable) {\n      if (flushSync) {\n        flushSyncSafe(() => setStateImpl(newState));\n      } else {\n        optInStartTransition(() => setStateImpl(newState));\n      }\n      return;\n    }\n    // flushSync + startViewTransition\n    if (flushSync) {\n      // Flush through the context to mark DOM elements as transition=ing\n      flushSyncSafe(() => {\n        // Cancel any pending transitions\n        if (transition) {\n          renderDfd && renderDfd.resolve();\n          transition.skipTransition();\n        }\n        setVtContext({\n          isTransitioning: true,\n          flushSync: true,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      });\n      // Update the DOM\n      let t = router.window.document.startViewTransition(() => {\n        flushSyncSafe(() => setStateImpl(newState));\n      });\n      // Clean up after the animation completes\n      t.finished.finally(() => {\n        flushSyncSafe(() => {\n          setRenderDfd(undefined);\n          setTransition(undefined);\n          setPendingState(undefined);\n          setVtContext({\n            isTransitioning: false\n          });\n        });\n      });\n      flushSyncSafe(() => setTransition(t));\n      return;\n    }\n    // startTransition + startViewTransition\n    if (transition) {\n      // Interrupting an in-progress transition, cancel and let everything flush\n      // out, and then kick off a new transition from the interruption state\n      renderDfd && renderDfd.resolve();\n      transition.skipTransition();\n      setInterruption({\n        state: newState,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    } else {\n      // Completed navigation update with opted-in view transitions, let 'er rip\n      setPendingState(newState);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    }\n  }, [router.window, transition, renderDfd, fetcherData, optInStartTransition]);\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  // When we start a view transition, create a Deferred we can use for the\n  // eventual \"completed\" render\n  React.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  // Once the deferred is created, kick off startViewTransition() to update the\n  // DOM and then wait on the Deferred to resolve (indicating the DOM update has\n  // happened)\n  React.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition = router.window.document.startViewTransition(async () => {\n        optInStartTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition.finished.finally(() => {\n        setRenderDfd(undefined);\n        setTransition(undefined);\n        setPendingState(undefined);\n        setVtContext({\n          isTransitioning: false\n        });\n      });\n      setTransition(transition);\n    }\n  }, [optInStartTransition, pendingState, renderDfd, router.window]);\n  // When the new location finally renders and is committed to the DOM, this\n  // effect will run to resolve the transition\n  React.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  // If we get interrupted with a new navigation during a transition, we skip\n  // the active transition, let it cleanup, then kick it off again here\n  React.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(undefined);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n  let routerFuture = React.useMemo(() => ({\n    v7_relativeSplatPath: router.future.v7_relativeSplatPath\n  }), [router.future.v7_relativeSplatPath]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future, router.future), [future, router.future]);\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UNSAFE_DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(UNSAFE_DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(FetchersContext.Provider, {\n    value: fetcherData.current\n  }, /*#__PURE__*/React.createElement(ViewTransitionContext.Provider, {\n    value: vtContext\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: routerFuture\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(MemoizedDataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))))), null);\n}\n// Memoize to avoid re-renders when updating `ViewTransitionContext`\nconst MemoizedDataRoutes = /*#__PURE__*/React.memo(DataRoutes);\nfunction DataRoutes(_ref3) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref3;\n  return UNSAFE_useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nfunction BrowserRouter(_ref4) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref4;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nfunction HashRouter(_ref5) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref5;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter(_ref6) {\n  let {\n    basename,\n    children,\n    future,\n    history\n  } = _ref6;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\nif (process.env.NODE_ENV !== \"production\") {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\nconst isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware `<a>`.\n */\nconst Link = /*#__PURE__*/React.forwardRef(function LinkWithRef(_ref7, ref) {\n  let {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      viewTransition\n    } = _ref7,\n    rest = _objectWithoutPropertiesLoose(_ref7, _excluded);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  // Rendered into <a href> for absolute URLs\n  let absoluteHref;\n  let isExternal = false;\n  if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n    // Render the absolute href server- and client-side\n    absoluteHref = to;\n    // Only check for external origins client-side\n    if (isBrowser) {\n      try {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      } catch (e) {\n        // We can't do external URL detection without a valid URL\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"<Link to=\\\"\" + to + \"\\\"> contains an invalid URL which will probably break \" + \"when clicked - please update to a valid URL path.\") : void 0;\n      }\n    }\n  }\n  // Rendered into <a href> for relative URLs\n  let href = useHref(to, {\n    relative\n  });\n  let internalOnClick = useLinkClickHandler(to, {\n    replace,\n    state,\n    target,\n    preventScrollReset,\n    relative,\n    viewTransition\n  });\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (!event.defaultPrevented) {\n      internalOnClick(event);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    React.createElement(\"a\", _extends({}, rest, {\n      href: absoluteHref || href,\n      onClick: isExternal || reloadDocument ? onClick : handleClick,\n      ref: ref,\n      target: target\n    }))\n  );\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Link.displayName = \"Link\";\n}\n/**\n * A `<Link>` wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = /*#__PURE__*/React.forwardRef(function NavLinkWithRef(_ref8, ref) {\n  let {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      viewTransition,\n      children\n    } = _ref8,\n    rest = _objectWithoutPropertiesLoose(_ref8, _excluded2);\n  let path = useResolvedPath(to, {\n    relative: rest.relative\n  });\n  let location = useLocation();\n  let routerState = React.useContext(UNSAFE_DataRouterStateContext);\n  let {\n    navigator,\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let isTransitioning = routerState != null &&\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useViewTransitionState(path) && viewTransition === true;\n  let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n  let locationPathname = location.pathname;\n  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLowerCase();\n    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n    toPathname = toPathname.toLowerCase();\n  }\n  if (nextLocationPathname && basename) {\n    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n  }\n  // If the `to` has a trailing slash, look at that exact spot.  Otherwise,\n  // we're looking for a slash _after_ what's in `to`.  For example:\n  //\n  // <NavLink to=\"/users\"> and <NavLink to=\"/users/\">\n  // both want to look for a / at index 6 to match URL `/users/matt`\n  const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n  let renderProps = {\n    isActive,\n    isPending,\n    isTransitioning\n  };\n  let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n  let className;\n  if (typeof classNameProp === \"function\") {\n    className = classNameProp(renderProps);\n  } else {\n    // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [classNameProp, isActive ? \"active\" : null, isPending ? \"pending\" : null, isTransitioning ? \"transitioning\" : null].filter(Boolean).join(\" \");\n  }\n  let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n  return /*#__PURE__*/React.createElement(Link, _extends({}, rest, {\n    \"aria-current\": ariaCurrent,\n    className: className,\n    ref: ref,\n    style: style,\n    to: to,\n    viewTransition: viewTransition\n  }), typeof children === \"function\" ? children(renderProps) : children);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n}\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nconst Form = /*#__PURE__*/React.forwardRef((_ref9, forwardedRef) => {\n  let {\n      fetcherKey,\n      navigate,\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      relative,\n      preventScrollReset,\n      viewTransition\n    } = _ref9,\n    props = _objectWithoutPropertiesLoose(_ref9, _excluded3);\n  let submit = useSubmit();\n  let formAction = useFormAction(action, {\n    relative\n  });\n  let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n  let submitHandler = event => {\n    onSubmit && onSubmit(event);\n    if (event.defaultPrevented) return;\n    event.preventDefault();\n    let submitter = event.nativeEvent.submitter;\n    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n    submit(submitter || event.currentTarget, {\n      fetcherKey,\n      method: submitMethod,\n      navigate,\n      replace,\n      state,\n      relative,\n      preventScrollReset,\n      viewTransition\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: forwardedRef,\n    method: formMethod,\n    action: formAction,\n    onSubmit: reloadDocument ? onSubmit : submitHandler\n  }, props));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Form.displayName = \"Form\";\n}\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nfunction ScrollRestoration(_ref10) {\n  let {\n    getKey,\n    storageKey\n  } = _ref10;\n  useScrollRestoration({\n    getKey,\n    storageKey\n  });\n  return null;\n}\nif (process.env.NODE_ENV !== \"production\") {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar DataRouterHook;\n(function (DataRouterHook) {\n  DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n  DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n  DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n  DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterHook[\"useViewTransitionState\"] = \"useViewTransitionState\";\n})(DataRouterHook || (DataRouterHook = {}));\nvar DataRouterStateHook;\n(function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n  DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})(DataRouterStateHook || (DataRouterStateHook = {}));\n// Internal hooks\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(UNSAFE_DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(UNSAFE_DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\n// External hooks\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nfunction useLinkClickHandler(to, _temp) {\n  let {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n    viewTransition\n  } = _temp === void 0 ? {} : _temp;\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, {\n    relative\n  });\n  return React.useCallback(event => {\n    if (shouldProcessLinkClick(event, target)) {\n      event.preventDefault();\n      // If the URL hasn't changed, a regular <a> will do a replace instead of\n      // a push, so do the same here unless the replace prop is explicitly set\n      let replace = replaceProp !== undefined ? replaceProp : createPath(location) === createPath(path);\n      navigate(to, {\n        replace,\n        state,\n        preventScrollReset,\n        relative,\n        viewTransition\n      });\n    }\n  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nfunction useSearchParams(defaultInit) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(typeof URLSearchParams !== \"undefined\", \"You cannot use the `useSearchParams` hook in a browser that does not \" + \"support the URLSearchParams API. If you need to support Internet \" + \"Explorer 11, we recommend you load a polyfill such as \" + \"https://github.com/ungap/url-search-params.\") : void 0;\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n  let location = useLocation();\n  let searchParams = React.useMemo(() =>\n  // Only merge in the defaults if we haven't yet called setSearchParams.\n  // Once we call that we want those to take precedence, otherwise you can't\n  // remove a param with setSearchParams({}) if it has an initial value\n  getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location.search]);\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback((nextInit, navigateOptions) => {\n    const newSearchParams = createSearchParams(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n    hasSetSearchParamsRef.current = true;\n    navigate(\"?\" + newSearchParams, navigateOptions);\n  }, [navigate, searchParams]);\n  return [searchParams, setSearchParams];\n}\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\"You are calling submit during the server render. \" + \"Try calling submit within a `useEffect` or callback instead.\");\n  }\n}\nlet fetcherId = 0;\nlet getUniqueFetcherId = () => \"__\" + String(++fetcherId) + \"__\";\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nfunction useSubmit() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let currentRouteId = UNSAFE_useRouteId();\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    if (options.navigate === false) {\n      let key = options.fetcherKey || getUniqueFetcherId();\n      router.fetch(key, currentRouteId, options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        flushSync: options.flushSync\n      });\n    } else {\n      router.navigate(options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        replace: options.replace,\n        state: options.state,\n        fromRouteId: currentRouteId,\n        flushSync: options.flushSync,\n        viewTransition: options.viewTransition\n      });\n    }\n  }, [router, basename, currentRouteId]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction useFormAction(action, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let routeContext = React.useContext(UNSAFE_RouteContext);\n  !routeContext ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFormAction must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = _extends({}, useResolvedPath(action ? action : \".\", {\n    relative\n  }));\n  // If no action was specified, browsers will persist current search params\n  // when determining the path, so match that behavior\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n    // When grabbing search params from the URL, remove any included ?index param\n    // since it might not apply to our contextual route.  We add it back based\n    // on match.route.index below\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some(v => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// TODO: (v7) Change the useFetcher generic default from `any` to `unknown`\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nfunction useFetcher(_temp3) {\n  var _route$matches;\n  let {\n    key\n  } = _temp3 === void 0 ? {} : _temp3;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let state = useDataRouterState(DataRouterStateHook.UseFetcher);\n  let fetcherData = React.useContext(FetchersContext);\n  let route = React.useContext(UNSAFE_RouteContext);\n  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n  !fetcherData ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a FetchersContext\") : UNSAFE_invariant(false) : void 0;\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  !(routeId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  // Fetcher key handling\n  // OK to call conditionally to feature detect `useId`\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  let defaultKey = useIdImpl ? useIdImpl() : \"\";\n  let [fetcherKey, setFetcherKey] = React.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  } else if (!fetcherKey) {\n    // We will only fall through here when `useId` is not available\n    setFetcherKey(getUniqueFetcherId());\n  }\n  // Registration/cleanup\n  React.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => {\n      // Tell the router we've unmounted - if v7_fetcherPersist is enabled this\n      // will not delete immediately but instead queue up a delete after the\n      // fetcher returns to an `idle` state\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n  // Fetcher additions\n  let load = React.useCallback((href, opts) => {\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, routeId, href, opts);\n  }, [fetcherKey, routeId, router]);\n  let submitImpl = useSubmit();\n  let submit = React.useCallback((target, opts) => {\n    submitImpl(target, _extends({}, opts, {\n      navigate: false,\n      fetcherKey\n    }));\n  }, [fetcherKey, submitImpl]);\n  let FetcherForm = React.useMemo(() => {\n    let FetcherForm = /*#__PURE__*/React.forwardRef((props, ref) => {\n      return /*#__PURE__*/React.createElement(Form, _extends({}, props, {\n        navigate: false,\n        fetcherKey: fetcherKey,\n        ref: ref\n      }));\n    });\n    if (process.env.NODE_ENV !== \"production\") {\n      FetcherForm.displayName = \"fetcher.Form\";\n    }\n    return FetcherForm;\n  }, [fetcherKey]);\n  // Exposed FetcherWithComponents\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React.useMemo(() => _extends({\n    Form: FetcherForm,\n    submit,\n    load\n  }, fetcher, {\n    data\n  }), [FetcherForm, submit, load, fetcher, data]);\n  return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nfunction useFetchers() {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return Array.from(state.fetchers.entries()).map(_ref11 => {\n    let [key, fetcher] = _ref11;\n    return _extends({}, fetcher, {\n      key\n    });\n  });\n}\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration(_temp4) {\n  let {\n    getKey,\n    storageKey\n  } = _temp4 === void 0 ? {} : _temp4;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let {\n    restoreScrollPosition,\n    preventScrollReset\n  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  // Save positions on pagehide\n  usePageHide(React.useCallback(() => {\n    if (navigation.state === \"idle\") {\n      let key = (getKey ? getKey(location, matches) : null) || location.key;\n      savedScrollPositions[key] = window.scrollY;\n    }\n    try {\n      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));\n    } catch (error) {\n      process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (\" + error + \").\") : void 0;\n    }\n    window.history.scrollRestoration = \"auto\";\n  }, [storageKey, getKey, navigation.state, location, matches]));\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches) => getKey( // Strip the basename to match useLocation()\n      _extends({}, location, {\n        pathname: stripBasename(location.pathname, basename) || location.pathname\n      }), matches) : getKey;\n      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction useBeforeUnload(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt(_ref12) {\n  let {\n    when,\n    message\n  } = _ref12;\n  let blocker = useBlocker(when);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n/**\n * Return a boolean indicating if there is an active view transition to the\n * given href.  You can use this value to render CSS classes or viewTransitionName\n * styles onto your elements\n *\n * @param href The destination href\n * @param [opts.relative] Relative routing type (\"route\" | \"path\")\n */\nfunction useViewTransitionState(to, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let vtContext = React.useContext(ViewTransitionContext);\n  !(vtContext != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  \" + \"Did you accidentally import `RouterProvider` from `react-router`?\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename\n  } = useDataRouterContext(DataRouterHook.useViewTransitionState);\n  let path = useResolvedPath(to, {\n    relative: opts.relative\n  });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  // Transition is active if we're going to or coming from the indicated\n  // destination.  This ensures that other PUSH navigations that reverse\n  // an indicated transition apply.  I.e., on the list view you have:\n  //\n  //   <NavLink to=\"/details/1\" viewTransition>\n  //\n  // If you click the breadcrumb back to the list view:\n  //\n  //   <NavLink to=\"/list\" viewTransition>\n  //\n  // We should apply the transition because it's indicated as active going\n  // from /list -> /details/1 and therefore should be active on the reverse\n  // (even though this isn't strictly a POP reverse)\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n//#endregion\n\nexport { BrowserRouter, Form, HashRouter, Link, NavLink, RouterProvider, ScrollRestoration, FetchersContext as UNSAFE_FetchersContext, ViewTransitionContext as UNSAFE_ViewTransitionContext, useScrollRestoration as UNSAFE_useScrollRestoration, createBrowserRouter, createHashRouter, createSearchParams, HistoryRouter as unstable_HistoryRouter, usePrompt as unstable_usePrompt, useBeforeUnload, useFetcher, useFetchers, useFormAction, useLinkClickHandler, useSearchParams, useSubmit, useViewTransitionState };\n//# sourceMappingURL=index.js.map\n","export const it = {\n  // Navigazione\n  nav: {\n    console: 'Console',\n    library: 'Libreria',\n    settings: 'Impostazioni',\n    streaming: 'Streaming'\n  },\n\n  // Console DJ\n  console: {\n    deckA: 'Deck A',\n    deckB: 'Deck B',\n    mixer: 'Mixer',\n    mixerDesc: 'Sposta per mixare i deck',\n    transitionType: 'Tipo di Transizione',\n    volumeControl: 'Controllo Volume',\n    linear: 'Lineare',\n    smooth: 'Fluida', \n    sharp: 'Rapida',\n    play: 'Play',\n    pause: 'Pausa',\n    stop: 'Stop',\n    skipBackward: 'Indietro (-10s)',\n    skipForward: 'Avanti (+10s)',\n    volume: 'Volume',\n    pitch: 'Pitch',\n    noTrack: 'Nessuna traccia caricata',\n    loading: 'Caricamento...'\n  },\n\n  // Libreria\n  library: {\n    title: 'Libreria Musicale',\n    description: 'Gestisci la tua collezione musicale',\n    search: 'Cerca titolo, artista...',\n    selectFolder: 'Seleziona Cartella',\n    loadFolder: 'Carica Cartella',\n    importMusic: 'Importa Musica',\n    totalTracks: 'Totale tracce',\n    duration: 'Durata',\n    artist: 'Artista',\n    trackTitle: 'Titolo',\n    album: 'Album',\n    genre: 'Genere',\n    year: 'Anno',\n    bpm: 'BPM',\n    key: 'Tonalit',\n    noTracks: 'Nessuna traccia trovata',\n    loadToDeck: 'Carica nel Deck',\n    analyzing: 'Analizzando...',\n    analyzed: 'Analizzato',\n    error: 'Errore'\n  },\n\n  // Impostazioni\n  settings: {\n    title: 'Impostazioni',\n    description: 'Configura le preferenze del DJ Console',\n    reset: 'Reset',\n    save: 'Salva',\n    \n    // Tabs\n    audio: 'Audio',\n    microphone: 'Microfono',\n    interface: 'Interfaccia',\n    recording: 'Registrazione',\n    streaming: 'Streaming',\n    advanced: 'Avanzate',\n    info: 'Info',\n    \n    // Advanced Settings\n    advancedSettings: 'Impostazioni Avanzate',\n    dataManagement: 'Gestione Dati',\n    exportSettings: 'Esporta Impostazioni',\n    importSettings: 'Importa Impostazioni',\n    resetOptions: 'Opzioni Reset',\n    resetAudioSettings: 'Reset Impostazioni Audio',\n    resetAudioSettingsDesc: 'Ripristina configurazione audio predefinita',\n    resetInterfaceSettings: 'Reset Impostazioni Interfaccia',\n    resetInterfaceSettingsDesc: 'Ripristina preferenze interfaccia predefinite',\n    resetAllSettings: 'Reset Tutte le Impostazioni',\n    resetAllSettingsDesc: 'Ripristina tutte le impostazioni predefinite',\n    about: 'Informazioni',\n    version: 'Versione',\n    build: 'Build',\n    license: 'Licenza',\n    author: 'Autore',\n    \n    // Info page\n    systemInfo: 'Informazioni Sistema',\n    appInfo: 'Informazioni App',\n    libraries: 'Librerie Utilizzate',\n    checkUpdates: 'Verifica Aggiornamenti',\n    lastChecked: 'Ultima verifica',\n    checkingUpdates: 'Verificando aggiornamenti...',\n    noUpdates: 'Nessun aggiornamento disponibile',\n    updatesAvailable: 'Aggiornamenti disponibili',\n    checkNow: 'Verifica Ora',\n    updateUrl: 'URL Aggiornamenti',\n    libraryName: 'Nome Libreria',\n    libraryVersion: 'Versione',\n    libraryLicense: 'Licenza',\n    libraryDescription: 'Descrizione',\n\n    // Audio\n    audioSettings: 'Impostazioni Audio',\n    sampleRate: 'Frequenza di Campionamento',\n    bitDepth: 'Profondit Bit',\n    bufferSize: 'Dimensione Buffer',\n    latency: 'Latenza',\n    crossfadeDuration: 'Durata Crossfade',\n    fadeInOut: 'Fade In/Out Tracce',\n    outputDevice: 'Dispositivo di Uscita',\n    outputDeviceLocal: 'Dispositivo di Uscita (Locale)',\n    masterVolume: 'Volume Master',\n\n    // Microfono\n    microphoneSettings: 'Impostazioni Microfono',\n    inputDevice: 'Dispositivo di Ingresso',\n    inputGain: 'Guadagno Ingresso',\n    monitorLevel: 'Livello Monitor',\n    echoCancellation: 'Cancellazione Eco',\n    noiseSuppression: 'Soppressione Rumore',\n    autoGainControl: 'Controllo Guadagno Automatico',\n    duckingPercent: 'Percentuale Ducking (Abbassa Musica)',\n    pushToTalkKey: 'Tasto Push-to-Talk',\n\n    // Interfaccia\n    interfaceSettings: 'Impostazioni Interfaccia',\n    theme: 'Tema',\n    language: 'Lingua',\n    showWaveforms: 'Mostra Forme d\\'Onda',\n    showSpectrum: 'Mostra Analizzatore di Spettro',\n    showBeatGrid: 'Mostra Griglia Beat',\n    enableAnimations: 'Abilita Animazioni',\n    // Aggiungo traduzioni mancanti\n    autoRecord: 'Registrazione Automatica',\n    saveLocation: 'Posizione Salvataggio',\n    maxFileSize: 'Dimensione Massima File (MB)',\n    defaultBitrate: 'Bitrate Predefinito',\n    defaultFormat: 'Formato Predefinito',\n    autoConnect: 'Connessione Automatica',\n    reconnectAttempts: 'Tentativi Riconnessione',\n    serverHost: 'Host Server',\n    serverPort: 'Porta Server',\n    mountPoint: 'Punto di Mount',\n    username: 'Nome Utente',\n    password: 'Password',\n    useSSL: 'Usa SSL',\n    stationName: 'Nome Stazione',\n    stationUrl: 'URL Stazione',\n    genre: 'Genere',\n\n    // Info\n    systemInfo: 'Informazioni Sistema',\n    microphonePermissions: 'Permessi Microfono',\n    microphoneAccess: 'Accesso Microfono',\n    microphoneAccessDesc: 'Il browser ha accesso al microfono per la funzionalit DJ.',\n    testMicrophoneAccess: 'Testa Accesso Microfono',\n    microphonePermissionGranted: 'Permesso microfono concesso!',\n    microphonePermissionDenied: 'Permesso microfono negato. Controlla le impostazioni del browser.',\n    browserInfo: 'Informazioni Browser',\n    browser: 'Browser',\n    platform: 'Piattaforma',\n    audioDevices: 'Dispositivi Audio',\n    inputDevices: 'Dispositivi di Input',\n    outputDevices: 'Dispositivi di Output',\n    devicesFound: 'dispositivi trovati',\n    noDevicesFound: 'Nessun dispositivo trovato',\n    refreshDevices: 'Aggiorna Dispositivi',\n    appInfo: 'Informazioni App',\n    version: 'Versione',\n    build: 'Build',\n    license: 'Licenza',\n    author: 'Autore'\n  },\n\n  // Temi\n  themes: {\n    dark: ' Scuro',\n    light: ' Chiaro',\n    infernal: ' Infernale',\n    auto: ' Automatico'\n  },\n\n  // Lingue\n  languages: {\n    it: ' Italiano',\n    en: ' English',\n    es: ' Espaol',\n    fr: ' Franais',\n    de: ' Deutsch'\n  },\n\n  // Registrazione\n  recording: {\n    title: 'Impostazioni Registrazione',\n    format: 'Formato',\n    quality: 'Qualit',\n    autoRecord: 'Registrazione Automatica',\n    saveLocation: 'Posizione Salvataggio',\n    maxFileSize: 'Dimensione Massima File (MB)'\n  },\n\n  // Streaming\n  streaming: {\n    title: 'Impostazioni Streaming',\n    description: 'Gestisci la trasmissione live',\n    status: 'Stato',\n    connect: 'Connetti',\n    disconnect: 'Disconnetti',\n    connected: 'Connesso',\n    disconnected: 'Disconnesso',\n    connecting: 'Connettendo...',\n    error: 'Errore',\n    listeners: 'Ascoltatori',\n    bitrate: 'Bitrate',\n    format: 'Formato',\n    channels: 'Canali',\n    sampleRate: 'Frequenza Campionamento',\n    uptime: 'Tempo di Trasmissione',\n    sendMic: 'Invia Microfono',\n    micVolume: 'Volume Microfono',\n    pushToTalk: 'Push-to-Talk',\n    metadata: 'Metadati',\n    currentTrack: 'Traccia Corrente',\n    nextTrack: 'Prossima Traccia',\n    defaultBitrate: 'Bitrate Predefinito',\n    defaultFormat: 'Formato Predefinito',\n    autoConnect: 'Connessione Automatica',\n    reconnectAttempts: 'Tentativi Riconnessione',\n    serverHost: 'Host Server',\n    serverPort: 'Porta Server',\n    mountPoint: 'Punto di Mount',\n    username: 'Nome Utente',\n    password: 'Password',\n    showPassword: 'Mostra Password',\n    hidePassword: 'Nascondi Password',\n    useSSL: 'Usa SSL',\n    stationName: 'Nome Stazione',\n    stationUrl: 'URL Stazione',\n    genre: 'Genere'\n  },\n\n  // Messaggi comuni\n  common: {\n    loading: 'Caricamento...',\n    error: 'Errore',\n    success: 'Successo',\n    warning: 'Attenzione',\n    info: 'Informazione',\n    confirm: 'Conferma',\n    cancel: 'Annulla',\n    ok: 'OK',\n    yes: 'S',\n    no: 'No',\n    enabled: 'Abilitato',\n    disabled: 'Disabilitato',\n    on: 'Acceso',\n    off: 'Spento',\n    high: 'Alto',\n    medium: 'Medio',\n    low: 'Basso'\n  },\n\n  // Errori\n  errors: {\n    audioContextFailed: 'Impossibile inizializzare il contesto audio',\n    microphoneAccessDenied: 'Accesso al microfono negato',\n    fileLoadError: 'Errore nel caricamento del file',\n    streamingConnectionFailed: 'Connessione streaming fallita',\n    settingsSaveFailed: 'Salvataggio impostazioni fallito',\n    databaseError: 'Errore del database',\n    unknownError: 'Errore sconosciuto'\n  }\n}\n\nexport type TranslationKeys = typeof it\n","import type { TranslationKeys } from './it'\n\nexport const en: TranslationKeys = {\n  // Navigation\n  nav: {\n    console: 'Console',\n    library: 'Library',\n    settings: 'Settings',\n    streaming: 'Streaming'\n  },\n\n  // DJ Console\n  console: {\n    deckA: 'Deck A',\n    deckB: 'Deck B',\n    mixer: 'Mixer',\n    mixerDesc: 'Move to mix decks',\n    transitionType: 'Transition Type',\n    volumeControl: 'Volume Control',\n    linear: 'Linear',\n    smooth: 'Smooth', \n    sharp: 'Sharp',\n    play: 'Play',\n    pause: 'Pause',\n    stop: 'Stop',\n    skipBackward: 'Skip Backward (-10s)',\n    skipForward: 'Skip Forward (+10s)',\n    volume: 'Volume',\n    pitch: 'Pitch',\n    noTrack: 'No track loaded',\n    loading: 'Loading...'\n  },\n\n  // Library\n  library: {\n    title: 'Music Library',\n    description: 'Manage your music collection',\n    search: 'Search title, artist...',\n    selectFolder: 'Select Folder',\n    loadFolder: 'Load Folder',\n    importMusic: 'Import Music',\n    totalTracks: 'Total tracks',\n    duration: 'Duration',\n    artist: 'Artist',\n    trackTitle: 'Title',\n    album: 'Album',\n    genre: 'Genre',\n    year: 'Year',\n    bpm: 'BPM',\n    key: 'Key',\n    noTracks: 'No tracks found',\n    loadToDeck: 'Load to Deck',\n    analyzing: 'Analyzing...',\n    analyzed: 'Analyzed',\n    error: 'Error'\n  },\n\n  // Settings\n  settings: {\n    title: 'Settings',\n    description: 'Configure your DJ Console preferences',\n    reset: 'Reset',\n    save: 'Save',\n    \n    // Tabs\n    audio: 'Audio',\n    microphone: 'Microphone',\n    interface: 'Interface',\n    recording: 'Recording',\n    streaming: 'Streaming',\n    advanced: 'Advanced',\n    info: 'Info',\n    \n    // Advanced Settings\n    advancedSettings: 'Advanced Settings',\n    dataManagement: 'Data Management',\n    exportSettings: 'Export Settings',\n    importSettings: 'Import Settings',\n    resetOptions: 'Reset Options',\n    resetAudioSettings: 'Reset Audio Settings',\n    resetAudioSettingsDesc: 'Restore default audio configuration',\n    resetInterfaceSettings: 'Reset Interface Settings',\n    resetInterfaceSettingsDesc: 'Restore default interface preferences',\n    resetAllSettings: 'Reset All Settings',\n    resetAllSettingsDesc: 'Restore all default settings',\n    about: 'About',\n    version: 'Version',\n    build: 'Build',\n    license: 'License',\n    author: 'Author',\n    \n    // Info page\n    systemInfo: 'System Information',\n    appInfo: 'App Information',\n    libraries: 'Used Libraries',\n    checkUpdates: 'Check for Updates',\n    lastChecked: 'Last checked',\n    checkingUpdates: 'Checking for updates...',\n    noUpdates: 'No updates available',\n    updatesAvailable: 'Updates available',\n    checkNow: 'Check Now',\n    updateUrl: 'Update URL',\n    libraryName: 'Library Name',\n    libraryVersion: 'Version',\n    libraryLicense: 'License',\n    libraryDescription: 'Description',\n\n    // Audio\n    audioSettings: 'Audio Settings',\n    sampleRate: 'Sample Rate',\n    bufferSize: 'Buffer Size',\n    outputDevice: 'Output Device',\n    outputDeviceLocal: 'Output Device (Local)',\n    masterVolume: 'Master Volume',\n    crossfaderCurve: 'Crossfader Curve',\n\n    // Microphone\n    microphoneSettings: 'Microphone Settings',\n    inputDevice: 'Input Device',\n    inputGain: 'Input Gain',\n    monitorLevel: 'Monitor Level',\n    echoCancellation: 'Echo Cancellation',\n    noiseSuppression: 'Noise Suppression',\n    autoGainControl: 'Auto Gain Control',\n    duckingPercent: 'Ducking Percent',\n    pushToTalkKey: 'Push-to-Talk Key',\n\n    // Interface\n    interfaceSettings: 'Interface Settings',\n    theme: 'Theme',\n    language: 'Language',\n    showWaveforms: 'Show Waveforms',\n    showSpectrum: 'Show Spectrum Analyzer',\n    showBeatGrid: 'Show Beat Grid',\n    enableAnimations: 'Enable Animations',\n\n  },\n\n  // Themes\n  themes: {\n    dark: ' Dark',\n    light: ' Light',\n    infernal: ' Infernal',\n    auto: ' Auto'\n  },\n\n  // Languages\n  languages: {\n    it: ' Italiano',\n    en: ' English',\n    es: ' Espaol',\n    fr: ' Franais',\n    de: ' Deutsch'\n  },\n\n  // Recording\n  recording: {\n    title: 'Recording Settings',\n    format: 'Format',\n    quality: 'Quality',\n    autoRecord: 'Auto Record',\n    saveLocation: 'Save Location',\n    maxFileSize: 'Max File Size (MB)'\n  },\n\n  // Streaming\n  streaming: {\n    title: 'Streaming Settings',\n    description: 'Manage live broadcasting',\n    status: 'Status',\n    connect: 'Connect',\n    disconnect: 'Disconnect',\n    connected: 'Connected',\n    disconnected: 'Disconnected',\n    connecting: 'Connecting...',\n    error: 'Error',\n    listeners: 'Listeners',\n    bitrate: 'Bitrate',\n    format: 'Format',\n    channels: 'Channels',\n    sampleRate: 'Sample Rate',\n    uptime: 'Uptime',\n    sendMic: 'Send Microphone',\n    micVolume: 'Microphone Volume',\n    pushToTalk: 'Push-to-Talk',\n    metadata: 'Metadata',\n    currentTrack: 'Current Track',\n    nextTrack: 'Next Track',\n    defaultBitrate: 'Default Bitrate',\n    defaultFormat: 'Default Format',\n    autoConnect: 'Auto Connect',\n    reconnectAttempts: 'Reconnect Attempts',\n    serverHost: 'Server Host',\n    serverPort: 'Server Port',\n    mountPoint: 'Mount Point',\n    username: 'Username',\n    password: 'Password',\n    showPassword: 'Show Password',\n    hidePassword: 'Hide Password',\n    useSSL: 'Use SSL',\n    stationName: 'Station Name',\n    stationUrl: 'Station URL',\n    genre: 'Genre',\n\n    // Info\n    systemInfo: 'System Information',\n    microphonePermissions: 'Microphone Permissions',\n    microphoneAccess: 'Microphone Access',\n    microphoneAccessDesc: 'Browser has access to microphone for DJ functionality.',\n    testMicrophoneAccess: 'Test Microphone Access',\n    microphonePermissionGranted: 'Microphone permission granted!',\n    microphonePermissionDenied: 'Microphone permission denied. Check browser settings.',\n    browserInfo: 'Browser Information',\n    browser: 'Browser',\n    platform: 'Platform',\n    language: 'Language',\n    audioDevices: 'Audio Devices',\n    inputDevices: 'Input Devices',\n    outputDevices: 'Output Devices',\n    devicesFound: 'devices found',\n    noDevicesFound: 'No devices found',\n    refreshDevices: 'Refresh Devices',\n    appInfo: 'App Information',\n    version: 'Version',\n    build: 'Build',\n    license: 'License',\n    author: 'Author'\n  },\n\n  // Common messages\n  common: {\n    loading: 'Loading...',\n    error: 'Error',\n    success: 'Success',\n    warning: 'Warning',\n    info: 'Information',\n    confirm: 'Confirm',\n    cancel: 'Cancel',\n    ok: 'OK',\n    yes: 'Yes',\n    no: 'No',\n    enabled: 'Enabled',\n    disabled: 'Disabled',\n    on: 'On',\n    off: 'Off',\n    high: 'High',\n    medium: 'Medium',\n    low: 'Low'\n  },\n\n  // Errors\n  errors: {\n    audioContextFailed: 'Failed to initialize audio context',\n    microphoneAccessDenied: 'Microphone access denied',\n    fileLoadError: 'File loading error',\n    streamingConnectionFailed: 'Streaming connection failed',\n    settingsSaveFailed: 'Settings save failed',\n    databaseError: 'Database error',\n    unknownError: 'Unknown error'\n  }\n}\n","import type { TranslationKeys } from './it'\n\nexport const es: TranslationKeys = {\n  // Navegacin\n  nav: {\n    console: 'Consola',\n    library: 'Biblioteca',\n    settings: 'Configuracin',\n    streaming: 'Transmisin'\n  },\n\n  // Consola DJ\n  console: {\n    deckA: 'Deck A',\n    deckB: 'Deck B',\n    mixer: 'Mezclador',\n    mixerDesc: 'Mueve para mezclar los decks',\n    transitionType: 'Tipo de Transicin',\n    volumeControl: 'Control de Volumen',\n    linear: 'Lineal',\n    smooth: 'Suave', \n    sharp: 'Rpida',\n    play: 'Reproducir',\n    pause: 'Pausa',\n    stop: 'Parar',\n    skipBackward: 'Atrs (-10s)',\n    skipForward: 'Adelante (+10s)',\n    volume: 'Volumen',\n    pitch: 'Tono',\n    noTrack: 'Ninguna pista cargada',\n    loading: 'Cargando...'\n  },\n\n  // Biblioteca\n  library: {\n    title: 'Biblioteca Musical',\n    description: 'Gestiona tu coleccin musical',\n    search: 'Buscar ttulo, artista...',\n    selectFolder: 'Seleccionar Carpeta',\n    loadFolder: 'Cargar Carpeta',\n    importMusic: 'Importar Msica',\n    totalTracks: 'Total pistas',\n    duration: 'Duracin',\n    artist: 'Artista',\n    trackTitle: 'Ttulo',\n    album: 'lbum',\n    genre: 'Gnero',\n    year: 'Ao',\n    bpm: 'BPM',\n    key: 'Clave',\n    noTracks: 'No se encontraron pistas',\n    loadToDeck: 'Cargar al Deck',\n    analyzing: 'Analizando...',\n    analyzed: 'Analizado',\n    error: 'Error'\n  },\n\n  // Configuracin\n  settings: {\n    title: 'Configuracin',\n    description: 'Configura las preferencias de DJ Console',\n    reset: 'Restablecer',\n    save: 'Guardar',\n    \n    // Pestaas\n    audio: 'Audio',\n    microphone: 'Micrfono',\n    interface: 'Interfaz',\n    recording: 'Grabacin',\n    streaming: 'Transmisin',\n    advanced: 'Avanzado',\n    info: 'Info',\n    \n    // Advanced Settings\n    advancedSettings: 'Configuracin Avanzada',\n    dataManagement: 'Gestin de Datos',\n    exportSettings: 'Exportar Configuracin',\n    importSettings: 'Importar Configuracin',\n    resetOptions: 'Opciones de Reset',\n    resetAudioSettings: 'Reset Configuracin Audio',\n    resetAudioSettingsDesc: 'Restaurar configuracin de audio predeterminada',\n    resetInterfaceSettings: 'Reset Configuracin Interfaz',\n    resetInterfaceSettingsDesc: 'Restaurar preferencias de interfaz predeterminadas',\n    resetAllSettings: 'Reset Toda la Configuracin',\n    resetAllSettingsDesc: 'Restaurar toda la configuracin predeterminada',\n    about: 'Acerca de',\n    version: 'Versin',\n    build: 'Build',\n    license: 'Licencia',\n    author: 'Autor',\n\n    // Audio\n    audioSettings: 'Configuracin de Audio',\n    sampleRate: 'Frecuencia de Muestreo',\n    bitDepth: 'Profundidad de Bits',\n    bufferSize: 'Tamao del Buffer',\n    latency: 'Latencia',\n    crossfadeDuration: 'Duracin del Crossfade',\n    fadeInOut: 'Fade In/Out de Pistas',\n    outputDevice: 'Dispositivo de Salida',\n    outputDeviceLocal: 'Dispositivo de Salida (Local)',\n    masterVolume: 'Volumen Principal',\n\n    // Micrfono\n    microphoneSettings: 'Configuracin del Micrfono',\n    inputDevice: 'Dispositivo de Entrada',\n    inputGain: 'Ganancia de Entrada',\n    monitorLevel: 'Nivel de Monitor',\n    echoCancellation: 'Cancelacin de Eco',\n    noiseSuppression: 'Supresin de Ruido',\n    autoGainControl: 'Control Automtico de Ganancia',\n    duckingPercent: 'Porcentaje de Ducking (Baja Msica)',\n    pushToTalkKey: 'Tecla Push-to-Talk',\n\n    // Interfaz\n    interfaceSettings: 'Configuracin de Interfaz',\n    theme: 'Tema',\n    language: 'Idioma',\n    showWaveforms: 'Mostrar Formas de Onda',\n    showSpectrum: 'Mostrar Analizador de Espectro',\n    showBeatGrid: 'Mostrar Rejilla de Beat',\n    enableAnimations: 'Habilitar Animaciones'\n  },\n\n  // Temas\n  themes: {\n    dark: ' Oscuro',\n    light: ' Claro',\n    infernal: ' Infernal',\n    auto: ' Automtico'\n  },\n\n  // Idiomas\n  languages: {\n    it: ' Italiano',\n    en: ' English',\n    es: ' Espaol',\n    fr: ' Franais',\n    de: ' Deutsch'\n  },\n\n  // Grabacin\n  recording: {\n    title: 'Configuracin de Grabacin',\n    format: 'Formato',\n    quality: 'Calidad',\n    autoRecord: 'Grabacin Automtica',\n    saveLocation: 'Ubicacin de Guardado',\n    maxFileSize: 'Tamao Mximo de Archivo (MB)'\n  },\n\n  // Transmisin\n  streaming: {\n    title: 'Configuracin de Transmisin',\n    description: 'Gestiona la transmisin en vivo',\n    status: 'Estado',\n    connect: 'Conectar',\n    disconnect: 'Desconectar',\n    connected: 'Conectado',\n    disconnected: 'Desconectado',\n    connecting: 'Conectando...',\n    error: 'Error',\n    listeners: 'Oyentes',\n    bitrate: 'Bitrate',\n    format: 'Formato',\n    channels: 'Canales',\n    sampleRate: 'Frecuencia de Muestreo',\n    uptime: 'Tiempo de Transmisin',\n    sendMic: 'Enviar Micrfono',\n    micVolume: 'Volumen del Micrfono',\n    pushToTalk: 'Push-to-Talk',\n    metadata: 'Metadatos',\n    currentTrack: 'Pista Actual',\n    nextTrack: 'Siguiente Pista',\n    defaultBitrate: 'Bitrate Predeterminado',\n    defaultFormat: 'Formato Predeterminado',\n    autoConnect: 'Conexin Automtica',\n    reconnectAttempts: 'Intentos de Reconexin',\n    serverHost: 'Host del Servidor',\n    serverPort: 'Puerto del Servidor',\n    mountPoint: 'Punto de Montaje',\n    username: 'Nombre de usuario',\n    password: 'Contrasea',\n    showPassword: 'Mostrar contrasea',\n    hidePassword: 'Ocultar contrasea',\n    useSSL: 'Usar SSL',\n    stationName: 'Nombre de la Estacin',\n    stationUrl: 'URL de la Estacin',\n    genre: 'Gnero'\n  },\n\n  // Mensajes comunes\n  common: {\n    loading: 'Cargando...',\n    error: 'Error',\n    success: 'xito',\n    warning: 'Advertencia',\n    info: 'Informacin',\n    confirm: 'Confirmar',\n    cancel: 'Cancelar',\n    ok: 'OK',\n    yes: 'S',\n    no: 'No',\n    enabled: 'Habilitado',\n    disabled: 'Deshabilitado',\n    on: 'Encendido',\n    off: 'Apagado',\n    high: 'Alto',\n    medium: 'Medio',\n    low: 'Bajo'\n  },\n\n  // Errores\n  errors: {\n    audioContextFailed: 'No se pudo inicializar el contexto de audio',\n    microphoneAccessDenied: 'Acceso al micrfono denegado',\n    fileLoadError: 'Error al cargar archivo',\n    streamingConnectionFailed: 'Fall la conexin de transmisin',\n    settingsSaveFailed: 'Fall el guardado de configuracin',\n    databaseError: 'Error de base de datos',\n    unknownError: 'Error desconocido'\n  }\n}\n","import type { TranslationKeys } from './it'\n\nexport const fr: TranslationKeys = {\n  // Navigation\n  nav: {\n    console: 'Console',\n    library: 'Bibliothque',\n    settings: 'Paramtres',\n    streaming: 'Streaming'\n  },\n\n  // Console DJ\n  console: {\n    deckA: 'Deck A',\n    deckB: 'Deck B',\n    mixer: 'Mixeur',\n    mixerDesc: 'Dplacer pour mixer les decks',\n    transitionType: 'Type de Transition',\n    volumeControl: 'Contrle du Volume',\n    linear: 'Linaire',\n    smooth: 'Fluide', \n    sharp: 'Rapide',\n    play: 'Lecture',\n    pause: 'Pause',\n    stop: 'Arrt',\n    skipBackward: 'Retour (-10s)',\n    skipForward: 'Avance (+10s)',\n    volume: 'Volume',\n    pitch: 'Hauteur',\n    noTrack: 'Aucune piste charge',\n    loading: 'Chargement...'\n  },\n\n  // Bibliothque\n  library: {\n    title: 'Bibliothque Musicale',\n    description: 'Grez votre collection musicale',\n    search: 'Rechercher titre, artiste...',\n    selectFolder: 'Slectionner Dossier',\n    loadFolder: 'Charger Dossier',\n    importMusic: 'Importer Musique',\n    totalTracks: 'Total pistes',\n    duration: 'Dure',\n    artist: 'Artiste',\n    trackTitle: 'Titre',\n    album: 'Album',\n    genre: 'Genre',\n    year: 'Anne',\n    bpm: 'BPM',\n    key: 'Tonalit',\n    noTracks: 'Aucune piste trouve',\n    loadToDeck: 'Charger sur Deck',\n    analyzing: 'Analyse...',\n    analyzed: 'Analys',\n    error: 'Erreur'\n  },\n\n  // Paramtres\n  settings: {\n    title: 'Paramtres',\n    description: 'Configurez vos prfrences DJ Console',\n    reset: 'Rinitialiser',\n    save: 'Sauvegarder',\n    \n    // Onglets\n    audio: 'Audio',\n    microphone: 'Microphone',\n    interface: 'Interface',\n    recording: 'Enregistrement',\n    streaming: 'Streaming',\n    advanced: 'Avanc',\n    info: 'Info',\n    \n    // Advanced Settings\n    advancedSettings: 'Paramtres Avancs',\n    dataManagement: 'Gestion des Donnes',\n    exportSettings: 'Exporter les Paramtres',\n    importSettings: 'Importer les Paramtres',\n    resetOptions: 'Options de Reset',\n    resetAudioSettings: 'Reset Paramtres Audio',\n    resetAudioSettingsDesc: 'Restaurer la configuration audio par dfaut',\n    resetInterfaceSettings: 'Reset Paramtres Interface',\n    resetInterfaceSettingsDesc: 'Restaurer les prfrences d\\'interface par dfaut',\n    resetAllSettings: 'Reset Tous les Paramtres',\n    resetAllSettingsDesc: 'Restaurer tous les paramtres par dfaut',\n    about: ' Propos',\n    version: 'Version',\n    build: 'Build',\n    license: 'Licence',\n    author: 'Auteur',\n\n    // Audio\n    audioSettings: 'Paramtres Audio',\n    sampleRate: 'Frquence d\\'chantillonnage',\n    bitDepth: 'Profondeur de Bits',\n    bufferSize: 'Taille du Buffer',\n    latency: 'Latence',\n    crossfadeDuration: 'Dure du Crossfade',\n    fadeInOut: 'Fade In/Out des Pistes',\n    outputDevice: 'Priphrique de Sortie',\n    outputDeviceLocal: 'Priphrique de Sortie (Local)',\n    masterVolume: 'Volume Principal',\n\n    // Microphone\n    microphoneSettings: 'Paramtres du Microphone',\n    inputDevice: 'Priphrique d\\'Entre',\n    inputGain: 'Gain d\\'Entre',\n    monitorLevel: 'Niveau de Monitoring',\n    echoCancellation: 'Suppression d\\'cho',\n    noiseSuppression: 'Suppression de Bruit',\n    autoGainControl: 'Contrle Automatique du Gain',\n    duckingPercent: 'Pourcentage de Ducking (Baisse Musique)',\n    pushToTalkKey: 'Touche Push-to-Talk',\n\n    // Interface\n    interfaceSettings: 'Paramtres d\\'Interface',\n    theme: 'Thme',\n    language: 'Langue',\n    showWaveforms: 'Afficher les Formes d\\'Onde',\n    showSpectrum: 'Afficher l\\'Analyseur de Spectre',\n    showBeatGrid: 'Afficher la Grille de Beat',\n    enableAnimations: 'Activer les Animations'\n  },\n\n  // Thmes\n  themes: {\n    dark: ' Sombre',\n    light: ' Clair',\n    infernal: ' Infernal',\n    auto: ' Automatique'\n  },\n\n  // Langues\n  languages: {\n    it: ' Italiano',\n    en: ' English',\n    es: ' Espaol',\n    fr: ' Franais',\n    de: ' Deutsch'\n  },\n\n  // Enregistrement\n  recording: {\n    title: 'Paramtres d\\'Enregistrement',\n    format: 'Format',\n    quality: 'Qualit',\n    autoRecord: 'Enregistrement Automatique',\n    saveLocation: 'Emplacement de Sauvegarde',\n    maxFileSize: 'Taille Maximale de Fichier (MB)'\n  },\n\n  // Streaming\n  streaming: {\n    title: 'Paramtres de Streaming',\n    description: 'Grer la diffusion en direct',\n    status: 'Statut',\n    connect: 'Connecter',\n    disconnect: 'Dconnecter',\n    connected: 'Connect',\n    disconnected: 'Dconnect',\n    connecting: 'Connexion...',\n    error: 'Erreur',\n    listeners: 'Auditeurs',\n    bitrate: 'Bitrate',\n    format: 'Format',\n    channels: 'Canaux',\n    sampleRate: 'Frquence d\\'chantillonnage',\n    uptime: 'Temps de Diffusion',\n    sendMic: 'Envoyer Microphone',\n    micVolume: 'Volume du Microphone',\n    pushToTalk: 'Push-to-Talk',\n    metadata: 'Mtadonnes',\n    currentTrack: 'Piste Actuelle',\n    nextTrack: 'Piste Suivante',\n    defaultBitrate: 'Bitrate par Dfaut',\n    defaultFormat: 'Format par Dfaut',\n    autoConnect: 'Connexion Automatique',\n    reconnectAttempts: 'Tentatives de Reconnexion',\n    serverHost: 'Hte du Serveur',\n    serverPort: 'Port du Serveur',\n    mountPoint: 'Point de Montage',\n    username: 'Nom d\\'utilisateur',\n    password: 'Mot de passe',\n    showPassword: 'Afficher le mot de passe',\n    hidePassword: 'Masquer le mot de passe',\n    useSSL: 'Utiliser SSL',\n    stationName: 'Nom de la Station',\n    stationUrl: 'URL de la Station',\n    genre: 'Genre'\n  },\n\n  // Messages communs\n  common: {\n    loading: 'Chargement...',\n    error: 'Erreur',\n    success: 'Succs',\n    warning: 'Avertissement',\n    info: 'Information',\n    confirm: 'Confirmer',\n    cancel: 'Annuler',\n    ok: 'OK',\n    yes: 'Oui',\n    no: 'Non',\n    enabled: 'Activ',\n    disabled: 'Dsactiv',\n    on: 'Allum',\n    off: 'teint',\n    high: 'lev',\n    medium: 'Moyen',\n    low: 'Bas'\n  },\n\n  // Erreurs\n  errors: {\n    audioContextFailed: 'Impossible d\\'initialiser le contexte audio',\n    microphoneAccessDenied: 'Accs au microphone refus',\n    fileLoadError: 'Erreur de chargement de fichier',\n    streamingConnectionFailed: 'chec de la connexion streaming',\n    settingsSaveFailed: 'chec de la sauvegarde des paramtres',\n    databaseError: 'Erreur de base de donnes',\n    unknownError: 'Erreur inconnue'\n  }\n}\n","import type { TranslationKeys } from './it'\n\nexport const de: TranslationKeys = {\n  // Navigation\n  nav: {\n    console: 'Konsole',\n    library: 'Bibliothek',\n    settings: 'Einstellungen',\n    streaming: 'Streaming'\n  },\n\n  // DJ Console\n  console: {\n    deckA: 'Deck A',\n    deckB: 'Deck B',\n    mixer: 'Mixer',\n    mixerDesc: 'Bewegen zum Mischen der Decks',\n    transitionType: 'bergangstyp',\n    volumeControl: 'Lautstrkeregelung',\n    linear: 'Linear',\n    smooth: 'Sanft', \n    sharp: 'Scharf',\n    play: 'Abspielen',\n    pause: 'Pause',\n    stop: 'Stopp',\n    skipBackward: 'Zurck (-10s)',\n    skipForward: 'Vorwrts (+10s)',\n    volume: 'Lautstrke',\n    pitch: 'Tonhhe',\n    noTrack: 'Kein Track geladen',\n    loading: 'Laden...'\n  },\n\n  // Bibliothek\n  library: {\n    title: 'Musikbibliothek',\n    description: 'Verwalte deine Musiksammlung',\n    search: 'Titel, Knstler suchen...',\n    selectFolder: 'Ordner Auswhlen',\n    loadFolder: 'Ordner Laden',\n    importMusic: 'Musik Importieren',\n    totalTracks: 'Gesamte Tracks',\n    duration: 'Dauer',\n    artist: 'Knstler',\n    trackTitle: 'Titel',\n    album: 'Album',\n    genre: 'Genre',\n    year: 'Jahr',\n    bpm: 'BPM',\n    key: 'Tonart',\n    noTracks: 'Keine Tracks gefunden',\n    loadToDeck: 'Zu Deck Laden',\n    analyzing: 'Analysiere...',\n    analyzed: 'Analysiert',\n    error: 'Fehler'\n  },\n\n  // Einstellungen\n  settings: {\n    title: 'Einstellungen',\n    description: 'Konfiguriere deine DJ Console Einstellungen',\n    reset: 'Zurcksetzen',\n    save: 'Speichern',\n    \n    // Tabs\n    audio: 'Audio',\n    microphone: 'Mikrofon',\n    interface: 'Oberflche',\n    recording: 'Aufnahme',\n    streaming: 'Streaming',\n    advanced: 'Erweitert',\n    info: 'Info',\n    \n    // Advanced Settings\n    advancedSettings: 'Erweiterte Einstellungen',\n    dataManagement: 'Datenverwaltung',\n    exportSettings: 'Einstellungen Exportieren',\n    importSettings: 'Einstellungen Importieren',\n    resetOptions: 'Reset-Optionen',\n    resetAudioSettings: 'Audio-Einstellungen Zurcksetzen',\n    resetAudioSettingsDesc: 'Standard-Audiokonfiguration wiederherstellen',\n    resetInterfaceSettings: 'Interface-Einstellungen Zurcksetzen',\n    resetInterfaceSettingsDesc: 'Standard-Interface-Prferenzen wiederherstellen',\n    resetAllSettings: 'Alle Einstellungen Zurcksetzen',\n    resetAllSettingsDesc: 'Alle Standardeinstellungen wiederherstellen',\n    about: 'ber',\n    version: 'Version',\n    build: 'Build',\n    license: 'Lizenz',\n    author: 'Autor',\n\n    // Audio\n    audioSettings: 'Audio-Einstellungen',\n    sampleRate: 'Abtastrate',\n    bitDepth: 'Bit-Tiefe',\n    bufferSize: 'Puffergre',\n    latency: 'Latenz',\n    crossfadeDuration: 'Crossfade-Dauer',\n    fadeInOut: 'Fade In/Out Tracks',\n    outputDevice: 'Ausgabegert',\n    outputDeviceLocal: 'Ausgabegert (Lokal)',\n    masterVolume: 'Master-Lautstrke',\n\n    // Mikrofon\n    microphoneSettings: 'Mikrofon-Einstellungen',\n    inputDevice: 'Eingabegert',\n    inputGain: 'Eingangsverstrkung',\n    monitorLevel: 'Monitor-Pegel',\n    echoCancellation: 'Echo-Unterdrckung',\n    noiseSuppression: 'Rauschunterdrckung',\n    autoGainControl: 'Automatische Verstrkungsregelung',\n    duckingPercent: 'Ducking-Prozent (Musik Senken)',\n    pushToTalkKey: 'Push-to-Talk Taste',\n\n    // Oberflche\n    interfaceSettings: 'Oberflchen-Einstellungen',\n    theme: 'Theme',\n    language: 'Sprache',\n    showWaveforms: 'Wellenformen Anzeigen',\n    showSpectrum: 'Spektrum-Analyzer Anzeigen',\n    showBeatGrid: 'Beat-Raster Anzeigen',\n    enableAnimations: 'Animationen Aktivieren'\n  },\n\n  // Themes\n  themes: {\n    dark: ' Dunkel',\n    light: ' Hell',\n    infernal: ' Infernal',\n    auto: ' Automatisch'\n  },\n\n  // Sprachen\n  languages: {\n    it: ' Italiano',\n    en: ' English',\n    es: ' Espaol',\n    fr: ' Franais',\n    de: ' Deutsch'\n  },\n\n  // Aufnahme\n  recording: {\n    title: 'Aufnahme-Einstellungen',\n    format: 'Format',\n    quality: 'Qualitt',\n    autoRecord: 'Automatische Aufnahme',\n    saveLocation: 'Speicherort',\n    maxFileSize: 'Maximale Dateigre (MB)'\n  },\n\n  // Streaming\n  streaming: {\n    title: 'Streaming-Einstellungen',\n    description: 'Live-bertragung verwalten',\n    status: 'Status',\n    connect: 'Verbinden',\n    disconnect: 'Trennen',\n    connected: 'Verbunden',\n    disconnected: 'Getrennt',\n    connecting: 'Verbinde...',\n    error: 'Fehler',\n    listeners: 'Zuhrer',\n    bitrate: 'Bitrate',\n    format: 'Format',\n    channels: 'Kanle',\n    sampleRate: 'Abtastrate',\n    uptime: 'Sendezeit',\n    sendMic: 'Mikrofon Senden',\n    micVolume: 'Mikrofon-Lautstrke',\n    pushToTalk: 'Push-to-Talk',\n    metadata: 'Metadaten',\n    currentTrack: 'Aktueller Track',\n    nextTrack: 'Nchster Track',\n    defaultBitrate: 'Standard-Bitrate',\n    defaultFormat: 'Standard-Format',\n    autoConnect: 'Automatisch Verbinden',\n    reconnectAttempts: 'Wiederverbindungsversuche',\n    serverHost: 'Server-Host',\n    serverPort: 'Server-Port',\n    mountPoint: 'Mount-Point',\n    username: 'Benutzername',\n    password: 'Passwort',\n    showPassword: 'Passwort anzeigen',\n    hidePassword: 'Passwort ausblenden',\n    useSSL: 'SSL verwenden',\n    stationName: 'Sender-Name',\n    stationUrl: 'Sender-URL',\n    genre: 'Genre'\n  },\n\n  // Gemeinsame Nachrichten\n  common: {\n    loading: 'Laden...',\n    error: 'Fehler',\n    success: 'Erfolg',\n    warning: 'Warnung',\n    info: 'Information',\n    confirm: 'Besttigen',\n    cancel: 'Abbrechen',\n    ok: 'OK',\n    yes: 'Ja',\n    no: 'Nein',\n    enabled: 'Aktiviert',\n    disabled: 'Deaktiviert',\n    on: 'Ein',\n    off: 'Aus',\n    high: 'Hoch',\n    medium: 'Mittel',\n    low: 'Niedrig'\n  },\n\n  // Fehler\n  errors: {\n    audioContextFailed: 'Audio-Kontext konnte nicht initialisiert werden',\n    microphoneAccessDenied: 'Mikrofon-Zugriff verweigert',\n    fileLoadError: 'Datei-Ladefehler',\n    streamingConnectionFailed: 'Streaming-Verbindung fehlgeschlagen',\n    settingsSaveFailed: 'Speichern der Einstellungen fehlgeschlagen',\n    databaseError: 'Datenbankfehler',\n    unknownError: 'Unbekannter Fehler'\n  }\n}\n","import { it, type TranslationKeys } from './it'\nimport { en } from './en'\nimport { es } from './es'\nimport { fr } from './fr'\nimport { de } from './de'\n\nexport type Language = 'it' | 'en' | 'es' | 'fr' | 'de'\n\nconst translations: Record<Language, TranslationKeys> = {\n  it,\n  en,\n  es,\n  fr,\n  de\n}\n\nlet currentLanguage: Language = 'it'\n\n// Funzione per ottenere la traduzione\nexport function t(key: string, language?: Language): string {\n  const lang = language || currentLanguage\n  const keys = key.split('.')\n  \n  let value: any = translations[lang] || translations.it\n  \n  for (const k of keys) {\n    value = value?.[k]\n    if (value === undefined) {\n      // Fallback all'italiano se la chiave non esiste\n      value = translations.it\n      for (const fallbackKey of keys) {\n        value = value?.[fallbackKey]\n        if (value === undefined) {\n          console.warn(`Translation key not found: ${key}`)\n          return key\n        }\n      }\n      break\n    }\n  }\n  \n  return typeof value === 'string' ? value : key\n}\n\n// Funzione per cambiare lingua\nexport function setLanguage(language: Language) {\n  if (translations[language]) {\n    currentLanguage = language\n    // Emetti evento per aggiornare i componenti\n    window.dispatchEvent(new CustomEvent('language-changed', { detail: language }))\n  }\n}\n\n// Funzione per ottenere la lingua corrente\nexport function getCurrentLanguage(): Language {\n  return currentLanguage\n}\n\n// Funzione per ottenere tutte le lingue disponibili\nexport function getAvailableLanguages(): Language[] {\n  return Object.keys(translations) as Language[]\n}\n\n// Hook React per le traduzioni\nimport { useState, useEffect } from 'react'\n\nexport function useTranslation() {\n  const [, forceUpdate] = useState({})\n  \n  useEffect(() => {\n    const handleLanguageChange = () => {\n      forceUpdate({})\n    }\n    \n    window.addEventListener('language-changed', handleLanguageChange)\n    return () => window.removeEventListener('language-changed', handleLanguageChange)\n  }, [])\n  \n  return {\n    t: (key: string) => t(key),\n    language: currentLanguage,\n    setLanguage\n  }\n}\n\nexport { type TranslationKeys }\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useTranslation } from '../i18n'\n\nconst TopNav = () => {\n  const { t } = useTranslation()\n  \n  const items = [\n    { path: '/', label: t('nav.console') },\n    { path: '/library', label: 'Libreria & Playlist' },\n    { path: '/settings', label: t('nav.settings') },\n  ]\n\n  return (\n    <header className=\"w-full bg-dj-primary border-b border-dj-accent/30\">\n      <div className=\"max-w-screen-2xl mx-auto px-4\">\n        <div className=\"h-14 flex items-center justify-between\">\n          <div className=\"text-white font-dj font-bold\">DJ Console Pro</div>\n          <nav className=\"flex items-center space-x-1\">\n            {items.map(item => (\n              <NavLink\n                key={item.path}\n                to={item.path}\n                className={({ isActive }) =>\n                  `flex items-center space-x-2 px-3 py-2 rounded-md text-sm transition-colors ${\n                    isActive ? 'bg-dj-accent text-white' : 'text-dj-light/80 hover:bg-dj-accent/20 hover:text-white'\n                  }`\n                }\n              >\n                <span className=\"font-medium\">{item.label}</span>\n              </NavLink>\n            ))}\n          </nav>\n        </div>\n      </div>\n    </header>\n  )\n}\n\nexport default TopNav\n\n\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\"path\", { d: \"M22 12h-4l-3 9L9 3l-3 9H2\", key: \"d5dnw9\" }]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"polyline\", { points: \"22 4 12 14.01 9 11.01\", key: \"6xbx8j\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Disc = createLucideIcon(\"Disc\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Disc as default };\n//# sourceMappingURL=disc.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst GripVertical = createLucideIcon(\"GripVertical\", [\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }],\n  [\"circle\", { cx: \"9\", cy: \"5\", r: \"1\", key: \"hp0tcf\" }],\n  [\"circle\", { cx: \"9\", cy: \"19\", r: \"1\", key: \"fkjjf6\" }],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"15\", cy: \"5\", r: \"1\", key: \"19l28e\" }],\n  [\"circle\", { cx: \"15\", cy: \"19\", r: \"1\", key: \"f4zoj3\" }]\n]);\n\nexport { GripVertical as default };\n//# sourceMappingURL=grip-vertical.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Headphones = createLucideIcon(\"Headphones\", [\n  [\n    \"path\",\n    {\n      d: \"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3\",\n      key: \"1xhozi\"\n    }\n  ]\n]);\n\nexport { Headphones as default };\n//# sourceMappingURL=headphones.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Home = createLucideIcon(\"Home\", [\n  [\n    \"path\",\n    { d: \"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\", key: \"y5dka4\" }\n  ],\n  [\"polyline\", { points: \"9 22 9 12 15 12 15 22\", key: \"e2us08\" }]\n]);\n\nexport { Home as default };\n//# sourceMappingURL=home.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst MicOff = createLucideIcon(\"MicOff\", [\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }],\n  [\"path\", { d: \"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2\", key: \"80xlxr\" }],\n  [\"path\", { d: \"M5 10v2a7 7 0 0 0 12 5\", key: \"p2k8kg\" }],\n  [\"path\", { d: \"M15 9.34V5a3 3 0 0 0-5.68-1.33\", key: \"1gzdoj\" }],\n  [\"path\", { d: \"M9 9v3a3 3 0 0 0 5.12 2.12\", key: \"r2i35w\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"19\", y2: \"22\", key: \"x3vr5v\" }]\n]);\n\nexport { MicOff as default };\n//# sourceMappingURL=mic-off.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Mic = createLucideIcon(\"Mic\", [\n  [\n    \"path\",\n    {\n      d: \"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z\",\n      key: \"131961\"\n    }\n  ],\n  [\"path\", { d: \"M19 10v2a7 7 0 0 1-14 0v-2\", key: \"1vc78b\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"19\", y2: \"22\", key: \"x3vr5v\" }]\n]);\n\nexport { Mic as default };\n//# sourceMappingURL=mic.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Music = createLucideIcon(\"Music\", [\n  [\"path\", { d: \"M9 18V5l12-2v13\", key: \"1jmyc2\" }],\n  [\"circle\", { cx: \"6\", cy: \"18\", r: \"3\", key: \"fqmcym\" }],\n  [\"circle\", { cx: \"18\", cy: \"16\", r: \"3\", key: \"1hluhg\" }]\n]);\n\nexport { Music as default };\n//# sourceMappingURL=music.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Pause = createLucideIcon(\"Pause\", [\n  [\"rect\", { width: \"4\", height: \"16\", x: \"6\", y: \"4\", key: \"iffhe4\" }],\n  [\"rect\", { width: \"4\", height: \"16\", x: \"14\", y: \"4\", key: \"sjin7j\" }]\n]);\n\nexport { Pause as default };\n//# sourceMappingURL=pause.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"5 3 19 12 5 21 5 3\", key: \"191637\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Radio = createLucideIcon(\"Radio\", [\n  [\"path\", { d: \"M4.9 19.1C1 15.2 1 8.8 4.9 4.9\", key: \"1vaf9d\" }],\n  [\"path\", { d: \"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5\", key: \"u1ii0m\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5\", key: \"1j5fej\" }],\n  [\"path\", { d: \"M19.1 4.9C23 8.8 23 15.1 19.1 19\", key: \"10b0cb\" }]\n]);\n\nexport { Radio as default };\n//# sourceMappingURL=radio.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\n    \"path\",\n    { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }\n  ],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\n    \"path\",\n    { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }\n  ],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\n    \"path\",\n    { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }\n  ],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst SkipBack = createLucideIcon(\"SkipBack\", [\n  [\"polygon\", { points: \"19 20 9 12 19 4 19 20\", key: \"o2sva\" }],\n  [\"line\", { x1: \"5\", x2: \"5\", y1: \"19\", y2: \"5\", key: \"1ocqjk\" }]\n]);\n\nexport { SkipBack as default };\n//# sourceMappingURL=skip-back.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst SkipForward = createLucideIcon(\"SkipForward\", [\n  [\"polygon\", { points: \"5 4 15 12 5 20 5 4\", key: \"16p6eg\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"5\", y2: \"19\", key: \"futhcm\" }]\n]);\n\nexport { SkipForward as default };\n//# sourceMappingURL=skip-forward.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Square = createLucideIcon(\"Square\", [\n  [\n    \"rect\",\n    { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }\n  ]\n]);\n\nexport { Square as default };\n//# sourceMappingURL=square.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Terminal = createLucideIcon(\"Terminal\", [\n  [\"polyline\", { points: \"4 17 10 11 4 5\", key: \"akl6gq\" }],\n  [\"line\", { x1: \"12\", x2: \"20\", y1: \"19\", y2: \"19\", key: \"q2wloq\" }]\n]);\n\nexport { Terminal as default };\n//# sourceMappingURL=terminal.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Volume2 = createLucideIcon(\"Volume2\", [\n  [\"polygon\", { points: \"11 5 6 9 2 9 2 15 6 15 11 19 11 5\", key: \"16drj5\" }],\n  [\"path\", { d: \"M15.54 8.46a5 5 0 0 1 0 7.07\", key: \"ltjumu\" }],\n  [\"path\", { d: \"M19.07 4.93a10 10 0 0 1 0 14.14\", key: \"1kegas\" }]\n]);\n\nexport { Volume2 as default };\n//# sourceMappingURL=volume-2.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst VolumeX = createLucideIcon(\"VolumeX\", [\n  [\"polygon\", { points: \"11 5 6 9 2 9 2 15 6 15 11 19 11 5\", key: \"16drj5\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"9\", y2: \"15\", key: \"1ewh16\" }],\n  [\"line\", { x1: \"16\", x2: \"22\", y1: \"9\", y2: \"15\", key: \"5ykzw1\" }]\n]);\n\nexport { VolumeX as default };\n//# sourceMappingURL=volume-x.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst WifiOff = createLucideIcon(\"WifiOff\", [\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 4.17-2.65\", key: \"11utq1\" }],\n  [\"path\", { d: \"M10.66 5c4.01-.36 8.14.9 11.34 3.76\", key: \"hxefdu\" }],\n  [\"path\", { d: \"M16.85 11.25a10 10 0 0 1 2.22 1.68\", key: \"q734kn\" }],\n  [\"path\", { d: \"M5 13a10 10 0 0 1 5.24-2.76\", key: \"piq4yl\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { WifiOff as default };\n//# sourceMappingURL=wifi-off.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Wifi = createLucideIcon(\"Wifi\", [\n  [\"path\", { d: \"M5 13a10 10 0 0 1 14 0\", key: \"6v8j51\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 20 0\", key: \"dnpr2z\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { Wifi as default };\n//# sourceMappingURL=wifi.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.mjs.map\n","export interface DatabaseTrack {\n  id: string\n  title: string\n  artist: string\n  album?: string\n  genre?: string\n  duration: number\n  bpm?: number\n  key?: string\n  energy?: 'low' | 'medium' | 'high'\n  url: string\n  blobId?: string\n  fileUrl?: string\n  waveform?: number[]\n  playCount: number\n  rating: number\n  addedAt: Date\n  lastPlayed?: Date\n}\n\nexport interface DatabasePlaylist {\n  id: string\n  name: string\n  description?: string\n  tracks: string[] // track IDs\n  isAutoPlaylist: boolean\n  autoRules?: {\n    genre?: string[]\n    bpmRange?: { min: number; max: number }\n    energy?: 'low' | 'medium' | 'high'\n    maxDuration?: number\n  }\n  createdAt: Date\n  updatedAt: Date\n}\n\nexport interface IcecastServer {\n  id: string\n  name: string\n  host: string\n  port: number\n  mount: string\n  username: string\n  password: string\n  useSSL: boolean\n  isDefault?: boolean\n}\n\nexport interface DatabaseSettings {\n  audio: {\n    sampleRate: number\n    bitDepth: number\n    bufferSize: number\n    latency: number\n    crossfadeDuration: number\n    fadeInOut: boolean\n    outputDevice?: string\n  }\n  microphone: {\n    inputDevice: string\n    sampleRate: number\n    echoCancellation: boolean\n    noiseSuppression: boolean\n    autoGainControl: boolean\n    duckingPercent?: number\n    pushToTalkKey?: string\n  }\n  interface: {\n    theme: 'dark' | 'light' | 'auto'\n    language: string\n    showWaveform: boolean\n    showSpectrum: boolean\n    showBeatGrid?: boolean\n    animations?: boolean\n  }\n  streaming: {\n    defaultBitrate: number\n    defaultFormat: 'mp3' | 'aac' | 'ogg' | 'opus'\n    channels: number\n    autoConnect: boolean\n    reconnectAttempts: number\n    bridgeUrl?: string\n    icecastServers: IcecastServer[]  //  MULTIPLI SERVER\n    defaultIcecastServerId?: string  //  SERVER DI DEFAULT\n    metadata?: {\n      stationName?: string\n      stationUrl?: string\n      genre?: string\n    }\n  }\n}\n\nclass LocalDatabase {\n  private tracks: Map<string, DatabaseTrack> = new Map()\n  private playlists: Map<string, DatabasePlaylist> = new Map()\n  private settings: DatabaseSettings = this.getDefaultSettings()\n  private isInitialized = false\n  \n  private emitUpdate(kind: 'tracks' | 'playlists' | 'settings') {\n    try {\n      const evt = new CustomEvent('djconsole:db-updated', { detail: { kind } })\n      window.dispatchEvent(evt)\n    } catch {}\n  }\n\n  constructor() {\n    this.initialize()\n  }\n\n  private getDefaultSettings(): DatabaseSettings {\n    return {\n      audio: {\n        sampleRate: 48000,  //  FIX: Opus supporta 48000Hz\n        bitDepth: 16,\n        bufferSize: 4096,   //  BILANCIATO: Buffer moderato per evitare blocchi\n        latency: 50,        //  BILANCIATO: Latenza moderata per evitare blocchi\n        crossfadeDuration: 3,\n        fadeInOut: true,\n        outputDevice: 'default'\n      },\n      microphone: {\n        inputDevice: 'default',\n        sampleRate: 48000,  //  FIX: Opus supporta 48000Hz\n        echoCancellation: true,\n        noiseSuppression: true,\n        autoGainControl: true,\n        duckingPercent: 50,\n        pushToTalkKey: 'Space'\n      },\n      interface: {\n        theme: 'dark',\n        language: 'it',\n        showWaveform: true,\n        showSpectrum: true,\n        showBeatGrid: true,\n        animations: true\n      },\n      streaming: {\n        defaultBitrate: 128,\n        defaultFormat: 'opus', // CAMBIATO: era 'mp3', ora usa OPUS come RadioBoss\n        channels: 2,\n        autoConnect: false,\n        reconnectAttempts: 5,\n        bridgeUrl: '',\n        icecastServers: [  //  MULTIPLI SERVER ICECAST\n          {\n            id: 'default-server',\n            name: 'RadioBoss Server',\n            host: '82.145.63.6',\n            port: 5040,\n            mount: '/stream:1',\n            username: 'source',\n            password: '811126864dj',\n            useSSL: false,\n            isDefault: true\n          },\n          {\n            id: 'backup-server',\n            name: 'Backup Server',\n            host: 'dj.onlinewebone.com',\n            port: 8004,\n            mount: '/live',\n            username: 'source',\n            password: 'inferno@inferno',\n            useSSL: false,\n            isDefault: false\n          }\n        ],\n        defaultIcecastServerId: 'default-server',  //  SERVER DI DEFAULT\n        metadata: {\n          stationName: 'DJ Console Pro - Live',\n          stationUrl: 'https://dj.onlinewebone.com',\n          genre: 'Electronic/Live DJ'\n        }\n      }\n    }\n  }\n\n  private async initialize() {\n    try {\n      // Load data from localStorage\n      await this.loadFromStorage()\n      this.isInitialized = true\n      console.log('LocalDatabase initialized successfully')\n    } catch (error) {\n      console.error('Failed to initialize LocalDatabase:', error)\n      // Create default data if loading fails\n      this.createDefaultData()\n    }\n  }\n\n  private async loadFromStorage() {\n    try {\n      // Prefer Electron JSON DB when available\n      const dbStore = (window as any).dbStore\n      if (dbStore && typeof dbStore.load === 'function') {\n        try {\n          const res = await dbStore.load()\n          if (res && res.ok && res.data) {\n            const data = res.data\n            if (Array.isArray(data.tracks)) {\n              let changed = false\n              for (const raw of data.tracks) {\n                const track = { ...raw }\n                if (track.addedAt) track.addedAt = new Date(track.addedAt)\n                if (track.lastPlayed) track.lastPlayed = new Date(track.lastPlayed)\n                if (typeof track.url === 'string' && track.url.startsWith('blob:') && !track.blobId) {\n                  changed = true\n                  continue\n                }\n                this.tracks.set(track.id, track)\n              }\n              if (changed) await this.saveToStorage()\n            }\n            if (Array.isArray(data.playlists)) {\n              data.playlists.forEach((playlist: any) => {\n                playlist.createdAt = new Date(playlist.createdAt)\n                playlist.updatedAt = new Date(playlist.updatedAt)\n                this.playlists.set(playlist.id, playlist)\n              })\n            }\n            if (data.settings) {\n              this.settings = { ...this.settings, ...data.settings }\n            }\n            return\n          }\n        } catch (e) {\n          console.warn('dbStore.load failed, fallback to localStorage', e)\n        }\n      }\n\n      // Fallback: Load from localStorage\n      // Load tracks\n      const tracksData = localStorage.getItem('djconsole_tracks')\n      if (tracksData) {\n        const tracks = JSON.parse(tracksData)\n        let changed = false\n        for (const raw of tracks) {\n          const track = { ...raw }\n          track.addedAt = new Date(track.addedAt)\n          if (track.lastPlayed) track.lastPlayed = new Date(track.lastPlayed)\n          // Drop legacy blob: ObjectURLs persisted without blobId (invalid across reloads)\n          if (typeof track.url === 'string' && track.url.startsWith('blob:') && !track.blobId) {\n            changed = true\n            continue\n          }\n          this.tracks.set(track.id, track)\n        }\n        if (changed) {\n          await this.saveToStorage()\n        }\n      }\n\n      // Load playlists\n      const playlistsData = localStorage.getItem('djconsole_playlists')\n      if (playlistsData) {\n        const playlists = JSON.parse(playlistsData)\n        playlists.forEach((playlist: any) => {\n          playlist.createdAt = new Date(playlist.createdAt)\n          playlist.updatedAt = new Date(playlist.updatedAt)\n          this.playlists.set(playlist.id, playlist)\n        })\n      }\n\n      // Load settings\n      const settingsData = localStorage.getItem('djconsole_settings')\n      if (settingsData) {\n        this.settings = { ...this.settings, ...JSON.parse(settingsData) }\n      }\n    } catch (error) {\n      console.error('Error loading from storage:', error)\n      throw error\n    }\n  }\n\n  private async saveToStorage() {\n    try {\n      // Save tracks (sanitize runtime blob URLs back to idb placeholders when blobId exists)\n      const tracksArray = Array.from(this.tracks.values()).map(t => {\n        const clone: any = { ...t }\n        // Prefer fileUrl when present (Electron persisted path)\n        if (clone.fileUrl && typeof clone.fileUrl === 'string' && clone.fileUrl.startsWith('file://')) {\n          clone.url = clone.fileUrl\n        } else if (clone.blobId) {\n          clone.url = `idb:${clone.blobId}`\n        }\n        return clone\n      })\n      const playlistsArray = Array.from(this.playlists.values())\n      const settingsObj = this.settings\n\n      // Try Electron JSON DB first\n      const dbStore = (window as any).dbStore\n      if (dbStore && typeof dbStore.save === 'function') {\n        try {\n          await dbStore.save({ tracks: tracksArray, playlists: playlistsArray, settings: settingsObj })\n        } catch (e) {\n          console.warn('dbStore.save failed, fallback to localStorage', e)\n          localStorage.setItem('djconsole_tracks', JSON.stringify(tracksArray))\n          localStorage.setItem('djconsole_playlists', JSON.stringify(playlistsArray))\n          localStorage.setItem('djconsole_settings', JSON.stringify(settingsObj))\n        }\n      } else {\n        // Fallback to localStorage\n        localStorage.setItem('djconsole_tracks', JSON.stringify(tracksArray))\n        localStorage.setItem('djconsole_playlists', JSON.stringify(playlistsArray))\n        localStorage.setItem('djconsole_settings', JSON.stringify(settingsObj))\n      }\n    } catch (error) {\n      console.error('Error saving to storage:', error)\n      throw error\n    }\n  }\n\n  private createDefaultData() {\n    // Create sample tracks\n    const sampleTracks: DatabaseTrack[] = [\n      {\n        id: 'track_1',\n        title: 'Sample Track 1',\n        artist: 'Sample Artist',\n        album: 'Sample Album',\n        genre: 'Electronic',\n        duration: 180,\n        bpm: 128,\n        key: 'C',\n        energy: 'high',\n        url: '/samples/track1.mp3',\n        playCount: 0,\n        rating: 0,\n        addedAt: new Date()\n      },\n      {\n        id: 'track_2',\n        title: 'Sample Track 2',\n        artist: 'Sample Artist',\n        album: 'Sample Album',\n        genre: 'House',\n        duration: 200,\n        bpm: 125,\n        key: 'F',\n        energy: 'medium',\n        url: '/samples/track2.mp3',\n        playCount: 0,\n        rating: 0,\n        addedAt: new Date()\n      }\n    ]\n\n    sampleTracks.forEach(track => this.tracks.set(track.id, track))\n\n    // Create sample playlist\n    const samplePlaylist: DatabasePlaylist = {\n      id: 'playlist_1',\n      name: 'Sample Playlist',\n      description: 'A sample playlist to get you started',\n      tracks: ['track_1', 'track_2'],\n      isAutoPlaylist: false,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    }\n\n    this.playlists.set(samplePlaylist.id, samplePlaylist)\n  }\n\n  // Track Management\n  async addTrack(track: Omit<DatabaseTrack, 'id' | 'addedAt' | 'playCount' | 'rating'>): Promise<string> {\n    const id = `track_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    const newTrack: DatabaseTrack = {\n      ...track,\n      id,\n      playCount: 0,\n      rating: 0,\n      addedAt: new Date()\n    }\n\n    try { (window as any).log?.info?.(`LocalDatabase.addTrack: ${id}`) } catch {}\n    this.tracks.set(id, newTrack)\n    try {\n      await this.saveToStorage()\n      this.emitUpdate('tracks')\n    } catch (e) {\n      try { (window as any).log?.error?.(`saveToStorage error: ${e instanceof Error ? e.message : String(e)}`) } catch {}\n      throw e\n    }\n    return id\n  }\n\n  async updateTrack(id: string, updates: Partial<DatabaseTrack>): Promise<boolean> {\n    const track = this.tracks.get(id)\n    if (!track) return false\n\n    const updatedTrack = { ...track, ...updates }\n    this.tracks.set(id, updatedTrack)\n    await this.saveToStorage()\n    this.emitUpdate('tracks')\n    return true\n  }\n\n  async deleteTrack(id: string): Promise<boolean> {\n    const deleted = this.tracks.delete(id)\n    if (deleted) {\n      // Remove from all playlists\n      this.playlists.forEach(playlist => {\n        playlist.tracks = playlist.tracks.filter(trackId => trackId !== id)\n      })\n      await this.saveToStorage()\n      this.emitUpdate('tracks')\n    }\n    return deleted\n  }\n\n  async getTrack(id: string): Promise<DatabaseTrack | null> {\n    return this.tracks.get(id) || null\n  }\n\n  async getTrackResolved(id: string): Promise<DatabaseTrack | null> {\n    const t = this.tracks.get(id)\n    if (!t) return null\n    const track = { ...t }\n    try {\n      const { getBlobUrl } = await import('./BlobStore')\n      if (track.blobId) {\n        const url = await getBlobUrl(track.blobId)\n        if (url) track.url = url\n      } else if (typeof track.url === 'string' && track.url.startsWith('idb:')) {\n        const blobId = track.url.slice(4)\n        const url = await getBlobUrl(blobId)\n        if (url) {\n          track.url = url\n          track.blobId = blobId\n        }\n      }\n    } catch (e) {\n      // IndexedDB not available: fall back to fileUrl if present\n      if (track.fileUrl && track.fileUrl.startsWith('file://')) {\n        track.url = track.fileUrl\n      }\n    }\n    return track\n  }\n\n  async getAllTracks(): Promise<DatabaseTrack[]> {\n    // Resolve IndexedDB blob URLs at runtime\n    const list = Array.from(this.tracks.values())\n    try {\n      const { getBlobUrl } = await import('./BlobStore')\n      await Promise.all(list.map(async (t) => {\n        try {\n          if (t.blobId) {\n            const url = await getBlobUrl(t.blobId)\n            if (url) t.url = url\n          } else if (typeof t.url === 'string' && t.url.startsWith('idb:')) {\n            const id = t.url.slice(4)\n            const url = await getBlobUrl(id)\n            if (url) {\n              t.url = url\n              t.blobId = id\n            }\n          }\n        } catch (_) {\n          if (t.fileUrl && t.fileUrl.startsWith('file://')) {\n            t.url = t.fileUrl\n          }\n        }\n      }))\n    } catch (e) {\n      // No IndexedDB module: fall back to file paths\n      list.forEach(t => {\n        if (t.fileUrl && t.fileUrl.startsWith('file://')) {\n          t.url = t.fileUrl\n        }\n      })\n    }\n    return list\n  }\n\n  async searchTracks(query: string, filters?: {\n    genre?: string\n    bpmRange?: { min: number; max: number }\n    energy?: 'low' | 'medium' | 'high'\n    duration?: { min: number; max: number }\n  }): Promise<DatabaseTrack[]> {\n    let tracks = Array.from(this.tracks.values())\n\n    // Text search\n    if (query) {\n      const lowerQuery = query.toLowerCase()\n      tracks = tracks.filter(track =>\n        track.title.toLowerCase().includes(lowerQuery) ||\n        track.artist.toLowerCase().includes(lowerQuery) ||\n        track.album?.toLowerCase().includes(lowerQuery) ||\n        track.genre?.toLowerCase().includes(lowerQuery)\n      )\n    }\n\n    // Apply filters\n    if (filters) {\n      if (filters.genre) {\n        tracks = tracks.filter(track => track.genre === filters.genre)\n      }\n\n      if (filters.bpmRange) {\n        tracks = tracks.filter(track => \n          track.bpm && \n          track.bpm >= filters.bpmRange!.min && \n          track.bpm <= filters.bpmRange!.max\n        )\n      }\n\n      if (filters.energy) {\n        tracks = tracks.filter(track => track.energy === filters.energy)\n      }\n\n      if (filters.duration) {\n        tracks = tracks.filter(track => \n          track.duration >= filters.duration!.min && \n          track.duration <= filters.duration!.max\n        )\n      }\n    }\n\n    return tracks\n  }\n\n  async incrementPlayCount(id: string): Promise<void> {\n    const track = this.tracks.get(id)\n    if (track) {\n      track.playCount++\n      track.lastPlayed = new Date()\n      await this.saveToStorage()\n    }\n  }\n\n  async setRating(id: string, rating: number): Promise<void> {\n    const track = this.tracks.get(id)\n    if (track) {\n      track.rating = Math.max(0, Math.min(5, rating))\n      await this.saveToStorage()\n    }\n  }\n\n  // Playlist Management\n  async createPlaylist(playlist: Omit<DatabasePlaylist, 'id' | 'createdAt' | 'updatedAt'>): Promise<string> {\n    const id = `playlist_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    const newPlaylist: DatabasePlaylist = {\n      ...playlist,\n      id,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    }\n\n    this.playlists.set(id, newPlaylist)\n    await this.saveToStorage()\n    this.emitUpdate('playlists')\n    return id\n  }\n\n  async updatePlaylist(id: string, updates: Partial<DatabasePlaylist>): Promise<boolean> {\n    const playlist = this.playlists.get(id)\n    if (!playlist) return false\n\n    const updatedPlaylist = { \n      ...playlist, \n      ...updates, \n      updatedAt: new Date() \n    }\n    this.playlists.set(id, updatedPlaylist)\n    await this.saveToStorage()\n    this.emitUpdate('playlists')\n    return true\n  }\n\n  async deletePlaylist(id: string): Promise<boolean> {\n    const deleted = this.playlists.delete(id)\n    if (deleted) {\n      await this.saveToStorage()\n      this.emitUpdate('playlists')\n    }\n    return deleted\n  }\n\n  async getPlaylist(id: string): Promise<DatabasePlaylist | null> {\n    return this.playlists.get(id) || null\n  }\n\n  async getAllPlaylists(): Promise<DatabasePlaylist[]> {\n    return Array.from(this.playlists.values())\n  }\n\n  async addTrackToPlaylist(playlistId: string, trackId: string): Promise<boolean> {\n    const playlist = this.playlists.get(playlistId)\n    if (!playlist) return false\n\n    if (!playlist.tracks.includes(trackId)) {\n      playlist.tracks.push(trackId)\n      playlist.updatedAt = new Date()\n      await this.saveToStorage()\n    }\n    return true\n  }\n\n  async removeTrackFromPlaylist(playlistId: string, trackId: string): Promise<boolean> {\n    const playlist = this.playlists.get(playlistId)\n    if (!playlist) return false\n\n    const index = playlist.tracks.indexOf(trackId)\n    if (index > -1) {\n      playlist.tracks.splice(index, 1)\n      playlist.updatedAt = new Date()\n      await this.saveToStorage()\n    }\n    return true\n  }\n\n  async reorderPlaylist(playlistId: string, trackIds: string[]): Promise<boolean> {\n    const playlist = this.playlists.get(playlistId)\n    if (!playlist) return false\n\n    playlist.tracks = trackIds\n    playlist.updatedAt = new Date()\n    await this.saveToStorage()\n    return true\n  }\n\n  // Settings Management\n  async getSettings(): Promise<DatabaseSettings> {\n    return { ...this.settings }\n  }\n\n  async updateSettings(updates: Partial<DatabaseSettings>): Promise<void> {\n    this.settings = { ...this.settings, ...updates }\n    await this.saveToStorage()\n    this.emitUpdate('settings')\n  }\n\n  // Statistics\n  async getStats(): Promise<{\n    totalTracks: number\n    totalPlaylists: number\n    totalPlayTime: number\n    mostPlayedTrack: DatabaseTrack | null\n    topGenres: { genre: string; count: number }[]\n  }> {\n    const tracks = Array.from(this.tracks.values())\n    const playlists = Array.from(this.playlists.values())\n\n    // Calculate total play time\n    const totalPlayTime = tracks.reduce((total, track) => total + (track.duration * track.playCount), 0)\n\n    // Find most played track\n    const mostPlayedTrack = tracks.reduce((max, track) => \n      track.playCount > max.playCount ? track : max, tracks[0] || null\n    )\n\n    // Calculate top genres\n    const genreCounts = new Map<string, number>()\n    tracks.forEach(track => {\n      if (track.genre) {\n        genreCounts.set(track.genre, (genreCounts.get(track.genre) || 0) + 1)\n      }\n    })\n\n    const topGenres = Array.from(genreCounts.entries())\n      .map(([genre, count]) => ({ genre, count }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 5)\n\n    return {\n      totalTracks: tracks.length,\n      totalPlaylists: playlists.length,\n      totalPlayTime,\n      mostPlayedTrack,\n      topGenres\n    }\n  }\n\n  // Import/Export\n  async exportData(): Promise<string> {\n    const data = {\n      tracks: Array.from(this.tracks.values()),\n      playlists: Array.from(this.playlists.values()),\n      settings: this.settings,\n      exportDate: new Date().toISOString()\n    }\n    return JSON.stringify(data, null, 2)\n  }\n\n  async importData(jsonData: string): Promise<boolean> {\n    try {\n      const data = JSON.parse(jsonData)\n      \n      if (data.tracks) {\n        this.tracks.clear()\n        data.tracks.forEach((track: any) => {\n          track.addedAt = new Date(track.addedAt)\n          if (track.lastPlayed) track.lastPlayed = new Date(track.lastPlayed)\n          this.tracks.set(track.id, track)\n        })\n      }\n\n      if (data.playlists) {\n        this.playlists.clear()\n        data.playlists.forEach((playlist: any) => {\n          playlist.createdAt = new Date(playlist.createdAt)\n          playlist.updatedAt = new Date(playlist.updatedAt)\n          this.playlists.set(playlist.id, playlist)\n        })\n      }\n\n      if (data.settings) {\n        this.settings = { ...this.settings, ...data.settings }\n      }\n\n      await this.saveToStorage()\n      return true\n    } catch (error) {\n      console.error('Import failed:', error)\n      return false\n    }\n  }\n\n  // Cleanup\n  async clearAllData(): Promise<void> {\n    this.tracks.clear()\n    this.playlists.clear()\n    this.settings = this.getDefaultSettings()\n    await this.saveToStorage()\n  }\n\n  // Wait for initialization\n  async waitForInitialization(): Promise<void> {\n    if (this.isInitialized) return\n    \n    return new Promise((resolve) => {\n      const checkInit = () => {\n        if (this.isInitialized) {\n          resolve()\n        } else {\n          setTimeout(checkInit, 100)\n        }\n      }\n      checkInit()\n    })\n  }\n\n  //  GESTIONE SERVER ICECAST MULTIPLI\n  async getIcecastServers(): Promise<IcecastServer[]> {\n    return this.settings.streaming.icecastServers || []\n  }\n\n  async getDefaultIcecastServer(): Promise<IcecastServer | null> {\n    const servers = await this.getIcecastServers()\n    const defaultId = this.settings.streaming.defaultIcecastServerId\n    if (defaultId) {\n      return servers.find(s => s.id === defaultId) || servers.find(s => s.isDefault) || servers[0] || null\n    }\n    return servers.find(s => s.isDefault) || servers[0] || null\n  }\n\n  async addIcecastServer(server: Omit<IcecastServer, 'id'>): Promise<string> {\n    const id = `server-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n    const newServer: IcecastServer = { ...server, id }\n    \n    this.settings.streaming.icecastServers.push(newServer)\n    await this.saveToStorage()\n    this.emitUpdate('settings')\n    return id\n  }\n\n  async updateIcecastServer(id: string, updates: Partial<Omit<IcecastServer, 'id'>>): Promise<boolean> {\n    const serverIndex = this.settings.streaming.icecastServers.findIndex(s => s.id === id)\n    if (serverIndex === -1) return false\n    \n    this.settings.streaming.icecastServers[serverIndex] = {\n      ...this.settings.streaming.icecastServers[serverIndex],\n      ...updates\n    }\n    \n    await this.saveToStorage()\n    this.emitUpdate('settings')\n    return true\n  }\n\n  async deleteIcecastServer(id: string): Promise<boolean> {\n    const serverIndex = this.settings.streaming.icecastServers.findIndex(s => s.id === id)\n    if (serverIndex === -1) return false\n    \n    this.settings.streaming.icecastServers.splice(serverIndex, 1)\n    \n    // Se era il server di default, rimuovi il riferimento\n    if (this.settings.streaming.defaultIcecastServerId === id) {\n      this.settings.streaming.defaultIcecastServerId = undefined\n    }\n    \n    await this.saveToStorage()\n    this.emitUpdate('settings')\n    return true\n  }\n\n  async setDefaultIcecastServer(id: string): Promise<boolean> {\n    const server = this.settings.streaming.icecastServers.find(s => s.id === id)\n    if (!server) return false\n    \n    // Rimuovi isDefault da tutti i server\n    this.settings.streaming.icecastServers.forEach(s => s.isDefault = false)\n    \n    // Imposta il nuovo server di default\n    server.isDefault = true\n    this.settings.streaming.defaultIcecastServerId = id\n    \n    await this.saveToStorage()\n    this.emitUpdate('settings')\n    return true\n  }\n}\n\n// Export singleton instance\nexport const localDatabase = new LocalDatabase()\nexport default localDatabase\n","// Simple IndexedDB blob store for persisting audio files\n\nconst DB_NAME = 'djconsole_blobs'\nconst STORE_NAME = 'tracks'\nconst DB_VERSION = 1\n\nlet dbPromise: Promise<IDBDatabase> | null = null\n\nfunction openDb(): Promise<IDBDatabase> {\n  if (dbPromise) return dbPromise\n  dbPromise = new Promise((resolve, reject) => {\n    const request = indexedDB.open(DB_NAME, DB_VERSION)\n    request.onupgradeneeded = () => {\n      const db = request.result\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\n        db.createObjectStore(STORE_NAME)\n      }\n    }\n    request.onsuccess = () => resolve(request.result)\n    request.onerror = () => reject(request.error)\n  })\n  return dbPromise\n}\n\nexport async function putBlob(id: string, blob: Blob): Promise<void> {\n  const db = await openDb()\n  await new Promise<void>((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readwrite')\n    const store = tx.objectStore(STORE_NAME)\n    const req = store.put(blob, id)\n    req.onsuccess = () => resolve()\n    req.onerror = () => reject(req.error)\n  })\n}\n\nexport async function getBlob(id: string): Promise<Blob | null> {\n  const db = await openDb()\n  return await new Promise<Blob | null>((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readonly')\n    const store = tx.objectStore(STORE_NAME)\n    const req = store.get(id)\n    req.onsuccess = () => resolve((req.result as Blob) || null)\n    req.onerror = () => reject(req.error)\n  })\n}\n\nconst urlCache = new Map<string, string>()\n\nexport async function getBlobUrl(id: string): Promise<string | null> {\n  if (urlCache.has(id)) return urlCache.get(id) as string\n  const blob = await getBlob(id)\n  if (!blob) return null\n  const url = URL.createObjectURL(blob)\n  urlCache.set(id, url)\n  return url\n}\n\nexport async function deleteBlob(id: string): Promise<void> {\n  const db = await openDb()\n  await new Promise<void>((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readwrite')\n    const store = tx.objectStore(STORE_NAME)\n    const req = store.delete(id)\n    req.onsuccess = () => resolve()\n    req.onerror = () => reject(req.error)\n  })\n  const existing = urlCache.get(id)\n  if (existing) URL.revokeObjectURL(existing)\n  urlCache.delete(id)\n}\n\nexport function revokeAllUrls() {\n  for (const [, url] of urlCache) URL.revokeObjectURL(url)\n  urlCache.clear()\n}\n\n\n","import React, { createContext, useContext, useReducer, useEffect, useRef } from 'react'\nimport { localDatabase, IcecastServer } from '../database/LocalDatabase'\n\nexport interface AppSettings {\n  audio: {\n    sampleRate: number\n    bitDepth: number\n    bufferSize: number\n    latency: number\n    crossfadeDuration: number\n    fadeInOut: boolean\n    outputDevice?: string\n  }\n  microphone: {\n    inputDevice: string\n    sampleRate: number\n    echoCancellation: boolean\n    noiseSuppression: boolean\n    autoGainControl: boolean\n    duckingPercent: number\n    pushToTalkKey: string\n  }\n  interface: {\n    theme: 'dark' | 'light' | 'infernal' | 'auto'\n    language: 'en' | 'it' | 'es' | 'fr' | 'de'\n    showWaveforms: boolean\n    showSpectrum: boolean\n    showBeatGrid: boolean\n    animations: boolean\n    autoAdvance: boolean\n    playlistLoop: boolean\n  }\n  recording: {\n    format: 'wav' | 'mp3' | 'flac' | 'aac'\n    quality: 'low' | 'medium' | 'high'\n    autoRecord: boolean\n    saveLocation: string\n    maxFileSize: number\n  }\n  streaming: {\n    defaultBitrate: number\n    defaultFormat: 'mp3' | 'opus' | 'aac' | 'ogg'\n    channels: number\n    autoConnect: boolean\n    reconnectAttempts: number\n    icecastServers: IcecastServer[]  //  MULTIPLI SERVER\n    defaultIcecastServerId?: string  //  SERVER DI DEFAULT\n    metadata: {\n      stationName: string\n      stationUrl: string\n      genre: string\n    }\n  }\n}\n\ntype SettingsAction =\n  | { type: 'SET_SETTINGS'; payload: AppSettings }\n  | { type: 'UPDATE_CATEGORY'; payload: { category: keyof AppSettings; settings: Partial<AppSettings[keyof AppSettings]> } }\n  | { type: 'UPDATE_SETTING'; payload: { category: keyof AppSettings; key: string; value: any } }\n  | { type: 'RESET_SETTINGS' }\n\ninterface SettingsContextType {\n  settings: AppSettings\n  updateSetting: (category: keyof AppSettings, key: string, value: any) => void\n  updateCategory: (category: keyof AppSettings, settings: Partial<AppSettings[keyof AppSettings]>) => void\n  resetSettings: () => void\n  applyTheme: (theme: 'dark' | 'light' | 'infernal' | 'auto') => void\n  applyLanguage: (language: string) => void\n  applyWaveformSettings: (showWaveforms: boolean, showSpectrum: boolean, showBeatGrid: boolean) => void\n  applyAnimationSettings: (animations: boolean) => void\n}\n\nconst defaultSettings: AppSettings = {\n  audio: {\n    sampleRate: 48000,  //  FIX: Opus supporta 48000Hz\n    bitDepth: 16,\n    bufferSize: 4096,   //  BILANCIATO: Buffer moderato per evitare blocchi\n    latency: 50,        //  BILANCIATO: Latenza moderata per evitare blocchi\n    crossfadeDuration: 3,\n    fadeInOut: true\n  },\n  microphone: {\n    inputDevice: 'default',\n    sampleRate: 48000,  //  FIX: Opus supporta 48000Hz\n    echoCancellation: true,\n    noiseSuppression: true,\n    autoGainControl: true,\n    duckingPercent: 50,\n    pushToTalkKey: 'Space'\n  },\n  interface: {\n    theme: 'dark',\n    language: 'it',\n    showWaveforms: true,\n    showSpectrum: true,\n    showBeatGrid: true,\n    animations: true,\n    autoAdvance: false,\n    playlistLoop: true\n  },\n  recording: {\n    format: 'wav',\n    quality: 'high',\n    autoRecord: false,\n    saveLocation: '/recordings',\n    maxFileSize: 100\n  },\n  streaming: {\n    defaultBitrate: 128,\n    defaultFormat: 'mp3', //  USA MP3 per compatibilit Icecast\n    channels: 2,\n    autoConnect: false,\n    reconnectAttempts: 5,\n    icecastServers: [  //  MULTIPLI SERVER ICECAST\n      {\n        id: 'default-server',\n        name: 'RadioBoss Server',\n        host: '82.145.63.6',\n        port: 5040,\n        mount: '/stream',\n        username: 'source',\n        password: '811126864dj',\n        useSSL: false,\n        isDefault: true\n      },\n      {\n        id: 'backup-server',\n        name: 'Backup Server',\n        host: 'dj.onlinewebone.com',\n        port: 8004,\n        mount: '/live',\n        username: 'source',\n        password: 'inferno@inferno',\n        useSSL: false,\n        isDefault: false\n      }\n    ],\n    defaultIcecastServerId: 'default-server',  //  SERVER DI DEFAULT\n    metadata: {\n      stationName: 'DJ Console Pro - Live',\n      stationUrl: 'https://dj.onlinewebone.com',\n      genre: 'Electronic/Live DJ'\n    }\n  }\n}\n\nfunction settingsReducer(state: AppSettings, action: SettingsAction): AppSettings {\n  switch (action.type) {\n    case 'SET_SETTINGS':\n      return action.payload\n    case 'UPDATE_CATEGORY':\n      return {\n        ...state,\n        [action.payload.category]: {\n          ...state[action.payload.category],\n          ...action.payload.settings\n        }\n      }\n    case 'UPDATE_SETTING':\n      const keys = action.payload.key.split('.')\n      const category = action.payload.category\n      \n      if (keys.length === 1) {\n        // Chiave semplice\n        return {\n          ...state,\n          [category]: {\n            ...state[category],\n            [keys[0]]: action.payload.value\n          }\n        }\n      } else {\n        // Chiave annidata (es: 'icecast.host')\n        const [mainKey, subKey] = keys\n        return {\n          ...state,\n          [category]: {\n            ...state[category],\n            [mainKey]: {\n              ...state[category][mainKey],\n              [subKey]: action.payload.value\n            }\n          }\n        }\n      }\n    case 'RESET_SETTINGS':\n      return defaultSettings\n    default:\n      return state\n  }\n}\n\nconst SettingsContext = createContext<SettingsContextType | undefined>(undefined)\n\nexport function SettingsProvider({ children }: { children: React.ReactNode }) {\n  const [settings, dispatch] = useReducer(settingsReducer, defaultSettings)\n  const isInitialized = useRef(false)\n\n  // Funzione per assicurarsi che tutte le sezioni delle impostazioni siano presenti\n  const ensureAllSettings = (savedSettings: any): AppSettings => {\n    return {\n      ...defaultSettings,\n      ...savedSettings,\n      audio: { ...defaultSettings.audio, ...savedSettings?.audio },\n      microphone: { ...defaultSettings.microphone, ...savedSettings?.microphone },\n      interface: { ...defaultSettings.interface, ...savedSettings?.interface },\n      recording: { ...defaultSettings.recording, ...savedSettings?.recording },\n      streaming: { \n        ...defaultSettings.streaming, \n        ...savedSettings?.streaming,\n        //  GESTIONE SERVER MULTIPLI\n        icecastServers: savedSettings?.streaming?.icecastServers || defaultSettings.streaming.icecastServers,\n        defaultIcecastServerId: savedSettings?.streaming?.defaultIcecastServerId || defaultSettings.streaming.defaultIcecastServerId\n      }\n    }\n  }\n\n  // Carica i settaggi dal database all'avvio\n  useEffect(() => {\n    const loadSettings = async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const savedSettings = await localDatabase.getSettings()\n        if (savedSettings) {\n          const completeSettings = ensureAllSettings(savedSettings)\n          dispatch({ type: 'SET_SETTINGS', payload: completeSettings })\n        }\n      } catch (error) {\n        console.warn('Failed to load settings:', error)\n      } finally {\n        isInitialized.current = true\n      }\n    }\n    \n    loadSettings()\n  }, [])\n\n  // Applica i settaggi quando cambiano\n  useEffect(() => {\n    if (!isInitialized.current) return\n\n    const applySettings = async () => {\n      try {\n        // Salva nel database\n        await localDatabase.updateSettings(settings)\n        \n        // Applica i settaggi in tempo reale\n        applyTheme(settings.interface.theme)\n        applyLanguage(settings.interface.language)\n        applyWaveformSettings(\n          settings.interface.showWaveforms,\n          settings.interface.showSpectrum,\n          settings.interface.showBeatGrid\n        )\n        applyAnimationSettings(settings.interface.animations)\n        \n        // Emetti evento per aggiornare altri componenti\n        window.dispatchEvent(new CustomEvent('djconsole:settings-updated', { detail: settings }))\n      } catch (error) {\n        console.error('Failed to save settings:', error)\n      }\n    }\n\n    applySettings()\n  }, [settings])\n\n  const updateSetting = (category: keyof AppSettings, key: string, value: any) => {\n    console.log(' [SETTINGS] Aggiornamento setting:', { category, key, value })\n    dispatch({ type: 'UPDATE_SETTING', payload: { category, key, value } })\n  }\n\n  const updateCategory = (category: keyof AppSettings, settings: Partial<AppSettings[keyof AppSettings]>) => {\n    dispatch({ type: 'UPDATE_CATEGORY', payload: { category, settings } })\n  }\n\n  const resetSettings = () => {\n    dispatch({ type: 'RESET_SETTINGS' })\n  }\n\n  // Applica il tema in tempo reale\n  const applyTheme = (theme: 'dark' | 'light' | 'infernal' | 'auto') => {\n    const root = document.documentElement\n    \n    if (theme === 'auto') {\n      // Rileva automaticamente il tema del sistema\n      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n      const isDark = mediaQuery.matches\n      \n      root.classList.toggle('dark', isDark)\n      root.classList.toggle('light', !isDark)\n      root.classList.remove('infernal')\n      \n      // Listener per cambiamenti del sistema\n      mediaQuery.addEventListener('change', (e) => {\n        root.classList.toggle('dark', e.matches)\n        root.classList.toggle('light', !e.matches)\n        root.classList.remove('infernal')\n      })\n    } else {\n      root.classList.remove('dark', 'light', 'infernal')\n      root.classList.add(theme)\n    }\n  }\n\n  // Applica la lingua in tempo reale\n  const applyLanguage = (language: string) => {\n    document.documentElement.lang = language\n    \n    // Importa e applica le traduzioni\n    import('../i18n').then(({ setLanguage }) => {\n      setLanguage(language as any)\n    })\n    \n    // Emetti evento per i componenti che devono aggiornarsi\n    window.dispatchEvent(new CustomEvent('djconsole:language-changed', { detail: language }))\n  }\n\n  // Applica le impostazioni dei waveform\n  const applyWaveformSettings = (showWaveforms: boolean, showSpectrum: boolean, showBeatGrid: boolean) => {\n    // Emetti eventi per i componenti che devono mostrare/nascondere elementi\n    window.dispatchEvent(new CustomEvent('djconsole:waveform-settings-changed', {\n      detail: { showWaveforms, showSpectrum, showBeatGrid }\n    }))\n  }\n\n  // Applica le impostazioni delle animazioni\n  const applyAnimationSettings = (animations: boolean) => {\n    const root = document.documentElement\n    root.style.setProperty('--enable-animations', animations ? '1' : '0')\n    \n    // Emetti evento per i componenti che devono abilitare/disabilitare animazioni\n    window.dispatchEvent(new CustomEvent('djconsole:animation-settings-changed', {\n      detail: { animations }\n    }))\n  }\n\n  const value: SettingsContextType = {\n    settings,\n    updateSetting,\n    updateCategory,\n    resetSettings,\n    applyTheme,\n    applyLanguage,\n    applyWaveformSettings,\n    applyAnimationSettings\n  }\n\n  return (\n    <SettingsContext.Provider value={value}>\n      {children}\n    </SettingsContext.Provider>\n  )\n}\n\nexport function useSettings() {\n  const context = useContext(SettingsContext)\n  if (context === undefined) {\n    throw new Error('useSettings must be used within a SettingsProvider')\n  }\n  return context\n}\n","/**\r\n * Sound Effects Manager\r\n * Gestisce la riproduzione di effetti sonori (applausi, trombette, etc.)\r\n */\r\n\r\nexport interface SoundEffect {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  duration: number // in millisecondi\r\n  volume: number // 0.0 - 1.0\r\n  category: 'applause' | 'horn' | 'transition' | 'ambient' | 'comedy'\r\n}\r\n\r\nexport class SoundEffectsManager {\r\n  private audioContext: AudioContext | null = null\r\n  private soundEffects: Map<string, AudioBuffer> = new Map()\r\n  private isInitialized: boolean = false\r\n  private masterVolume: number = 0.8\r\n\r\n  // Callbacks\r\n  private onDebug?: (message: string) => void\r\n  private onError?: (error: string) => void\r\n\r\n  constructor() {\r\n    this.initializeAudioContext()\r\n  }\r\n\r\n  setCallbacks(callbacks: {\r\n    onDebug?: (message: string) => void\r\n    onError?: (error: string) => void\r\n  }) {\r\n    this.onDebug = callbacks.onDebug\r\n    this.onError = callbacks.onError\r\n  }\r\n\r\n  private async initializeAudioContext(): Promise<void> {\r\n    try {\r\n      //  CRITICAL FIX: Usa il main AudioContext tramite ensureMainAudioContext\r\n      const ensureMainAudioContext = (window as any).ensureMainAudioContext\r\n      if (ensureMainAudioContext && typeof ensureMainAudioContext === 'function') {\r\n        this.audioContext = ensureMainAudioContext()\r\n        this.onDebug?.(' [SOUND EFFECTS] AudioContext principale ottenuto tramite ensureMainAudioContext')\r\n      } else {\r\n        // Fallback: aspetta per l'AudioContext globale\r\n        this.onDebug?.(' [SOUND EFFECTS] ensureMainAudioContext non disponibile, aspetto AudioContext globale...')\r\n        \r\n        let globalAudioContext = (window as any).globalAudioContext\r\n        if (!globalAudioContext) {\r\n          // Aspetta fino a 20 secondi per l'AudioContext globale\r\n          for (let i = 0; i < 200; i++) {\r\n            await new Promise(resolve => setTimeout(resolve, 100))\r\n            globalAudioContext = (window as any).globalAudioContext\r\n            if (globalAudioContext) {\r\n              this.onDebug?.(' [SOUND EFFECTS] AudioContext globale trovato!')\r\n              break\r\n            }\r\n          }\r\n        }\r\n        \r\n        if (globalAudioContext) {\r\n          this.audioContext = globalAudioContext\r\n          this.onDebug?.(' [SOUND EFFECTS] AudioContext GLOBALE utilizzato')\r\n        } else {\r\n          this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\r\n          this.onDebug?.(' [SOUND EFFECTS] AudioContext LOCALE creato (fallback)')\r\n        }\r\n      }\r\n      \r\n      await this.loadSoundEffects()\r\n      this.isInitialized = true\r\n    } catch (error) {\r\n      this.onError?.(`Errore inizializzazione SoundEffects: ${error}`)\r\n    }\r\n  }\r\n\r\n  private async loadSoundEffects(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    try {\r\n      // Genera effetti sonori sintetici\r\n      await this.generateApplause()\r\n      await this.generateHorn()\r\n      await this.generateSwoosh()\r\n      await this.generateWhoosh()\r\n      await this.generateBeep()\r\n      await this.generateDrop()\r\n      await this.generateRise()\r\n      await this.generateSqueak()\r\n      \r\n      this.onDebug?.(` [SOUND EFFECTS] ${this.soundEffects.size} effetti caricati`)\r\n    } catch (error) {\r\n      this.onError?.(`Errore caricamento effetti: ${error}`)\r\n    }\r\n  }\r\n\r\n  // Genera applausi sintetici\r\n  private async generateApplause(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 2.0 // 2 secondi\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera applausi realistici con pattern di battiti\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      \r\n      // Envelope principale con decadimento\r\n      let envelope = Math.exp(-time * 1.5)\r\n      \r\n      // Aggiungi picchi casuali per simulare battiti di mani\r\n      const clapPattern = Math.sin(time * 8) * 0.3 + Math.sin(time * 12) * 0.2\r\n      const randomClaps = (Math.random() * 2 - 1) * 0.4 * Math.exp(-time * 2)\r\n      \r\n      // Modula l'envelope con i picchi\r\n      envelope *= (1 + clapPattern + randomClaps)\r\n      envelope = Math.max(0, Math.min(1, envelope))\r\n      \r\n      // Genera rumore bianco con filtro passa-alto per simulare battiti di mani\r\n      const noise = (Math.random() * 2 - 1) * envelope * 0.4\r\n      \r\n      // Aggiungi un po' di frequenze medie per realismo\r\n      const midFreq = Math.sin(2 * Math.PI * 200 * time) * envelope * 0.1\r\n      \r\n      leftChannel[i] = (noise + midFreq) * 0.8\r\n      rightChannel[i] = (noise + midFreq) * 0.7 // Leggero stereo\r\n    }\r\n\r\n    this.soundEffects.set('applause', buffer)\r\n  }\r\n\r\n  // Genera trombetta realistica\r\n  private async generateHorn(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 2.0\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Trombetta con armoniche multiple, vibrato e modulazione\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      \r\n      // Frequenza base con vibrato pi pronunciato\r\n      const vibrato = 1 + 0.15 * Math.sin(2 * Math.PI * 5.5 * time) // 5.5Hz vibrato\r\n      const baseFreq = 233 * vibrato // Bb3 con vibrato (pi tipico per trombetta)\r\n      \r\n      // Armoniche della trombetta con rapporti pi realistici\r\n      const fundamental = Math.sin(2 * Math.PI * baseFreq * time)\r\n      const harmonic2 = Math.sin(2 * Math.PI * baseFreq * 2 * time) * 0.6\r\n      const harmonic3 = Math.sin(2 * Math.PI * baseFreq * 3 * time) * 0.4\r\n      const harmonic4 = Math.sin(2 * Math.PI * baseFreq * 4 * time) * 0.25\r\n      const harmonic5 = Math.sin(2 * Math.PI * baseFreq * 5 * time) * 0.15\r\n      \r\n      // Envelope con attacco pi graduale e sustain\r\n      let envelope\r\n      if (time < 0.05) {\r\n        envelope = time / 0.05 // Attacco molto rapido\r\n      } else if (time < 0.3) {\r\n        envelope = 1.0 // Sustain\r\n      } else {\r\n        envelope = Math.exp(-(time - 0.3) * 1.5) // Decadimento\r\n      }\r\n      \r\n      // Aggiungi modulazione di ampiezza per realismo\r\n      const tremolo = 1 + 0.1 * Math.sin(2 * Math.PI * 4 * time)\r\n      \r\n      // Aggiungi rumore per texture\r\n      const noise = (Math.random() * 2 - 1) * 0.03 * envelope\r\n      \r\n      // Mix finale con tremolo\r\n      const wave = (fundamental + harmonic2 + harmonic3 + harmonic4 + harmonic5) * envelope * tremolo * 0.7 + noise\r\n      \r\n      leftChannel[i] = wave\r\n      rightChannel[i] = wave * 0.98 // Leggero stereo\r\n    }\r\n\r\n    this.soundEffects.set('horn', buffer)\r\n  }\r\n\r\n  // Genera effetto swoosh\r\n  private async generateSwoosh(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 1.0\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera rumore con filtro passa-alto crescente\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      const envelope = Math.sin(time * Math.PI) * 0.5\r\n      const noise = (Math.random() * 2 - 1) * envelope\r\n      \r\n      leftChannel[i] = noise\r\n      rightChannel[i] = noise * 0.7\r\n    }\r\n\r\n    this.soundEffects.set('swoosh', buffer)\r\n  }\r\n\r\n  // Genera effetto whoosh\r\n  private async generateWhoosh(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 0.8\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera rumore con envelope a campana\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      const envelope = Math.exp(-Math.pow((time - 0.4) / 0.2, 2)) * 0.6\r\n      const noise = (Math.random() * 2 - 1) * envelope\r\n      \r\n      leftChannel[i] = noise\r\n      rightChannel[i] = noise * 0.8\r\n    }\r\n\r\n    this.soundEffects.set('whoosh', buffer)\r\n  }\r\n\r\n  // Genera beep\r\n  private async generateBeep(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 0.3\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera tono puro\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      const envelope = Math.exp(-time * 8) * 0.5\r\n      const wave = Math.sin(2 * Math.PI * 800 * time) * envelope\r\n      \r\n      leftChannel[i] = wave\r\n      rightChannel[i] = wave\r\n    }\r\n\r\n    this.soundEffects.set('beep', buffer)\r\n  }\r\n\r\n  // Genera effetto drop\r\n  private async generateDrop(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 1.2\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera tono con frequenza decrescente\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      const frequency = 400 * Math.exp(-time * 3) // Da 400Hz a 0Hz\r\n      const envelope = Math.exp(-time * 2) * 0.6\r\n      const wave = Math.sin(2 * Math.PI * frequency * time) * envelope\r\n      \r\n      leftChannel[i] = wave\r\n      rightChannel[i] = wave * 0.9\r\n    }\r\n\r\n    this.soundEffects.set('drop', buffer)\r\n  }\r\n\r\n  // Genera effetto rise\r\n  private async generateRise(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 1.0\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera tono con frequenza crescente\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      const frequency = 100 + time * 300 // Da 100Hz a 400Hz\r\n      const envelope = Math.exp(-time * 1.5) * 0.5\r\n      const wave = Math.sin(2 * Math.PI * frequency * time) * envelope\r\n      \r\n      leftChannel[i] = wave\r\n      rightChannel[i] = wave * 0.8\r\n    }\r\n\r\n    this.soundEffects.set('rise', buffer)\r\n  }\r\n\r\n  // Genera effetto squeak (suono che perde)\r\n  private async generateSqueak(): Promise<void> {\r\n    if (!this.audioContext) return\r\n\r\n    const duration = 0.5\r\n    const sampleRate = this.audioContext.sampleRate\r\n    const buffer = this.audioContext.createBuffer(2, duration * sampleRate, sampleRate)\r\n    \r\n    const leftChannel = buffer.getChannelData(0)\r\n    const rightChannel = buffer.getChannelData(1)\r\n\r\n    // Genera tono con frequenza oscillante\r\n    for (let i = 0; i < buffer.length; i++) {\r\n      const time = i / sampleRate\r\n      const frequency = 1000 + 500 * Math.sin(time * 20) // Oscilla tra 500Hz e 1500Hz\r\n      const envelope = Math.exp(-time * 4) * 0.4\r\n      const wave = Math.sin(2 * Math.PI * frequency * time) * envelope\r\n      \r\n      leftChannel[i] = wave\r\n      rightChannel[i] = wave * 0.7\r\n    }\r\n\r\n    this.soundEffects.set('squeak', buffer)\r\n  }\r\n\r\n  // Riproduce un effetto sonoro\r\n  async playSoundEffect(effectId: string, volume: number = 1.0): Promise<boolean> {\r\n    if (!this.isInitialized || !this.audioContext) {\r\n      this.onError?.('SoundEffects non inizializzato')\r\n      return false\r\n    }\r\n\r\n    const buffer = this.soundEffects.get(effectId)\r\n    if (!buffer) {\r\n      this.onError?.(`Effetto sonoro non trovato: ${effectId}`)\r\n      return false\r\n    }\r\n\r\n    try {\r\n      const source = this.audioContext.createBufferSource()\r\n      const gainNode = this.audioContext.createGain()\r\n      \r\n      source.buffer = buffer\r\n      gainNode.gain.setValueAtTime(volume * this.masterVolume, this.audioContext.currentTime)\r\n      \r\n      // FORZA collegamento al mixer principale per streaming\r\n      const mixerGain = (window as any).mixerGain\r\n      const destinationStream = (window as any).destinationStream\r\n      \r\n      // DEBUG: Verifica disponibilit nodi\r\n      this.onDebug?.(` [SOUND EFFECTS] Debug nodi disponibili:`)\r\n      this.onDebug?.(` [SOUND EFFECTS] - mixerGain: ${mixerGain ? ' DISPONIBILE' : ' NON DISPONIBILE'}`)\r\n      this.onDebug?.(` [SOUND EFFECTS] - destinationStream: ${destinationStream ? ' DISPONIBILE' : ' NON DISPONIBILE'}`)\r\n      \r\n      //  FIX: Collegamento sia locale che streaming\r\n      source.connect(gainNode)\r\n      \r\n      // 1. SEMPRE collegare al output locale per ascolto in cuffie\r\n      gainNode.connect(this.audioContext.destination)\r\n      this.onDebug?.(` [SOUND EFFECTS]  Effetto collegato al output locale: ${effectId}`)\r\n      \r\n      // 2. Collegare anche al mixer per streaming se disponibile\r\n      if (mixerGain) {\r\n        gainNode.connect(mixerGain)\r\n        this.onDebug?.(` [SOUND EFFECTS]  Effetto collegato anche al mixer per streaming: ${effectId}`)\r\n      } else if (destinationStream) {\r\n        gainNode.connect(destinationStream)\r\n        this.onDebug?.(` [SOUND EFFECTS]  Effetto collegato anche al destination stream per streaming: ${effectId}`)\r\n      } else {\r\n        this.onDebug?.(` [SOUND EFFECTS]  Solo output locale (nessun streaming disponibile): ${effectId}`)\r\n      }\r\n      \r\n      source.start()\r\n      \r\n      this.onDebug?.(` [SOUND EFFECTS] Riprodotto: ${effectId} (volume: ${Math.round(volume * 100)}%)`)\r\n      return true\r\n    } catch (error) {\r\n      this.onError?.(`Errore riproduzione effetto ${effectId}: ${error}`)\r\n      return false\r\n    }\r\n  }\r\n\r\n  // Ottiene lista degli effetti disponibili\r\n  getAvailableEffects(): SoundEffect[] {\r\n    return [\r\n      { id: 'applause', name: 'Applausi', description: 'Applausi del pubblico', duration: 2000, volume: 0.8, category: 'applause' },\r\n      { id: 'horn', name: 'Trombetta', description: 'Suono di trombetta', duration: 1500, volume: 0.7, category: 'horn' },\r\n      { id: 'swoosh', name: 'Swoosh', description: 'Effetto di transizione', duration: 1000, volume: 0.6, category: 'transition' },\r\n      { id: 'whoosh', name: 'Whoosh', description: 'Effetto di movimento', duration: 800, volume: 0.6, category: 'transition' },\r\n      { id: 'beep', name: 'Beep', description: 'Suono di notifica', duration: 300, volume: 0.5, category: 'comedy' },\r\n      { id: 'drop', name: 'Drop', description: 'Effetto di caduta', duration: 1200, volume: 0.7, category: 'transition' },\r\n      { id: 'rise', name: 'Rise', description: 'Effetto di ascesa', duration: 1000, volume: 0.6, category: 'transition' },\r\n      { id: 'squeak', name: 'Squeak', description: 'Suono che perde', duration: 500, volume: 0.4, category: 'comedy' }\r\n    ]\r\n  }\r\n\r\n  // Imposta volume master\r\n  setMasterVolume(volume: number): void {\r\n    this.masterVolume = Math.max(0, Math.min(1, volume))\r\n    this.onDebug?.(` [SOUND EFFECTS] Volume master impostato: ${Math.round(this.masterVolume * 100)}%`)\r\n  }\r\n\r\n  // Ottiene volume master\r\n  getMasterVolume(): number {\r\n    return this.masterVolume\r\n  }\r\n\r\n  // Verifica se  inizializzato\r\n  isReady(): boolean {\r\n    return this.isInitialized\r\n  }\r\n}\r\n","/**\r\n * Microphone Effects Manager\r\n * Gestisce gli effetti audio per il microfono (reverbero, eco, distorsione, etc.)\r\n */\r\n\r\nexport interface MicrophoneEffect {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  category: 'reverb' | 'delay' | 'distortion' | 'filter' | 'modulation'\r\n  parameters: Record<string, number>\r\n}\r\n\r\nexport class MicrophoneEffectsManager {\r\n  private audioContext: AudioContext | null = null\r\n  private microphoneSource: MediaStreamAudioSourceNode | null = null\r\n  private effectsChain: AudioNode[] = []\r\n  private isInitialized: boolean = false\r\n  private isActive: boolean = false\r\n\r\n  // Effetti audio\r\n  private gainNode: GainNode | null = null\r\n  private reverbNode: ConvolverNode | null = null\r\n  private delayNode: DelayNode | null = null\r\n  private filterNode: BiquadFilterNode | null = null\r\n  private distortionNode: WaveShaperNode | null = null\r\n  private chorusNode: GainNode | null = null\r\n  private pitchShifterNode: GainNode | null = null\r\n  private outputNode: GainNode | null = null\r\n\r\n  // Callbacks\r\n  private onDebug?: (message: string) => void\r\n  private onError?: (error: string) => void\r\n\r\n  constructor() {\r\n    this.initializeAudioContext()\r\n  }\r\n\r\n  setCallbacks(callbacks: {\r\n    onDebug?: (message: string) => void\r\n    onError?: (error: string) => void\r\n  }) {\r\n    this.onDebug = callbacks.onDebug\r\n    this.onError = callbacks.onError\r\n  }\r\n\r\n  private async initializeAudioContext(): Promise<void> {\r\n    try {\r\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\r\n      this.createEffectsChain()\r\n      this.isInitialized = true\r\n      this.onDebug?.(' [MICROPHONE EFFECTS] AudioContext e catena effetti inizializzati')\r\n    } catch (error) {\r\n      this.onError?.(`Errore inizializzazione MicrophoneEffects: ${error}`)\r\n    }\r\n  }\r\n\r\n  private createEffectsChain(): void {\r\n    if (!this.audioContext) return\r\n\r\n    // Crea nodi per la catena di effetti\r\n    this.gainNode = this.audioContext.createGain()\r\n    this.reverbNode = this.audioContext.createConvolver()\r\n    this.delayNode = this.audioContext.createDelay(1.0)\r\n    this.filterNode = this.audioContext.createBiquadFilter()\r\n    this.distortionNode = this.audioContext.createWaveShaper()\r\n    this.outputNode = this.audioContext.createGain()\r\n\r\n    // Configura nodi di default\r\n    this.gainNode.gain.setValueAtTime(1.0, this.audioContext.currentTime)\r\n    this.delayNode.delayTime.setValueAtTime(0.1, this.audioContext.currentTime)\r\n    this.filterNode.type = 'lowpass'\r\n    this.filterNode.frequency.setValueAtTime(20000, this.audioContext.currentTime)\r\n    this.outputNode.gain.setValueAtTime(1.0, this.audioContext.currentTime)\r\n\r\n    // Genera impulso di reverbero\r\n    this.generateReverbImpulse()\r\n\r\n    // Configura distorsione\r\n    this.configureDistortion()\r\n\r\n    // Collega la catena di effetti\r\n    this.connectEffectsChain()\r\n  }\r\n\r\n  private generateReverbImpulse(): void {\r\n    if (!this.audioContext || !this.reverbNode) return\r\n\r\n    const length = this.audioContext.sampleRate * 2 // 2 secondi\r\n    const impulse = this.audioContext.createBuffer(2, length, this.audioContext.sampleRate)\r\n    \r\n    const leftChannel = impulse.getChannelData(0)\r\n    const rightChannel = impulse.getChannelData(1)\r\n\r\n    // Genera impulso di reverbero\r\n    for (let i = 0; i < length; i++) {\r\n      const time = i / this.audioContext.sampleRate\r\n      const decay = Math.exp(-time * 2) * (Math.random() * 2 - 1) * 0.3\r\n      \r\n      leftChannel[i] = decay\r\n      rightChannel[i] = decay * 0.8\r\n    }\r\n\r\n    this.reverbNode.buffer = impulse\r\n  }\r\n\r\n  private configureDistortion(): void {\r\n    if (!this.distortionNode) return\r\n\r\n    const samples = 44100\r\n    const curve = new Float32Array(samples)\r\n    const deg = Math.PI / 180\r\n\r\n    for (let i = 0; i < samples; i++) {\r\n      const x = (i * 2) / samples - 1\r\n      curve[i] = ((3 + 20) * x * 20 * deg) / (Math.PI + 20 * Math.abs(x))\r\n    }\r\n\r\n    this.distortionNode.curve = curve\r\n    this.distortionNode.oversample = '4x'\r\n  }\r\n\r\n  private connectEffectsChain(): void {\r\n    if (!this.gainNode || !this.reverbNode || !this.delayNode || \r\n        !this.filterNode || !this.distortionNode || !this.outputNode) return\r\n\r\n    // Collega la catena: input -> gain -> reverb -> delay -> filter -> distortion -> output\r\n    this.gainNode.connect(this.reverbNode)\r\n    this.reverbNode.connect(this.delayNode)\r\n    this.delayNode.connect(this.filterNode)\r\n    this.filterNode.connect(this.distortionNode)\r\n    this.distortionNode.connect(this.outputNode)\r\n  }\r\n\r\n  // Collega il microfono alla catena di effetti\r\n  connectMicrophone(microphoneStream: MediaStream): boolean {\r\n    if (!this.audioContext || !this.gainNode) {\r\n      this.onError?.('MicrophoneEffects non inizializzato')\r\n      return false\r\n    }\r\n\r\n    try {\r\n      // Disconnetti microfono precedente se presente\r\n      if (this.microphoneSource) {\r\n        this.microphoneSource.disconnect()\r\n      }\r\n\r\n      // Crea nuova sorgente microfono\r\n      this.microphoneSource = this.audioContext.createMediaStreamSource(microphoneStream)\r\n      this.microphoneSource.connect(this.gainNode)\r\n      \r\n      this.isActive = true\r\n      this.onDebug?.(' [MICROPHONE EFFECTS] Microfono collegato alla catena effetti')\r\n      return true\r\n    } catch (error) {\r\n      this.onError?.(`Errore collegamento microfono: ${error}`)\r\n      return false\r\n    }\r\n  }\r\n\r\n  // Disconnette il microfono\r\n  disconnectMicrophone(): void {\r\n    if (this.microphoneSource) {\r\n      this.microphoneSource.disconnect()\r\n      this.microphoneSource = null\r\n      this.isActive = false\r\n      this.onDebug?.(' [MICROPHONE EFFECTS] Microfono disconnesso')\r\n    }\r\n  }\r\n\r\n  // Applica effetto reverbero\r\n  applyReverb(amount: number = 0.5): void {\r\n    if (!this.reverbNode || !this.audioContext) return\r\n\r\n    const wetGain = Math.max(0, Math.min(1, amount))\r\n    const dryGain = 1 - wetGain\r\n\r\n    // Crea nodi per mix dry/wet\r\n    const dryGainNode = this.audioContext.createGain()\r\n    const wetGainNode = this.audioContext.createGain()\r\n    \r\n    dryGainNode.gain.setValueAtTime(dryGain, this.audioContext.currentTime)\r\n    wetGainNode.gain.setValueAtTime(wetGain, this.audioContext.currentTime)\r\n\r\n    this.onDebug?.(` [MICROPHONE EFFECTS] Reverbero applicato: ${Math.round(amount * 100)}%`)\r\n  }\r\n\r\n  // Applica effetto delay/eco\r\n  applyDelay(delayTime: number = 0.3, feedback: number = 0.3): void {\r\n    if (!this.delayNode || !this.audioContext) return\r\n\r\n    this.delayNode.delayTime.setValueAtTime(\r\n      Math.max(0.01, Math.min(1.0, delayTime)), \r\n      this.audioContext.currentTime\r\n    )\r\n\r\n    this.onDebug?.(` [MICROPHONE EFFECTS] Delay applicato: ${Math.round(delayTime * 1000)}ms, feedback: ${Math.round(feedback * 100)}%`)\r\n  }\r\n\r\n  // Applica filtro\r\n  applyFilter(type: BiquadFilterType = 'lowpass', frequency: number = 1000, q: number = 1): void {\r\n    if (!this.filterNode || !this.audioContext) return\r\n\r\n    this.filterNode.type = type\r\n    this.filterNode.frequency.setValueAtTime(frequency, this.audioContext.currentTime)\r\n    this.filterNode.Q.setValueAtTime(q, this.audioContext.currentTime)\r\n\r\n    this.onDebug?.(` [MICROPHONE EFFECTS] Filtro applicato: ${type} @ ${frequency}Hz, Q: ${q}`)\r\n  }\r\n\r\n  // Applica distorsione\r\n  applyDistortion(amount: number = 0.5): void {\r\n    if (!this.distortionNode) return\r\n\r\n    // La distorsione  gi configurata, possiamo solo controllare il gain\r\n    this.onDebug?.(` [MICROPHONE EFFECTS] Distorsione applicata: ${Math.round(amount * 100)}%`)\r\n  }\r\n\r\n  // Preset effetti\r\n  applyPreset(presetId: string): void {\r\n    switch (presetId) {\r\n      case 'cave':\r\n        this.applyReverb(0.9)\r\n        this.applyFilter('lowpass', 1500, 3)\r\n        this.applyDelay(0.8, 0.5)\r\n        this.applyDistortion(0.2)\r\n        this.onDebug?.(' [MICROPHONE EFFECTS] Preset \"Grotta\" applicato')\r\n        break\r\n\r\n      case 'radio':\r\n        this.applyFilter('bandpass', 1000, 5)\r\n        this.applyDistortion(0.3)\r\n        this.onDebug?.(' [MICROPHONE EFFECTS] Preset \"Radio\" applicato')\r\n        break\r\n\r\n      case 'telephone':\r\n        this.applyFilter('bandpass', 800, 10)\r\n        this.applyFilter('bandpass', 1200, 10)\r\n        this.onDebug?.(' [MICROPHONE EFFECTS] Preset \"Telefono\" applicato')\r\n        break\r\n\r\n      case 'robot':\r\n        this.applyFilter('lowpass', 500, 20)\r\n        this.applyDistortion(0.7)\r\n        this.applyDelay(0.1, 0.2)\r\n        this.onDebug?.(' [MICROPHONE EFFECTS] Preset \"Robot\" applicato')\r\n        break\r\n\r\n      case 'echo':\r\n        this.applyDelay(0.4, 0.6)\r\n        this.applyReverb(0.3)\r\n        this.onDebug?.(' [MICROPHONE EFFECTS] Preset \"Eco\" applicato')\r\n        break\r\n\r\n      case 'none':\r\n        this.applyReverb(0)\r\n        this.applyDelay(0, 0)\r\n        this.applyFilter('lowpass', 20000, 1)\r\n        this.applyDistortion(0)\r\n        this.onDebug?.(' [MICROPHONE EFFECTS] Preset \"Nessuno\" applicato')\r\n        break\r\n\r\n      default:\r\n        this.onError?.(`Preset non trovato: ${presetId}`)\r\n    }\r\n  }\r\n\r\n  // Ottiene il nodo di output per collegare ad altri sistemi\r\n  getOutputNode(): AudioNode | null {\r\n    return this.outputNode\r\n  }\r\n\r\n  // Ottiene lista degli effetti disponibili\r\n  getAvailableEffects(): MicrophoneEffect[] {\r\n    return [\r\n      {\r\n        id: 'reverb',\r\n        name: 'Reverbero',\r\n        description: 'Effetto di riverbero',\r\n        category: 'reverb',\r\n        parameters: { amount: 0.5 }\r\n      },\r\n      {\r\n        id: 'delay',\r\n        name: 'Eco/Delay',\r\n        description: 'Effetto di eco',\r\n        category: 'delay',\r\n        parameters: { delayTime: 0.3, feedback: 0.3 }\r\n      },\r\n      {\r\n        id: 'filter',\r\n        name: 'Filtro',\r\n        description: 'Filtro audio',\r\n        category: 'filter',\r\n        parameters: { frequency: 1000, q: 1 }\r\n      },\r\n      {\r\n        id: 'distortion',\r\n        name: 'Distorsione',\r\n        description: 'Effetto di distorsione',\r\n        category: 'distortion',\r\n        parameters: { amount: 0.5 }\r\n      }\r\n    ]\r\n  }\r\n\r\n  // Ottiene lista dei preset disponibili\r\n  getAvailablePresets(): Array<{id: string, name: string, description: string}> {\r\n    return [\r\n      { id: 'none', name: 'Nessuno', description: 'Nessun effetto' },\r\n      { id: 'cave', name: 'Grotta', description: 'Effetto grotta con riverbero' },\r\n      { id: 'radio', name: 'Radio', description: 'Effetto radio vintage' },\r\n      { id: 'telephone', name: 'Telefono', description: 'Effetto telefono' },\r\n      { id: 'robot', name: 'Robot', description: 'Effetto robot' },\r\n      { id: 'echo', name: 'Eco', description: 'Effetto eco' }\r\n    ]\r\n  }\r\n\r\n  // Imposta volume di output\r\n  setOutputVolume(volume: number): void {\r\n    if (!this.outputNode || !this.audioContext) return\r\n\r\n    this.outputNode.gain.setValueAtTime(\r\n      Math.max(0, Math.min(2, volume)), \r\n      this.audioContext.currentTime\r\n    )\r\n\r\n    this.onDebug?.(` [MICROPHONE EFFECTS] Volume output impostato: ${Math.round(volume * 100)}%`)\r\n  }\r\n\r\n  // Verifica se  attivo\r\n  isEffectsActive(): boolean {\r\n    return this.isActive\r\n  }\r\n\r\n  // Verifica se  inizializzato\r\n  isReady(): boolean {\r\n    return this.isInitialized\r\n  }\r\n}\r\n","import React, { createContext, useContext, useReducer, useEffect, useRef, useCallback } from 'react'\nimport { localDatabase } from '../database/LocalDatabase'\nimport { getBlob } from '../database/BlobStore'\nimport { useSettings } from './SettingsContext'\nimport { SoundEffectsManager } from '../audio/SoundEffectsManager'\nimport { MicrophoneEffectsManager } from '../audio/MicrophoneEffectsManager'\n\n// ===== TIPI E INTERFACCE =====\ninterface AudioTrack {\n  id: string\n  title: string\n  artist: string\n  duration: number\n  url: string\n}\n\ninterface DeckState {\n  track: AudioTrack | null\n  isPlaying: boolean\n  currentTime: number\n  \n  duration: number\n  volume: number\n  localVolume: number\n}\n\ninterface MicrophoneState {\n  isEnabled: boolean\n  isMuted: boolean\n}\n\ninterface AudioState {\n  leftDeck: DeckState\n  rightDeck: DeckState\n  masterVolume: number\n  crossfader: number\n  microphone: MicrophoneState\n  soundEffectsManager: SoundEffectsManager | null\n  microphoneEffectsManager: MicrophoneEffectsManager | null\n  audioContext: AudioContext | null\n}\n\n// ===== AZIONI DEL REDUCER =====\ntype AudioAction =\n  | { type: 'SET_LEFT_DECK_TRACK'; payload: AudioTrack | null }\n  | { type: 'SET_RIGHT_DECK_TRACK'; payload: AudioTrack | null }\n  | { type: 'SET_LEFT_DECK_PLAYING'; payload: boolean }\n  | { type: 'SET_RIGHT_DECK_PLAYING'; payload: boolean }\n  | { type: 'SET_LEFT_DECK_TIME'; payload: number }\n  | { type: 'SET_RIGHT_DECK_TIME'; payload: number }\n  | { type: 'SET_LEFT_DECK_DURATION'; payload: number }\n  | { type: 'SET_RIGHT_DECK_DURATION'; payload: number }\n  | { type: 'SET_LEFT_DECK_VOLUME'; payload: number }\n  | { type: 'SET_RIGHT_DECK_VOLUME'; payload: number }\n  | { type: 'SET_LEFT_DECK_LOCAL_VOLUME'; payload: number }\n  | { type: 'SET_SOUND_EFFECTS_MANAGER'; payload: SoundEffectsManager | null }\n  | { type: 'SET_MICROPHONE_EFFECTS_MANAGER'; payload: MicrophoneEffectsManager | null }\n  | { type: 'SET_AUDIO_CONTEXT'; payload: AudioContext | null }\n  | { type: 'SET_RIGHT_DECK_LOCAL_VOLUME'; payload: number }\n  | { type: 'SET_MASTER_VOLUME'; payload: number }\n  | { type: 'SET_CROSSFADER'; payload: number }\n  | { type: 'SET_MICROPHONE_ENABLED'; payload: boolean }\n  | { type: 'SET_MICROPHONE_MUTED'; payload: boolean }\n\n// ===== REDUCER =====\nconst audioReducer = (state: AudioState, action: AudioAction): AudioState => {\n  switch (action.type) {\n    case 'SET_LEFT_DECK_TRACK':\n      return { ...state, leftDeck: { ...state.leftDeck, track: action.payload } }\n    case 'SET_RIGHT_DECK_TRACK':\n      return { ...state, rightDeck: { ...state.rightDeck, track: action.payload } }\n    case 'SET_LEFT_DECK_PLAYING':\n      return { ...state, leftDeck: { ...state.leftDeck, isPlaying: action.payload } }\n    case 'SET_RIGHT_DECK_PLAYING':\n      return { ...state, rightDeck: { ...state.rightDeck, isPlaying: action.payload } }\n    case 'SET_LEFT_DECK_TIME':\n      return { ...state, leftDeck: { ...state.leftDeck, currentTime: action.payload } }\n    case 'SET_RIGHT_DECK_TIME':\n      return { ...state, rightDeck: { ...state.rightDeck, currentTime: action.payload } }\n    case 'SET_LEFT_DECK_DURATION':\n      return { ...state, leftDeck: { ...state.leftDeck, duration: action.payload } }\n    case 'SET_RIGHT_DECK_DURATION':\n      return { ...state, rightDeck: { ...state.rightDeck, duration: action.payload } }\n    case 'SET_LEFT_DECK_VOLUME':\n      return { ...state, leftDeck: { ...state.leftDeck, volume: action.payload } }\n    case 'SET_RIGHT_DECK_VOLUME':\n      return { ...state, rightDeck: { ...state.rightDeck, volume: action.payload } }\n    case 'SET_LEFT_DECK_LOCAL_VOLUME':\n      return { ...state, leftDeck: { ...state.leftDeck, localVolume: action.payload } }\n    case 'SET_RIGHT_DECK_LOCAL_VOLUME':\n      return { ...state, rightDeck: { ...state.rightDeck, localVolume: action.payload } }\n    case 'SET_MASTER_VOLUME':\n      return { ...state, masterVolume: action.payload }\n    case 'SET_CROSSFADER':\n      return { ...state, crossfader: action.payload }\n    case 'SET_MICROPHONE_ENABLED':\n      return { ...state, microphone: { ...state.microphone, isEnabled: action.payload } }\n    case 'SET_MICROPHONE_MUTED':\n      return { ...state, microphone: { ...state.microphone, isMuted: action.payload } }\n    case 'SET_SOUND_EFFECTS_MANAGER':\n      return { ...state, soundEffectsManager: action.payload }\n    case 'SET_MICROPHONE_EFFECTS_MANAGER':\n      return { ...state, microphoneEffectsManager: action.payload }\n    case 'SET_AUDIO_CONTEXT':\n      return { ...state, audioContext: action.payload }\n    default:\n      return state\n  }\n}\n\n// ===== STATO INIZIALE =====\nconst initialState: AudioState = {\n        leftDeck: { \n    track: null,\n    isPlaying: false,\n    currentTime: 0,\n    duration: 0,\n    volume: 0.8,\n    localVolume: 0.0\n  },\n        rightDeck: { \n    track: null,\n    isPlaying: false,\n    currentTime: 0,\n    duration: 0,\n    volume: 0.8,\n    localVolume: 0.0\n  },\n  masterVolume: 1.0,\n  crossfader: 0.5, // 0.5 = centro, 0.0 = tutto A, 1.0 = tutto B\n        microphone: { \n    isEnabled: false,\n    isMuted: true\n  },\n  soundEffectsManager: null,\n  microphoneEffectsManager: null,\n  audioContext: null\n}\n\n// ===== CONTESTO =====\nconst AudioContext = createContext<{\n  state: AudioState\n  dispatch: React.Dispatch<AudioAction>\n  leftAudioRef: React.RefObject<HTMLAudioElement>\n  rightAudioRef: React.RefObject<HTMLAudioElement>\n  micStreamRef: React.RefObject<MediaStream | null>\n  soundEffectsManagerRef: React.RefObject<SoundEffectsManager | null>\n  microphoneEffectsManagerRef: React.RefObject<MicrophoneEffectsManager | null>\n  getMixedStream: (leftElement?: HTMLAudioElement | null, rightElement?: HTMLAudioElement | null, pttActive?: boolean) => Promise<MediaStream | null>\n  createMicrophoneStream: () => Promise<MediaStream | null>\n  createSmartMicrophoneControl: () => { enable: () => Promise<boolean>; disable: () => void; getStream: () => MediaStream | null; isActive: () => boolean }\n  getAvailableAudioOutputDevices: () => Promise<MediaDeviceInfo[]>\n  ensureMainAudioContext: () => AudioContext | null\n  playLeftTrack: (track: AudioTrack) => void\n  playRightTrack: (track: AudioTrack) => void\n  pauseLeftTrack: () => void\n  resumeLeftTrack: () => void\n  stopLeftTrack: () => void\n  pauseRightTrack: () => void\n  resumeRightTrack: () => void\n  stopRightTrack: () => void\n  handlePlayPauseDefinitive: (side: 'left' | 'right') => Promise<void>\n  setLeftLocalVolume: (volume: number) => void\n  setRightLocalVolume: (volume: number) => void\n  seekLeftTo: (time: number) => void\n  seekRightTo: (time: number) => void\n  setStreamDucking: (active: boolean) => void\n  setStreamMasterVolume: (volume: number) => void\n  setMasterVolume: (volume: number) => void\n  setCrossfader: (value: number) => void\n  addToDeck: (track: any, deck: 'left' | 'right') => Promise<void>\n  incrementPlayCount: (trackId: string) => Promise<void>\n} | undefined>(undefined)\n\n// ===== PROVIDER =====\nexport const AudioProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(audioReducer, initialState)\n  const { settings } = useSettings()\n\n  // ===== REFS =====\n  const leftAudioRef = useRef<HTMLAudioElement | null>(null)\n  const rightAudioRef = useRef<HTMLAudioElement | null>(null)\n  const micStreamRef = useRef<MediaStream | null>(null)\n  const soundEffectsManagerRef = useRef<SoundEffectsManager | null>(null)\n  const microphoneEffectsManagerRef = useRef<MicrophoneEffectsManager | null>(null)\n\n  // ===== INIZIALIZZAZIONE MANAGER EFFETTI =====\n  useEffect(() => {\n    const initializeEffectsManagers = async () => {\n      try {\n        // Inizializza Sound Effects Manager\n        const soundEffectsManager = new SoundEffectsManager()\n        soundEffectsManager.setCallbacks({\n          onDebug: (message) => console.log(message),\n          onError: (error) => console.error(error)\n        })\n        soundEffectsManagerRef.current = soundEffectsManager\n        dispatch({ type: 'SET_SOUND_EFFECTS_MANAGER', payload: soundEffectsManager })\n\n        // Inizializza Microphone Effects Manager\n        const microphoneEffectsManager = new MicrophoneEffectsManager()\n        microphoneEffectsManager.setCallbacks({\n          onDebug: (message) => console.log(message),\n          onError: (error) => console.error(error)\n        })\n        microphoneEffectsManagerRef.current = microphoneEffectsManager\n        dispatch({ type: 'SET_MICROPHONE_EFFECTS_MANAGER', payload: microphoneEffectsManager })\n\n        console.log(' [INIT] Manager effetti audio inizializzati')\n      } catch (error) {\n        console.error(' [INIT] Errore inizializzazione manager effetti:', error)\n      }\n    }\n\n    initializeEffectsManagers()\n  }, [])\n\n  // ===== INIZIALIZZAZIONE MICROFONO =====\n  useEffect(() => {\n    const initializeMicrophone = async () => {\n      try {\n        console.log(' [INIT] Inizializzazione microfono con impostazioni settings...')\n        const micStream = await createMicrophoneStream()\n        if (micStream) {\n          micStreamRef.current = micStream\n          console.log(' [INIT] Microfono inizializzato con successo con impostazioni corrette:', micStream)\n        } else {\n          console.warn(' [INIT] Fallback a microfono generico...')\n          const fallbackStream = await navigator.mediaDevices.getUserMedia({ audio: true })\n          micStreamRef.current = fallbackStream\n          console.log(' [INIT] Microfono fallback inizializzato:', fallbackStream)\n        }\n      } catch (e: any) {\n        console.warn(' [INIT] Microfono non disponibile all\\'avvio:', e.message)\n        // Non  un errore critico, il microfono verr richiesto quando necessario\n      }\n    }\n\n    initializeMicrophone()\n  }, [])\n\n  // ===== FUNZIONE STREAMING AUDIO COMPLETAMENTE RICOSTRUITA =====\n  const getMixedStream = async (leftElement?: HTMLAudioElement | null, rightElement?: HTMLAudioElement | null, pttActive: boolean = false): Promise<MediaStream | null> => {\n    console.log(' [GETMIXEDSTREAM] Inizio getMixedStream...')\n    console.log(' [GETMIXEDSTREAM] leftElement:', !!leftElement)\n    console.log(' [GETMIXEDSTREAM] rightElement:', !!rightElement)\n    console.log(' [GETMIXEDSTREAM] pttActive:', pttActive)\n    \n    try {\n              // Get current settings\n        const settings = await localDatabase.getSettings();\n        console.log(' [GETMIXEDSTREAM] Settings ottenuti:', !!settings)\n        //  USA FORMATO DAI SETTINGS invece di hardcoding\n        console.log(' [DEBUG] Settings completi:', settings)\n        console.log(' [DEBUG] settings.streaming:', settings?.streaming)\n        console.log(' [DEBUG] settings.streaming?.defaultFormat:', settings?.streaming?.defaultFormat)\n        \n        const streamingFormat = settings?.streaming?.defaultFormat || 'opus'\n        const streamingBitrate = settings?.streaming?.defaultBitrate || 128\n        const streamingChannels = settings?.streaming?.channels || 2\n        const audioSampleRate = settings?.audio?.sampleRate || 48000\n        \n        console.log(' [STREAMING] Using format from settings:', streamingFormat);\n        console.log(' [STREAMING] Bitrate:', streamingBitrate, 'Channels:', streamingChannels, 'SampleRate:', audioSampleRate);\n      \n      //  CRITICAL FIX: SERVER CHECK con configurazione RadioBoss\n      try {\n        console.log(' [SERVER CHECK] Verifica connessione al server streaming...')\n        \n        //  CRITICAL FIX: Usa le impostazioni passate come parametro o leggi dal database\n        \n        try {\n          let s = settings // Usa le impostazioni passate come parametro\n          console.log(' [SERVER CHECK] Parametro settings ricevuto:', !!s)\n          console.log(' [SERVER CHECK] Tipo di settings:', typeof s)\n          \n          //  CRITICAL FIX: FORZA sempre la lettura dal database per evitare problemi di timing\n          console.log(' [SERVER CHECK] FORZO lettura dal database per evitare problemi...')\n          \n          // Aspetta che il database sia inizializzato e forza lettura settings\n          await localDatabase.waitForInitialization()\n          s = await localDatabase.getSettings()\n          console.log(' [SERVER CHECK] Settings forzati dal database:', !!s)\n          \n          //  USA SERVER DI DEFAULT SELEZIONATO\n          const defaultServer = await localDatabase.getDefaultIcecastServer()\n          console.log(' [SERVER CHECK] DEBUG - Server di default:', defaultServer)\n          \n          if (!defaultServer) {\n            throw new Error('IMPOSTAZIONI STREAMING INCOMPLETE: Nessun server Icecast configurato')\n          }\n          \n          //  CRITICAL FIX: Verifica che il server di default sia valido\n          if (!defaultServer.host || !defaultServer.port) {\n            throw new Error('IMPOSTAZIONI STREAMING INCOMPLETE: Server di default non valido')\n          }\n          \n          if (defaultServer.host.trim() === '' || defaultServer.port === 0) {\n            throw new Error('IMPOSTAZIONI STREAMING INCOMPLETE: Host vuoto o porta 0 nel server di default')\n          }\n          \n          console.log(' [SERVER CHECK]  Server di default valido, procedo con test connessione...')\n          \n          //  CRITICAL FIX: FFmpeg verr avviato da StreamingManager.startStreaming()\n          console.log(' [GETMIXEDSTREAM] FFmpeg verr avviato da StreamingManager.startStreaming()')\n          \n          //  CRITICAL FIX: Test connessione con server di default selezionato\n          const testUrl = `http://${defaultServer.host}:${defaultServer.port}${defaultServer.mount}`\n          console.log(' [SERVER CHECK] Connessione Icecast configurata:', testUrl)\n          console.log(' [SERVER CHECK] Server:', defaultServer.name, 'Host:', defaultServer.host, ', Porta:', defaultServer.port)\n          \n          //  CRITICAL FIX: Test connessione HTTP con parametri RadioBoss\n          console.log(' [SERVER CHECK] Test connessione HTTP su:', testUrl)\n          \n          try {\n            await fetch(testUrl, { \n              method: 'HEAD',\n              mode: 'no-cors'\n            })\n            console.log(' [SERVER CHECK] Server Icecast raggiungibile su', testUrl)\n          } catch (fetchError) {\n            console.warn(' [SERVER CHECK] Test HTTP fallito, ma continuo con streaming:', fetchError)\n          }\n          \n          console.log(' [STREAMING] Server streaming verificato, procedo con la cattura audio...')\n          \n        } catch (serverError) {\n          console.error(' [SERVER CHECK] Errore verifica server:', serverError)\n          throw serverError\n        }\n        \n        //  CORREZIONE: Assicurati che l'AudioContext principale sia disponibile\n        let mixContext = ensureMainAudioContext()\n        \n        if (!mixContext) {\n          throw new Error('Impossibile creare AudioContext per streaming')\n        }\n        \n        console.log(' [MIX] AudioContext principale disponibile per streaming')\n\n        // Verifica che sia valido\n        if (!mixContext || typeof mixContext.createMediaElementSource !== 'function') {\n          throw new Error('AudioContext non valido')\n        }\n\n        if (!mixContext.destination) {\n          throw new Error('AudioContext non ha destination')\n        }\n\n        // Crea destination stream\n        const destinationStream = mixContext.createMediaStreamDestination()\n        const mixerGain = mixContext.createGain()\n        mixerGain.connect(destinationStream)\n\n        //  CRITICAL FIX: Imposta il volume iniziale del mixer per lo streaming\n        mixerGain.gain.setValueAtTime(1.0, mixContext.currentTime) // Streaming sempre al 100% inizialmente\n        \n        //  ESPONI nodi globali per gli effetti audio\n        ;(window as any).mixerGain = mixerGain;\n        ;(window as any).destinationStream = destinationStream;\n\n        //  ESPONI AudioContext e MixerGain globalmente per StreamingManager\n        ;(window as any).globalAudioContext = state.audioContext\n        ;(window as any).globalMixerGain = mixerGain\n        \n        console.log(' [GLOBAL] AudioContext e MixerGain esposti globalmente per StreamingManager')\n        \n        //  CRITICAL FIX: Connetti IMMEDIATAMENTE l'analyser se StreamingManager  disponibile\n        const streamingManager = (window as any).streamingManager\n        if (streamingManager && streamingManager.connectDirectly) {\n          console.log(' [GLOBAL] StreamingManager trovato - connessione diretta immediata...')\n          streamingManager.connectDirectly(mixContext, mixerGain)\n        }\n\n        // Salva riferimenti globali\n        ;(window as any).currentMixerGain = mixerGain\n        ;(window as any).currentMixContext = mixContext\n        \n        // Esponi funzione master volume\n        ;(window as any).audioContextSetMasterVolume = (volume: number) => {\n          if (mixerGain && mixContext) {\n            mixerGain.gain.setValueAtTime(volume, mixContext.currentTime)\n          }\n        }\n\n        let hasRealAudio = false\n\n        //  CAPTURE AUDIO REALE DAI DECK - STREAMING SEPARATO DAL MONITORING\n\n        //  CRITICAL FIX: Cerca dinamicamente gli elementi audio dei deck nel DOM\n        // Questo risolve il problema dell'ordine di attivazione (streaming prima vs deck prima)\n        const leftAudioElement = leftElement || leftAudioRef.current || document.querySelector('audio.deck-audio[data-deck=\"A\"]') as HTMLAudioElement\n        const rightAudioElement = rightElement || rightAudioRef.current || document.querySelector('audio.deck-audio[data-deck=\"B\"]') as HTMLAudioElement\n\n        console.log(' [DEBUG AUDIO ELEMENTS] Elementi audio trovati:', {\n          leftElement: !!leftElement,\n          leftAudioRef: !!leftAudioRef.current,\n          leftAudioDOM: !!document.querySelector('audio.deck-audio[data-deck=\"A\"]'),\n          leftAudioElement: !!leftAudioElement,\n          leftAudioSrc: leftAudioElement?.src,\n          rightElement: !!rightElement,\n          rightAudioRef: !!rightAudioRef.current,\n          rightAudioDOM: !!document.querySelector('audio.deck-audio[data-deck=\"B\"]'),\n          rightAudioElement: !!rightAudioElement,\n          rightAudioSrc: rightAudioElement?.src\n        })\n        \n        //  CRITICAL DEBUG: Verifica tutti gli elementi audio nel DOM\n        const allAudioElements = document.querySelectorAll('audio')\n        console.log(' [DEBUG ALL AUDIO] Tutti gli elementi audio nel DOM:', {\n          total: allAudioElements.length,\n          elements: Array.from(allAudioElements).map((audio, index) => ({\n            index,\n            tagName: audio.tagName,\n            className: audio.className,\n            dataDeck: audio.getAttribute('data-deck'),\n            src: audio.src,\n            id: audio.id\n          }))\n        })\n        \n        //  CRITICAL DEBUG: Verifica se ci sono elementi audio con classi diverse\n        const alternativeLeftAudio = (document.querySelector('audio[data-deck=\"A\"]') as HTMLAudioElement) || \n                                    (document.querySelector('audio[data-deck=\"left\"]') as HTMLAudioElement) ||\n                                    (document.querySelector('audio.left-deck') as HTMLAudioElement) ||\n                                    (document.querySelector('audio[data-side=\"left\"]') as HTMLAudioElement)\n        \n        const alternativeRightAudio = (document.querySelector('audio[data-deck=\"B\"]') as HTMLAudioElement) || \n                                     (document.querySelector('audio[data-deck=\"right\"]') as HTMLAudioElement) ||\n                                     (document.querySelector('audio.right-deck') as HTMLAudioElement) ||\n                                     (document.querySelector('audio[data-side=\"right\"]') as HTMLAudioElement)\n        \n        console.log(' [DEBUG ALTERNATIVE AUDIO] Elementi audio alternativi trovati:', {\n          leftAlternative: !!alternativeLeftAudio,\n          leftAlternativeSrc: alternativeLeftAudio?.src,\n          rightAlternative: !!alternativeRightAudio,\n          rightAlternativeSrc: alternativeRightAudio?.src\n        })\n        \n        //  CRITICAL FIX: Usa elementi alternativi se quelli principali non sono disponibili\n        const finalLeftAudio = leftAudioElement || alternativeLeftAudio\n        const finalRightAudio = rightAudioElement || alternativeRightAudio\n        \n        console.log(' [DEBUG FINAL AUDIO] Elementi audio finali selezionati:', {\n          finalLeft: !!finalLeftAudio,\n          finalLeftSrc: finalLeftAudio?.src,\n          finalRight: !!finalRightAudio,\n          finalRightSrc: finalRightAudio?.src\n        })\n\n        // Deck sinistro - STREAMING (sempre al 100%)\n        if (finalLeftAudio && finalLeftAudio.src && finalLeftAudio.src.trim() !== '') {\n          try {\n            console.log(' [STREAMING] Tentativo cattura deck sinistro per streaming...')\n            \n            //  CRITICAL FIX: Notifica di inizio cattura\n            if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n              ;(window as any).addStreamingNotification('info', 'Cattura Audio', 'Tentativo cattura deck sinistro per streaming...', 'audio')\n            }\n            \n            //  CRITICAL FIX: Crea un elemento audio CLONATO per lo streaming\n            const leftStreamAudio = new Audio(finalLeftAudio.src)\n            \n            //  CRITICAL FIX: Sincronizza TUTTE le propriet dell'audio originale\n            leftStreamAudio.currentTime = finalLeftAudio.currentTime\n            leftStreamAudio.playbackRate = finalLeftAudio.playbackRate\n            leftStreamAudio.loop = finalLeftAudio.loop\n            leftStreamAudio.muted = finalLeftAudio.muted\n            \n            //  CRITICAL FIX: Volume streaming SEMPRE al 100%, indipendentemente dal volume locale\n            leftStreamAudio.volume = 1.0\n            \n            //  CRITICAL FIX: Sincronizza lo stato di riproduzione\n            if (finalLeftAudio.paused) {\n              leftStreamAudio.pause()\n            } else {\n              leftStreamAudio.play().catch(console.error)\n            }\n            \n        //  CRITICAL FIX: Sincronizzazione continua della posizione durante la riproduzione\n        const syncLeftPosition = () => {\n          //  CRITICAL FIX: Ottieni sempre gli elementi audio pi recenti\n          const currentLeftAudio = leftAudioRef.current\n          \n          if (leftStreamAudio && currentLeftAudio) {\n            //  CRITICAL FIX: Verifica se l'elemento audio locale  cambiato (nuova traccia)\n            if (leftStreamAudio.src !== currentLeftAudio.src) {\n              console.log(` [SYNC LEFT] Rilevato cambio traccia - aggiornando elemento audio dello streaming`)\n              leftStreamAudio.src = currentLeftAudio.src\n              leftStreamAudio.load()\n              \n              // Sincronizza tutte le propriet\n              leftStreamAudio.currentTime = currentLeftAudio.currentTime\n              leftStreamAudio.playbackRate = currentLeftAudio.playbackRate\n              leftStreamAudio.loop = currentLeftAudio.loop\n              leftStreamAudio.muted = currentLeftAudio.muted\n              leftStreamAudio.volume = 1.0\n              \n            // Sincronizza lo stato di riproduzione\n            if (currentLeftAudio.paused) {\n              console.log(' [SYNC LEFT] Pausa leftStreamAudio - audio originale in pausa')\n              leftStreamAudio.pause()\n            } else {\n              console.log(' [SYNC LEFT] Riproduzione leftStreamAudio - audio originale in riproduzione')\n              leftStreamAudio.play().catch((e) => {\n                console.error(' [SYNC LEFT] Errore riproduzione leftStreamAudio:', e)\n              })\n            }\n            } else {\n              // Sincronizzazione normale della posizione\n              const timeDiff = Math.abs(leftStreamAudio.currentTime - currentLeftAudio.currentTime)\n              // Sincronizza solo se la differenza  significativa (> 0.05s) per maggiore precisione\n              if (timeDiff > 0.05) {\n                console.log(` [SYNC LEFT] Sincronizzazione posizione: ${currentLeftAudio.currentTime.toFixed(2)}s (diff: ${timeDiff.toFixed(2)}s)`)\n                leftStreamAudio.currentTime = currentLeftAudio.currentTime\n              }\n            }\n          }\n        }\n        \n        //  CRITICAL FIX: Salva riferimento globale per sincronizzazione\n        ;(window as any).leftStreamAudio = leftStreamAudio\n        \n        //  CRITICAL FIX: Avvia sincronizzazione continua solo se non  gi attiva\n        if (!(window as any).leftSyncInterval) {\n          console.log(' [SYNC LEFT] Avvio sincronizzazione continua per deck sinistro')\n          ;(window as any).leftSyncInterval = setInterval(syncLeftPosition, 200)\n        }\n            \n            //  RIMOSSO: Event listeners che fermavano la sincronizzazione durante cambio traccia\n            // La sincronizzazione continua deve rimanere attiva per mantenere il stream audio\n            \n            const leftSource = mixContext.createMediaElementSource(leftStreamAudio)\n            const leftStreamGain = mixContext.createGain()\n            \n            //  CROSSFADER: Applica il crossfader al deck sinistro\n            // Deck A: Volume = 1.0 - crossfader (0.0 = tutto A, 1.0 = tutto B)\n            const leftCrossfaderVolume = 1.0 - (state.crossfader || 0.5)\n            leftStreamGain.gain.setValueAtTime(leftCrossfaderVolume, mixContext.currentTime)\n            \n            console.log(' [STREAMING] Collegamento audio deck sinistro:', {\n              leftSource: !!leftSource,\n              leftStreamGain: !!leftStreamGain,\n              mixerGain: !!mixerGain,\n              destinationStream: !!destinationStream,\n              crossfaderVolume: leftCrossfaderVolume\n            })\n            \n            leftSource.connect(leftStreamGain)\n            leftStreamGain.connect(mixerGain)\n            \n            console.log(' [STREAMING] Audio deck sinistro collegato: leftStreamAudio  leftSource  leftStreamGain  mixerGain  destinationStream')\n            \n            // Salva il riferimento al gain del deck sinistro per PTT e crossfader\n            ;(window as any).leftDeckStreamGain = leftStreamGain\n            \n            //  CRITICAL FIX: Notifica di successo cattura\n            if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n              ;(window as any).addStreamingNotification('success', 'Audio Catturato', 'Deck sinistro catturato con successo per streaming', 'audio')\n            }\n            \n            //  CRITICAL FIX: Sincronizza il playback con l'audio locale\n            leftStreamAudio.currentTime = finalLeftAudio.currentTime\n            \n            console.log(' [STREAMING] Stato audio originale:', {\n              paused: finalLeftAudio.paused,\n              currentTime: finalLeftAudio.currentTime,\n              duration: finalLeftAudio.duration,\n              src: finalLeftAudio.src,\n              volume: finalLeftAudio.volume,\n              readyState: finalLeftAudio.readyState,\n              networkState: finalLeftAudio.networkState\n            })\n            \n            console.log(' [STREAMING] Stato leftStreamAudio:', {\n              paused: leftStreamAudio.paused,\n              currentTime: leftStreamAudio.currentTime,\n              duration: leftStreamAudio.duration,\n              src: leftStreamAudio.src,\n              volume: leftStreamAudio.volume,\n              readyState: leftStreamAudio.readyState,\n              networkState: leftStreamAudio.networkState\n            })\n            \n            //  CRITICAL FIX: Forza sempre il volume dell'audio clonato per lo streaming\n            leftStreamAudio.volume = 1.0  // VOLUME MASSIMO per il clonato\n            leftStreamAudio.muted = false // Assicurati che non sia mutato\n            \n            //  CRITICAL FIX: Forza crossfader e gain per audio clonato\n            if (state.audioContext) {\n              leftStreamGain.gain.setValueAtTime(1.0, state.audioContext.currentTime)\n              mixerGain.gain.setValueAtTime(1.0, state.audioContext.currentTime)\n            } else {\n              leftStreamGain.gain.value = 1.0\n              mixerGain.gain.value = 1.0\n            }\n            \n            console.log(' [STREAMING] Gain forzati - leftStreamGain: 1.0, mixerGain: 1.0')\n            \n            if (!finalLeftAudio.paused) {\n              console.log(' [STREAMING] Avvio riproduzione leftStreamAudio...')\n              leftStreamAudio.play().then(() => {\n                console.log(' [STREAMING] leftStreamAudio riprodotto con successo')\n              }).catch((e) => {\n                console.error(' [STREAMING] Errore riproduzione leftStreamAudio:', e)\n              })\n            } else {\n              console.log(' [STREAMING] leftStreamAudio non avviato - audio originale in pausa')\n            }\n            \n            //  CRITICAL FIX: FORZA SEMPRE riproduzione con sincronizzazione\n            console.log(' [STREAMING] FORZO SEMPRE riproduzione leftStreamAudio per streaming...')\n            console.log(' [DEBUG] finalLeftAudio:', finalLeftAudio)\n            console.log(' [DEBUG] leftStreamAudio:', leftStreamAudio)\n            console.log(' [DEBUG] finalLeftAudio.currentTime:', finalLeftAudio?.currentTime)\n            console.log(' [DEBUG] leftStreamAudio.src:', leftStreamAudio?.src)\n            \n            try {\n              //  SINCRONIZZA il tempo dell'audio clonato con l'originale\n              leftStreamAudio.currentTime = finalLeftAudio.currentTime\n              leftStreamAudio.playbackRate = finalLeftAudio.playbackRate || 1.0\n              console.log(' [STREAMING] Sincronizzazione tempo completata')\n              \n              //  FORZA la riproduzione SEMPRE\n              await leftStreamAudio.play()\n              console.log(' [STREAMING] leftStreamAudio FORZATO riprodotto con successo')\n              \n              //  AVVIA monitoraggio continuo per mantenere sincronizzazione\n              if (!(window as any).leftStreamAudioSync) {\n                ;(window as any).leftStreamAudioSync = setInterval(() => {\n                  if (finalLeftAudio && leftStreamAudio) {\n                    // Sincronizza sempre il tempo\n                    const timeDiff = Math.abs(leftStreamAudio.currentTime - finalLeftAudio.currentTime)\n                    if (timeDiff > 0.5) { // Se differenza > 0.5 secondi\n                      leftStreamAudio.currentTime = finalLeftAudio.currentTime\n                      console.log(' [STREAMING] Sincronizzato leftStreamAudio:', finalLeftAudio.currentTime)\n                    }\n                    \n                    // Assicurati che stia sempre riproducendo\n                    if (leftStreamAudio.paused && !finalLeftAudio.paused) {\n                      leftStreamAudio.play().catch(console.warn)\n                    }\n                  }\n                }, 1000) // Ogni secondo\n              }\n              \n              //  VERIFICA IMMEDIATA che l'audio sia effettivamente in riproduzione\n              console.log(' [STREAMING] Verifica leftStreamAudio FINALE:', {\n                paused: leftStreamAudio.paused,\n                currentTime: leftStreamAudio.currentTime,\n                volume: leftStreamAudio.volume,\n                muted: leftStreamAudio.muted,\n                duration: leftStreamAudio.duration,\n                readyState: leftStreamAudio.readyState\n              })\n              \n            } catch (e) {\n              console.error(' [STREAMING] Errore riproduzione FORZATA leftStreamAudio:', e)\n            }\n            \n            hasRealAudio = true\n            console.log(' [STREAMING] Deck sinistro catturato con successo (volume streaming: 100%, separato dal locale)')\n          } catch (e: any) {\n            console.error(' [STREAMING] Errore cattura deck sinistro:', e.message)\n          }\n        } else {\n          console.log(' [STREAMING] Deck sinistro non disponibile per cattura')\n        }\n\n        // Deck destro - STREAMING (sempre al 100%)\n        if (finalRightAudio && finalRightAudio.src && finalRightAudio.src.trim() !== '') {\n          try {\n            console.log(' [STREAMING] Tentativo cattura deck destro per streaming...')\n            \n            //  CRITICAL FIX: Notifica di inizio cattura\n            if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n              ;(window as any).addStreamingNotification('info', 'Cattura Audio', 'Tentativo cattura deck destro per streaming...', 'audio')\n            }\n            \n            //  CRITICAL FIX: Crea un elemento audio CLONATO per lo streaming\n            const rightStreamAudio = new Audio(finalRightAudio.src)\n            \n            //  CRITICAL FIX: Sincronizza TUTTE le propriet dell'audio originale\n            rightStreamAudio.currentTime = finalRightAudio.currentTime\n            rightStreamAudio.playbackRate = finalRightAudio.playbackRate\n            rightStreamAudio.loop = finalRightAudio.loop\n            rightStreamAudio.muted = finalRightAudio.muted\n            \n            //  CRITICAL FIX: Volume streaming SEMPRE al 100%, indipendentemente dal volume locale\n            rightStreamAudio.volume = 1.0\n            \n            //  CRITICAL FIX: Sincronizza lo stato di riproduzione\n            if (finalRightAudio.paused) {\n              rightStreamAudio.pause()\n            } else {\n              rightStreamAudio.play().catch(console.error)\n            }\n            \n        //  CRITICAL FIX: Sincronizzazione continua della posizione durante la riproduzione\n        const syncRightPosition = () => {\n          //  CRITICAL FIX: Ottieni sempre gli elementi audio pi recenti\n          const currentRightAudio = rightAudioRef.current\n          \n          if (rightStreamAudio && currentRightAudio) {\n            //  CRITICAL FIX: Verifica se l'elemento audio locale  cambiato (nuova traccia)\n            if (rightStreamAudio.src !== currentRightAudio.src) {\n              console.log(` [SYNC RIGHT] Rilevato cambio traccia - aggiornando elemento audio dello streaming`)\n              rightStreamAudio.src = currentRightAudio.src\n              rightStreamAudio.load()\n              \n              // Sincronizza tutte le propriet\n              rightStreamAudio.currentTime = currentRightAudio.currentTime\n              rightStreamAudio.playbackRate = currentRightAudio.playbackRate\n              rightStreamAudio.loop = currentRightAudio.loop\n              rightStreamAudio.muted = currentRightAudio.muted\n              rightStreamAudio.volume = 1.0\n              \n              // Sincronizza lo stato di riproduzione\n              if (currentRightAudio.paused) {\n                rightStreamAudio.pause()\n              } else {\n                rightStreamAudio.play().catch(console.error)\n              }\n            } else {\n              // Sincronizzazione normale della posizione\n              const timeDiff = Math.abs(rightStreamAudio.currentTime - currentRightAudio.currentTime)\n              // Sincronizza solo se la differenza  significativa (> 0.05s) per maggiore precisione\n              if (timeDiff > 0.05) {\n                console.log(` [SYNC RIGHT] Sincronizzazione posizione: ${currentRightAudio.currentTime.toFixed(2)}s (diff: ${timeDiff.toFixed(2)}s)`)\n                rightStreamAudio.currentTime = currentRightAudio.currentTime\n              }\n            }\n          }\n        }\n        \n        //  CRITICAL FIX: Salva riferimento globale per sincronizzazione\n        ;(window as any).rightStreamAudio = rightStreamAudio\n        \n        //  CRITICAL FIX: Avvia sincronizzazione continua solo se non  gi attiva\n        if (!(window as any).rightSyncInterval) {\n          console.log(' [SYNC RIGHT] Avvio sincronizzazione continua per deck destro')\n          ;(window as any).rightSyncInterval = setInterval(syncRightPosition, 200)\n        }\n            \n            //  RIMOSSO: Event listeners che fermavano la sincronizzazione durante cambio traccia\n            // La sincronizzazione continua deve rimanere attiva per mantenere il stream audio\n            \n            const rightSource = mixContext.createMediaElementSource(rightStreamAudio)\n            const rightStreamGain = mixContext.createGain()\n            \n            //  CROSSFADER: Applica il crossfader al deck destro\n            // Deck B: Volume = crossfader (0.0 = tutto A, 1.0 = tutto B)\n            const rightCrossfaderVolume = state.crossfader || 0.5\n            rightStreamGain.gain.setValueAtTime(rightCrossfaderVolume, mixContext.currentTime)\n            \n            rightSource.connect(rightStreamGain)\n            rightStreamGain.connect(mixerGain)\n            \n            // Salva il riferimento al gain del deck destro per PTT e crossfader\n            ;(window as any).rightDeckStreamGain = rightStreamGain\n            \n            //  CRITICAL FIX: Notifica di successo cattura\n            if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n              ;(window as any).addStreamingNotification('success', 'Audio Catturato', 'Deck destro catturato con successo per streaming', 'audio')\n            }\n            \n            \n            hasRealAudio = true\n            console.log(' [STREAMING] Deck destro catturato con successo (volume streaming: 100%, separato dal locale)')\n          } catch (e: any) {\n            console.error(' [STREAMING] Errore cattura deck destro:', e.message)\n          }\n        } else {\n          console.log(' [STREAMING] Deck destro non disponibile per cattura')\n        }\n\n        //  MICROFONO\n        console.log(' [MIC CHECK] Stato microfono:', {\n          micStreamRef: !!micStreamRef.current,\n          isEnabled: state.microphone.isEnabled,\n          isMuted: state.microphone.isMuted,\n          micStream: micStreamRef.current\n        })\n        \n        //  CORREZIONE: Usa il microfono dalle impostazioni invece di quello generico\n        if (!micStreamRef.current) {\n          try {\n            console.log(' [MIC] Richiesta accesso al microfono con impostazioni settings...')\n            const micStream = await createMicrophoneStream()\n            if (micStream) {\n              micStreamRef.current = micStream\n              console.log(' [MIC] Accesso al microfono ottenuto con impostazioni corrette:', micStream)\n            } else {\n              console.warn(' [MIC] Fallback a microfono generico...')\n              const fallbackStream = await navigator.mediaDevices.getUserMedia({ audio: true })\n              micStreamRef.current = fallbackStream\n              console.log(' [MIC] Fallback microfono ottenuto:', fallbackStream)\n            }\n          } catch (e: any) {\n            console.error(' [MIC] Errore accesso al microfono:', e.message)\n          }\n        }\n        \n        //  CRITICAL FIX: Crea SEMPRE il microfono per lo streaming (non solo per PTT)\n        if (micStreamRef.current) {\n          console.log(' [MIC] Creazione MediaStreamSource per microfono...')\n          try {\n            const micSource = mixContext.createMediaStreamSource(micStreamRef.current)\n            \n            //  CRITICAL FIX: Crea un gain separato per il microfono per gestire PTT\n            const micGain = mixContext.createGain()\n            micSource.connect(micGain)\n            \n            //  CRITICAL FIX: Connetto SEMPRE il microfono al MediaStreamDestination per lo streaming\n            micGain.connect(destinationStream)\n            console.log(' [MIC] Microfono connesso al MediaStreamDestination per streaming')\n            \n            //  FIX: Connetto anche al mixer locale per il PTT\n            micGain.connect(mixerGain)\n            console.log(' [MIC] Microfono connesso anche al mixer locale per PTT')\n            \n            //  FIX: Salva SEMPRE i riferimenti PTT per aggiornamenti futuri\n            ;(window as any).currentPTTMicGain = micGain\n            ;(window as any).currentPTTMixerGain = mixerGain\n            ;(window as any).currentPTTContext = mixContext\n            \n            //  CRITICAL FIX: Imposta il volume iniziale del microfono per lo streaming\n            if (pttActive) {\n              micGain.gain.setValueAtTime(1.0, mixContext.currentTime) // Microfono al 100%\n              console.log(' [PTT] Microfono attivato al 100% per PTT e streaming')\n            } else {\n              micGain.gain.setValueAtTime(0.0, mixContext.currentTime) // Microfono al 0%\n              console.log(' [MIC] Microfono creato ma silenziato (PTT non attivo) - disponibile per streaming')\n            }\n            \n            console.log(' [MIC] Riferimenti PTT salvati globalmente:', {\n              currentPTTMicGain: !!(window as any).currentPTTMicGain,\n              currentPTTMixerGain: !!(window as any).currentPTTMixerGain,\n              currentPTTContext: !!(window as any).currentPTTContext\n            })\n            \n            hasRealAudio = true\n            console.log(' [MIC] Microfono creato e connesso con successo per streaming e PTT')\n        \n        console.log(' [GETMIXEDSTREAM] Passaggio critico - prima del return...')\n            \n            try {\n              //  CRITICAL FIX: Notifica di successo microfono\n              if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n                ;(window as any).addStreamingNotification('success', 'Microfono Attivo', 'Microfono creato e connesso con successo per streaming e PTT', 'audio')\n              }\n              console.log(' [GETMIXEDSTREAM] Notifica microfono inviata...')\n            } catch (error) {\n              console.error(' [GETMIXEDSTREAM] Errore notifica microfono:', error)\n            }\n          } catch (e: any) {\n            console.error(' [MIC] Errore creazione microfono:', e.message)\n          }\n        } else {\n          console.warn(' [MIC] Microfono non disponibile per streaming:', {\n            micStreamRef: !!micStreamRef.current,\n            isEnabled: state.microphone.isEnabled,\n            isMuted: state.microphone.isMuted\n          })\n        }\n\n        //  FALLBACK OSCILLATOR SE NECESSARIO\n        if (!hasRealAudio) {\n          try {\n            const oscillator = mixContext.createOscillator()\n            const gainNode = mixContext.createGain()\n            \n            oscillator.frequency.setValueAtTime(440, mixContext.currentTime)\n            gainNode.gain.setValueAtTime(0.1, mixContext.currentTime)\n            \n            oscillator.connect(gainNode)\n            gainNode.connect(mixerGain)\n            \n            oscillator.start()\n          } catch (e: any) {\n            // Ignora errori per l'oscillator\n          }\n        }\n\n        //  NOTIFICHE FINALI\n        if (hasRealAudio) {\n          //  CRITICAL FIX: Notifica di successo con audio reale\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('success', 'Streaming Successo', ' STREAMING SUCCESSO: Audio reale catturato!', 'streaming')\n          } else {\n            console.log(' [STREAMING] Audio reale catturato con successo!')\n          }\n        } else {\n          //  CRITICAL FIX: Notifica di warning per fallback\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('warning', 'Streaming Warning', ' STREAMING PROBLEMA: Solo oscillator, nessun audio reale!', 'streaming')\n          } else {\n            console.warn(' [STREAMING] Solo oscillator, nessun audio reale!')\n          }\n        }\n\n        //  CRITICAL FIX: Assicurati che ci sia sempre un stream valido\n        if (!hasRealAudio) {\n          console.log(' [STREAMING] Nessun audio attivo, creo stream silenzioso per mantenere connessione...')\n          \n          // Crea un oscillator silenzioso per mantenere la connessione\n          const silentOscillator = mixContext.createOscillator()\n          const silentGain = mixContext.createGain()\n          silentGain.gain.setValueAtTime(0, mixContext.currentTime) // Completamente silenzioso\n          silentOscillator.connect(silentGain)\n          silentGain.connect(destinationStream)\n          silentOscillator.start()\n          \n          console.log(' [STREAMING] Stream silenzioso creato per mantenere connessione streaming')\n        }\n        \n        try {\n          //  CRITICAL FIX: Notifica di completamento\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('success', 'Streaming Ready', ' Mixed stream creato con successo! Audio pronto per streaming.', 'streaming')\n          }\n          console.log(' [GETMIXEDSTREAM] Notifica completamento inviata...')\n        } catch (error) {\n          console.error(' [GETMIXEDSTREAM] Errore notifica completamento:', error)\n        }\n        \n        //  FFmpeg gi avviato all'inizio di getMixedStream\n        \n        console.log(' [STREAMING] getMixedStream completato - stream valido restituito')\n        console.log(' [GETMIXEDSTREAM] Stream restituito:', !!destinationStream.stream, destinationStream.stream?.active, destinationStream.stream?.getTracks().length)\n        \n        //  CRITICAL FIX: Avvia sincronizzazione continua se non  gi attiva\n        if (typeof window !== 'undefined' && (window as any).startContinuousSync) {\n          console.log(' [GETMIXEDSTREAM] Avvio sincronizzazione continua...')\n          ;(window as any).startContinuousSync()\n        } else {\n          console.log(' [GETMIXEDSTREAM] startContinuousSync non disponibile, riprovo tra 500ms...')\n          setTimeout(() => {\n            if (typeof window !== 'undefined' && (window as any).startContinuousSync) {\n              console.log(' [GETMIXEDSTREAM] Avvio sincronizzazione continua (ritardato)...')\n              ;(window as any).startContinuousSync()\n            } else {\n              console.error(' [GETMIXEDSTREAM] startContinuousSync ancora non disponibile')\n            }\n          }, 500)\n        }\n        \n        console.log(' [GETMIXEDSTREAM] Ultimo passaggio - prima del return finale...')\n        console.log(' [GETMIXEDSTREAM] Ritorno destinationStream.stream:', {\n          hasDestinationStream: !!destinationStream,\n          hasStream: !!destinationStream.stream,\n          streamType: typeof destinationStream.stream,\n          streamConstructor: destinationStream.stream?.constructor?.name,\n          isMediaStream: destinationStream.stream instanceof MediaStream,\n          active: destinationStream.stream?.active,\n          tracks: destinationStream.stream?.getTracks()?.length\n        })\n        return destinationStream.stream\n        \n      } catch (error: any) {\n        //  CRITICAL FIX: Notifica di errore critico\n        if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n          ;(window as any).addStreamingNotification('error', 'Errore Critico', ` ERRORE CRITICO STREAMING: ${error.message}`, 'streaming')\n        } else {\n          console.error(' [STREAMING] Errore critico:', error.message)\n        }\n        return null\n      }\n    } catch (error) {\n      console.error('Error initializing stream:', error);\n      return null;\n    }\n  }\n\n  //  EXPOSE: Esponi il database globalmente per compatibilit\n  ;(window as any).localDatabase = localDatabase\n  \n  //  EXPOSE: Esponi getMixedStream globalmente per uso esterno\n  ;(window as any).getMixedStream = getMixedStream\n  \n  //  EXPOSE: Funzione per avviare la sincronizzazione continua\n  ;(window as any).startContinuousSync = () => {\n    console.log(' [SYNC] Avvio sincronizzazione continua richiesto...')\n    \n    // Verifica se gli elementi audio esistono\n    if (!leftAudioRef.current && !rightAudioRef.current) {\n      console.log(' [SYNC] Nessun elemento audio disponibile per sincronizzazione')\n      return\n    }\n    \n    // Avvia sincronizzazione per deck sinistro se disponibile\n    if (leftAudioRef.current && !(window as any).leftSyncInterval) {\n      console.log(' [SYNC] Avvio sincronizzazione deck sinistro...')\n      ;(window as any).leftSyncInterval = setInterval(() => {\n        const currentLeftAudio = leftAudioRef.current\n        if (currentLeftAudio && (window as any).leftStreamAudio) {\n          // Verifica cambio traccia\n          if ((window as any).leftStreamAudio.src !== currentLeftAudio.src) {\n            console.log(` [SYNC LEFT] Rilevato cambio traccia - aggiornando elemento audio dello streaming`)\n            ;(window as any).leftStreamAudio.src = currentLeftAudio.src\n            ;(window as any).leftStreamAudio.load()\n            \n            // Sincronizza tutte le propriet\n            ;(window as any).leftStreamAudio.currentTime = currentLeftAudio.currentTime\n            ;(window as any).leftStreamAudio.playbackRate = currentLeftAudio.playbackRate\n            ;(window as any).leftStreamAudio.loop = currentLeftAudio.loop\n            ;(window as any).leftStreamAudio.muted = currentLeftAudio.muted\n            ;(window as any).leftStreamAudio.volume = 1.0\n            \n            // Sincronizza lo stato di riproduzione\n            if (currentLeftAudio.paused) {\n              console.log(' [SYNC LEFT] Pausa leftStreamAudio - audio originale in pausa')\n              ;(window as any).leftStreamAudio.pause()\n            } else {\n              console.log(' [SYNC LEFT] Riproduzione leftStreamAudio - audio originale in riproduzione')\n              ;(window as any).leftStreamAudio.play().catch((e: any) => {\n                console.error(' [SYNC LEFT] Errore riproduzione leftStreamAudio:', e)\n              })\n            }\n          } else {\n            // Sincronizzazione normale della posizione\n            const timeDiff = Math.abs((window as any).leftStreamAudio.currentTime - currentLeftAudio.currentTime)\n            if (timeDiff > 0.05) {\n              console.log(` [SYNC LEFT] Sincronizzazione posizione: ${currentLeftAudio.currentTime.toFixed(2)}s (diff: ${timeDiff.toFixed(2)}s)`)\n              ;(window as any).leftStreamAudio.currentTime = currentLeftAudio.currentTime\n            }\n          }\n        }\n      }, 200)\n    }\n    \n    // Avvia sincronizzazione per deck destro se disponibile\n    if (rightAudioRef.current && !(window as any).rightSyncInterval) {\n      console.log(' [SYNC] Avvio sincronizzazione deck destro...')\n      ;(window as any).rightSyncInterval = setInterval(() => {\n        const currentRightAudio = rightAudioRef.current\n        if (currentRightAudio && (window as any).rightStreamAudio) {\n          // Verifica cambio traccia\n          if ((window as any).rightStreamAudio.src !== currentRightAudio.src) {\n            console.log(` [SYNC RIGHT] Rilevato cambio traccia - aggiornando elemento audio dello streaming`)\n            ;(window as any).rightStreamAudio.src = currentRightAudio.src\n            ;(window as any).rightStreamAudio.load()\n            \n            // Sincronizza tutte le propriet\n            ;(window as any).rightStreamAudio.currentTime = currentRightAudio.currentTime\n            ;(window as any).rightStreamAudio.playbackRate = currentRightAudio.playbackRate\n            ;(window as any).rightStreamAudio.loop = currentRightAudio.loop\n            ;(window as any).rightStreamAudio.muted = currentRightAudio.muted\n            ;(window as any).rightStreamAudio.volume = 1.0\n            \n            // Sincronizza lo stato di riproduzione\n            if (currentRightAudio.paused) {\n              ;(window as any).rightStreamAudio.pause()\n            } else {\n              ;(window as any).rightStreamAudio.play().catch(console.error)\n            }\n          } else {\n            // Sincronizzazione normale della posizione\n            const timeDiff = Math.abs((window as any).rightStreamAudio.currentTime - currentRightAudio.currentTime)\n            if (timeDiff > 0.05) {\n              console.log(` [SYNC RIGHT] Sincronizzazione posizione: ${currentRightAudio.currentTime.toFixed(2)}s (diff: ${timeDiff.toFixed(2)}s)`)\n              ;(window as any).rightStreamAudio.currentTime = currentRightAudio.currentTime\n            }\n          }\n        }\n      }, 200)\n    }\n    \n    console.log(' [SYNC] Sincronizzazione continua avviata')\n  }\n\n  //  EXPOSE: Funzione per fermare la sincronizzazione continua\n  ;(window as any).stopContinuousSync = () => {\n    if ((window as any).leftSyncInterval) {\n      clearInterval((window as any).leftSyncInterval)\n      ;(window as any).leftSyncInterval = null\n      console.log(' [SYNC] Sincronizzazione sinistra fermata')\n    }\n    if ((window as any).rightSyncInterval) {\n      clearInterval((window as any).rightSyncInterval)\n      ;(window as any).rightSyncInterval = null\n      console.log(' [SYNC] Sincronizzazione destra fermata')\n    }\n  }\n  \n  //  RIMOSSO: I metodi pauseStreaming/resumeStreaming sono ora gestiti dal ContinuousStreamingManager\n  // Non sovrascrivere pi i metodi globali definiti in RebuiltDJConsole\n  \n  //  HELPER: Funzione per attendere che streamingManager sia disponibile\n  const waitForStreamingManager = async (timeoutMs: number = 5000): Promise<any> => {\n    const startTime = Date.now()\n    console.log(' [WAIT] Inizio ricerca StreamingManager...')\n    \n    while (Date.now() - startTime < timeoutMs) {\n      if ((window as any).streamingManager) {\n        console.log(' [WAIT] StreamingManager trovato dopo', Date.now() - startTime, 'ms')\n        console.log(' [WAIT] StreamingManager type:', typeof (window as any).streamingManager)\n        console.log(' [WAIT] StreamingManager updateStream method:', typeof (window as any).streamingManager.updateStream)\n        return (window as any).streamingManager\n      }\n      await new Promise(resolve => setTimeout(resolve, 100))\n    }\n    console.warn(' [WAIT] StreamingManager non trovato entro', timeoutMs, 'ms')\n    console.warn(' [WAIT] window.streamingManager:', (window as any).streamingManager)\n    return null\n  }\n  \n  //  TRACKING: Sistema per tracciare tutti gli stream audio attivi\n  ;(window as any).activeAudioStreams = []\n  \n  //  FUNZIONE: Aggiungi stream al tracking\n  const addAudioStreamToTracking = (stream: MediaStream) => {\n    if (!(window as any).activeAudioStreams) {\n      ;(window as any).activeAudioStreams = []\n    }\n    ;(window as any).activeAudioStreams.push(stream)\n    console.log(' [TRACKING] Stream audio aggiunto al tracking:', stream.id)\n  }\n  \n  //  FUNZIONE: Rimuovi stream dal tracking\n  const removeAudioStreamFromTracking = (stream: MediaStream) => {\n    if ((window as any).activeAudioStreams) {\n      const index = (window as any).activeAudioStreams.indexOf(stream)\n      if (index > -1) {\n        ;(window as any).activeAudioStreams.splice(index, 1)\n        console.log(' [TRACKING] Stream audio rimosso dal tracking:', stream.id)\n      }\n    }\n  }\n  \n  //  ESPONI: Funzioni di tracking globalmente\n  ;(window as any).addAudioStreamToTracking = addAudioStreamToTracking\n  ;(window as any).removeAudioStreamFromTracking = removeAudioStreamFromTracking\n  \n  //  FUNZIONE: Enumera dispositivi audio output disponibili\n  const getAvailableAudioOutputDevices = async (): Promise<MediaDeviceInfo[]> => {\n    try {\n      const devices = await navigator.mediaDevices.enumerateDevices()\n      const audioOutputs = devices.filter(device => device.kind === 'audiooutput')\n      console.log(' [AUDIO] Dispositivi audio output disponibili:', audioOutputs)\n      return audioOutputs\n    } catch (error) {\n      console.error(' [AUDIO] Errore enumerazione dispositivi output:', error)\n      return []\n    }\n  }\n  \n  //  ESPONI: Funzione per ottenere dispositivi audio output\n  ;(window as any).getAvailableAudioOutputDevices = getAvailableAudioOutputDevices\n  \n  //  FUNZIONE: Inizializza AudioContext principale se non esiste\n  const ensureMainAudioContext = useCallback(() => {\n    if (!(window as any).__audioContexts || !(window as any).__audioContexts[0]) {\n      const AudioContextClass = window.AudioContext || (window as any).webkitAudioContext\n      if (AudioContextClass) {\n        const mainContext = new AudioContextClass()\n        if (!(window as any).__audioContexts) {\n          ;(window as any).__audioContexts = []\n        }\n        ;(window as any).__audioContexts[0] = mainContext\n        \n        //  CRITICAL FIX: Esponi globalmente l'AudioContext principale immediatamente\n        ;(window as any).globalAudioContext = mainContext\n        \n        //  CRITICAL FIX: Aggiorna anche lo stato Redux\n        dispatch({ type: 'SET_AUDIO_CONTEXT', payload: mainContext })\n        \n        console.log(' [INIT] AudioContext principale inizializzato e esposto globalmente')\n        return mainContext\n      }\n    }\n    const mainContext = (window as any).__audioContexts && (window as any).__audioContexts[0]\n    if (mainContext && !(window as any).globalAudioContext) {\n      //  CRITICAL FIX: Esponi globalmente anche se gi esiste\n      ;(window as any).globalAudioContext = mainContext\n      \n      //  CRITICAL FIX: Aggiorna anche lo stato Redux\n      dispatch({ type: 'SET_AUDIO_CONTEXT', payload: mainContext })\n      \n      console.log(' [INIT] AudioContext principale esistente esposto globalmente')\n    }\n    return mainContext\n  }, [dispatch])\n  \n  //  ESPONI: Funzione per inizializzare AudioContext principale\n  ;(window as any).ensureMainAudioContext = ensureMainAudioContext\n  \n  //  CLEANUP: Funzione per pulire tutti gli stream audio\n  const cleanupAllAudioStreams = useCallback(() => {\n    try {\n      console.log(' [CLEANUP] Inizio cleanup completo stream audio...')\n      \n      //  CLEANUP: Ferma tutti gli stream audio tracciati\n      if ((window as any).activeAudioStreams && Array.isArray((window as any).activeAudioStreams)) {\n        console.log(` [CLEANUP] Trovati ${(window as any).activeAudioStreams.length} stream audio da fermare`)\n        \n        ;(window as any).activeAudioStreams.forEach((stream: MediaStream, index: number) => {\n          try {\n            if (stream && stream.getTracks) {\n              stream.getTracks().forEach(track => {\n                track.stop()\n                console.log(` [CLEANUP] Track fermato: ${track.kind} - ${track.label}`)\n              })\n            }\n          } catch (error) {\n            console.warn(` [CLEANUP] Errore fermando stream ${index}:`, error)\n          }\n        })\n        \n        //  CLEANUP: Pulisci l'array di tracking\n        ;(window as any).activeAudioStreams = []\n        console.log(' [CLEANUP] Array di tracking stream pulito')\n      }\n      \n      //  CLEANUP: Ferma il microfono se attivo\n      if (micStreamRef.current) {\n        try {\n          micStreamRef.current.getTracks().forEach(track => {\n            track.stop()\n            console.log(` [CLEANUP] Microfono fermato: ${track.label}`)\n          })\n          micStreamRef.current = null\n        } catch (error) {\n          console.warn(' [CLEANUP] Errore fermando microfono:', error)\n        }\n      }\n      \n      //  CLEANUP: Ferma tutti gli elementi audio HTML\n      //  CLEANUP: Ferma audio locale solo se non  in streaming\n      const isCurrentlyStreaming = (window as any).isCurrentlyStreaming\n      if (!isCurrentlyStreaming) {\n        if (leftAudioRef.current) {\n          try {\n            leftAudioRef.current.pause()\n            leftAudioRef.current.currentTime = 0\n            leftAudioRef.current.src = ''\n            console.log(' [CLEANUP] Left deck audio fermato')\n          } catch (error) {\n            console.warn(' [CLEANUP] Errore fermando left deck:', error)\n          }\n        }\n        \n        if (rightAudioRef.current) {\n          try {\n            rightAudioRef.current.pause()\n            rightAudioRef.current.currentTime = 0\n            rightAudioRef.current.src = ''\n            console.log(' [CLEANUP] Right deck audio fermato')\n          } catch (error) {\n            console.warn(' [CLEANUP] Errore fermando right deck:', error)\n          }\n        }\n      } else {\n        console.log(' [CLEANUP] Audio locale mantenuto attivo durante streaming')\n      }\n      \n      //  CLEANUP: Chiudi solo AudioContext temporanei, NON quello principale\n      if (typeof window !== 'undefined' && window.AudioContext) {\n        try {\n          // Cerca AudioContext attivi globalmente\n          const audioContexts = (window as any).__audioContexts || []\n          audioContexts.forEach((ctx: AudioContext, index: number) => {\n            //  CORREZIONE: Non chiudere l'AudioContext principale (indice 0)\n            if (ctx && ctx.state !== 'closed' && index > 0) {\n              ctx.close()\n              console.log(` [CLEANUP] AudioContext temporaneo ${index} chiuso`)\n            } else if (index === 0) {\n              console.log(' [CLEANUP] AudioContext principale mantenuto attivo')\n            }\n          })\n        } catch (error) {\n          console.warn(' [CLEANUP] Errore chiudendo AudioContext temporanei:', error)\n        }\n      }\n      \n      //  CLEANUP: Pulisci riferimenti globali\n      ;(window as any).__currentStreamVolume__ = undefined\n      ;(window as any).__pttOriginalStreamVolume__ = undefined\n      \n      //  CORREZIONE: Mantieni solo l'AudioContext principale\n      if ((window as any).__audioContexts && (window as any).__audioContexts.length > 0) {\n        ;(window as any).__audioContexts = [(window as any).__audioContexts[0]]\n        console.log(' [CLEANUP] Mantenuto solo AudioContext principale')\n      }\n      \n      console.log(' [CLEANUP] Cleanup completo stream audio completato')\n      \n    } catch (error) {\n      console.error(' [CLEANUP] Errore durante cleanup stream audio:', error)\n    }\n  }, [])\n  \n  //  ESPONI: Funzione di cleanup globalmente\n  ;(window as any).cleanupAllAudioStreams = cleanupAllAudioStreams\n  \n  //  AUTO-RECONNECT: Funzione per ricollegare automaticamente i deck quando vengono creati dopo lo streaming\n  ;(window as any).reconnectDeckToStreaming = async (deckId: 'A' | 'B') => {\n    try {\n      console.log(` [AUTO-RECONNECT] Tentativo ricollegamento deck ${deckId} allo streaming...`)\n      \n      // Verifica che lo streaming sia attivo\n      if (!(window as any).isCurrentlyStreaming) {\n        console.log(` [AUTO-RECONNECT] Streaming non attivo, salto ricollegamento deck ${deckId}`)\n        return false\n      }\n      \n      // Cerca l'elemento audio del deck nel DOM\n      const deckAudioElement = document.querySelector(`audio.deck-audio[data-deck=\"${deckId}\"]`) as HTMLAudioElement\n      if (!deckAudioElement || !deckAudioElement.src || deckAudioElement.src.trim() === '') {\n        console.log(` [AUTO-RECONNECT] Deck ${deckId} non ha audio valido, salto ricollegamento`)\n        return false\n      }\n      \n      console.log(` [AUTO-RECONNECT] Deck ${deckId} trovato con audio valido, procedo con ricollegamento...`)\n      \n      //  CRITICAL FIX: Invece di cercare di ricollegare al mixer esistente,\n      // ricreiamo completamente il mixed stream per includere i nuovi deck\n      try {\n        // Notifica di inizio ricollegamento\n        if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n          ;(window as any).addStreamingNotification('info', 'Ricollegamento Deck', `Ricollegamento deck ${deckId} allo streaming...`, 'audio')\n        }\n        \n        //  RICREA COMPLETAMENTE IL MIXED STREAM\n        console.log(` [AUTO-RECONNECT] Ricreazione mixed stream per includere deck ${deckId}...`)\n        \n        // Chiama getMixedStream per ricreare il stream con tutti i deck disponibili\n        const newMixedStream = await getMixedStream()\n        \n        if (newMixedStream) {\n          //  AGGIORNA LO STREAMING MANAGER CON IL NUOVO STREAM\n          if ((window as any).streamingManager && typeof (window as any).streamingManager.updateStream === 'function') {\n            await (window as any).streamingManager.updateStream(newMixedStream)\n            console.log(` [AUTO-RECONNECT] Streaming aggiornato con nuovo mixed stream`)\n          } else {\n            console.log(` [AUTO-RECONNECT] StreamingManager non disponibile per aggiornamento`)\n          }\n          \n          // Notifica di successo\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('success', 'Deck Ricollegato', `Deck ${deckId} ricollegato con successo allo streaming`, 'audio')\n          }\n          \n          console.log(` [AUTO-RECONNECT] Deck ${deckId} ricollegato con successo allo streaming`)\n          return true\n        } else {\n          throw new Error('getMixedStream ha restituito null')\n        }\n        \n      } catch (streamError: any) {\n        console.error(` [AUTO-RECONNECT] Errore ricreazione mixed stream:`, streamError.message)\n        \n        // Notifica di errore\n        if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n          ;(window as any).addStreamingNotification('error', 'Errore Ricollegamento', `Errore ricollegamento deck ${deckId}: ${streamError.message}`, 'audio')\n        }\n        \n        return false\n      }\n      \n    } catch (error: any) {\n      console.error(` [AUTO-RECONNECT] Errore generale ricollegamento deck ${deckId}:`, error.message)\n      \n      if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n        ;(window as any).addStreamingNotification('error', 'Errore Ricollegamento', `Errore ricollegamento deck ${deckId}: ${error.message}`, 'audio')\n      }\n      \n      return false\n    }\n  }\n  \n  //  MONITORING: Funzione per monitoraggio continuo del server durante streaming\n  ;(window as any).startServerMonitoring = () => {\n    if ((window as any).__serverMonitoringInterval__) {\n      clearInterval((window as any).__serverMonitoringInterval__)\n    }\n    \n    console.log(' [MONITORING] Avvio monitoraggio continuo del server...')\n    \n    ;(window as any).__serverMonitoringInterval__ = setInterval(async () => {\n      try {\n        //  FIX: Controlla se l'utente ha richiesto la disconnessione\n        if ((window as any).globalStreamingManager?.isUserRequestedDisconnect) {\n          console.log(' [MONITORING] Disconnessione richiesta dall\\'utente - fermo monitoraggio')\n          return\n        }\n        \n        if ((window as any).isCurrentlyStreaming) {\n          console.log(' [MONITORING] Verifica server durante streaming...')\n          \n          //  CRITICAL FIX: Verifica diretta HTTP usando server di default\n          const defaultServer = await localDatabase.getDefaultIcecastServer()\n          if (defaultServer?.host && defaultServer?.port) {\n            const host = defaultServer.host\n            const port = defaultServer.port\n            1\n            const response = await fetch(`http://${host}:${port}/status-json.xsl`, {\n              method: 'GET',\n              cache: 'no-cache',\n              signal: AbortSignal.timeout(3000) // Timeout pi breve per monitoraggio\n            })\n            \n            if (!response.ok) {\n              if (response.status === 404) {\n                throw new Error(`Server non raggiungibile - Endpoint non trovato (404)`)\n              } else if (response.status === 403) {\n                throw new Error(`Server non raggiungibile - Accesso negato (403)`)\n              } else if (response.status >= 500) {\n                throw new Error(`Server non raggiungibile - Errore server (${response.status})`)\n            } else {\n                throw new Error(`Server non raggiungibile - HTTP ${response.status}`)\n              }\n            }\n            \n            console.log(' [MONITORING] Server OK durante streaming')\n      } else {\n            throw new Error('Impostazioni streaming incomplete')\n          }\n        }\n      } catch (error: any) {\n        //  FIX: Controlla se l'utente ha richiesto la disconnessione prima di gestire errori\n        if ((window as any).globalStreamingManager?.isUserRequestedDisconnect) {\n          console.log(' [MONITORING] Disconnessione richiesta dall\\'utente - ignoro errore server')\n          return\n        }\n        \n        console.error(' [MONITORING] SERVER CADUTO durante streaming!', error.message)\n        \n        //  CRITICAL FIX: Usa notifiche invece di alert che bloccano l'interfaccia\n        if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n          ;(window as any).addStreamingNotification('error', 'Server Caduto', ` SERVER CADUTO!\\n\\n${error.message}\\n\\nLo streaming  stato fermato automaticamente.`, 'streaming')\n        } else {\n          // Fallback a console se le notifiche non sono disponibili\n          console.error(' [MONITORING] Server caduto:', error.message)\n        }\n        \n        // Ferma lo streaming\n        if ((window as any).stopStreaming) {\n          ;(window as any).stopStreaming()\n        }\n      }\n    }, 5000) // Controlla ogni 5 secondi (pi frequente)\n  }\n  \n  //  STOP: Funzione per fermare il monitoraggio\n  ;(window as any).stopServerMonitoring = () => {\n    if ((window as any).__serverMonitoringInterval__) {\n      clearInterval((window as any).__serverMonitoringInterval__)\n      ;(window as any).__serverMonitoringInterval__ = null\n      console.log(' [MONITORING] Monitoraggio server fermato')\n    }\n  }\n  \n  \n  //  DEBUG: Funzione per verificare lo stato del database\n  ;(window as any).debugDatabaseStatus = async () => {\n    try {\n      console.log(' [DB DEBUG] Verifica stato database...')\n      console.log(' [DB DEBUG] Database importato:', !!localDatabase)\n      console.log(' [DB DEBUG] Tipo database:', typeof localDatabase)\n      console.log(' [DB DEBUG] Metodi disponibili:', Object.getOwnPropertyNames(Object.getPrototypeOf(localDatabase)))\n      \n      if (localDatabase) {\n        console.log(' [DB DEBUG] Database disponibile, aspetto inizializzazione...')\n          await localDatabase.waitForInitialization()\n        console.log(' [DB DEBUG] Database inizializzato!')\n        \n          const settings = await localDatabase.getSettings()\n        console.log(' [DB DEBUG] Settings letti:', !!settings)\n        console.log(' [DB DEBUG] Settings completi:', settings)\n        \n        if (settings?.streaming?.icecastServers && settings.streaming.icecastServers.length > 0) {\n          console.log(' [DB DEBUG]  Icecast servers configurati:', settings.streaming.icecastServers.length)\n          const defaultServer = settings.streaming.icecastServers.find(s => s.isDefault) || settings.streaming.icecastServers[0]\n          if (defaultServer) {\n            console.log(' [DB DEBUG] Server di default:', {\n              host: defaultServer.host,\n              port: defaultServer.port,\n              mount: defaultServer.mount\n            })\n          }\n        } else {\n          console.log(' [DB DEBUG]  Nessun server Icecast configurato')\n        }\n      }\n    } catch (error: any) {\n      console.error(' [DB DEBUG] Errore verifica database:', error.message)\n    }\n  }\n  \n  //  SERVER CHECK: Funzione per verificare la connessione al server streaming\n  ;(window as any).checkStreamingServerConnection = async (settings?: any) => {\n    try {\n      console.log(' [SERVER CHECK] Verifica connessione al server streaming...')\n      \n      //  CRITICAL FIX: Usa le impostazioni passate come parametro o leggi dal database\n      \n      try {\n        let s = settings // Usa le impostazioni passate come parametro\n        console.log(' [SERVER CHECK] Parametro settings ricevuto:', !!s)\n        console.log(' [SERVER CHECK] Tipo di settings:', typeof s)\n        \n                //  CRITICAL FIX: FORZA sempre la lettura dal database per evitare problemi di timing\n        console.log(' [SERVER CHECK] FORZO lettura dal database per evitare problemi...')\n        \n        // Aspetta che il database sia inizializzato e forza lettura settings\n        await localDatabase.waitForInitialization()\n        s = await localDatabase.getSettings()\n        console.log(' [SERVER CHECK] Settings forzati dal database:', !!s)\n        \n        //  USA SERVER DI DEFAULT SELEZIONATO\n        const defaultServer = await localDatabase.getDefaultIcecastServer()\n        console.log(' [SERVER CHECK] DEBUG - Server di default:', defaultServer)\n        \n        if (!defaultServer) {\n          throw new Error('IMPOSTAZIONI STREAMING INCOMPLETE: Nessun server Icecast configurato')\n        }\n        \n        //  CRITICAL FIX: Verifica che il server di default sia valido\n        if (!defaultServer.host || !defaultServer.port) {\n          throw new Error('IMPOSTAZIONI STREAMING INCOMPLETE: Server di default non valido')\n        }\n        \n        if (defaultServer.host.trim() === '' || defaultServer.port === 0) {\n          throw new Error('IMPOSTAZIONI STREAMING INCOMPLETE: Host vuoto o porta 0 nel server di default')\n        }\n        \n        console.log(' [SERVER CHECK]  Server di default valido, procedo con test connessione...')\n        \n        if (defaultServer?.host && defaultServer?.port) {\n          const host = defaultServer.host\n          const port = defaultServer.port\n          console.log(` [SERVER CHECK] Connessione Icecast configurata: http://${host}:${port}`)\n          console.log(` [SERVER CHECK] Server: ${defaultServer.name}, Host: ${host}, Porta: ${port}`)\n          \n          //  CRITICAL FIX: Prova connessione HTTP per server Icecast\n          console.log(` [SERVER CHECK] Test connessione HTTP su: http://${host}:${port}`)\n          \n          try {\n            //  CRITICAL FIX: Rimuovo no-cors per rilevare errori reali\n            const response = await fetch(`http://${host}:${port}/status-json.xsl`, {\n              method: 'GET',\n              cache: 'no-cache',\n              signal: AbortSignal.timeout(5000) // Timeout 5 secondi\n            })\n            \n            if (!response.ok) {\n              if (response.status === 404) {\n                throw new Error(`Server Icecast non raggiungibile su http://${host}:${port} - Endpoint non trovato (404)`)\n              } else if (response.status === 403) {\n                throw new Error(`Server Icecast non raggiungibile su http://${host}:${port} - Accesso negato (403)`)\n              } else if (response.status >= 500) {\n                throw new Error(`Server Icecast non raggiungibile su http://${host}:${port} - Errore server (${response.status})`)\n              } else {\n                throw new Error(`Server Icecast non raggiungibile su http://${host}:${port} - HTTP ${response.status}`)\n              }\n            }\n            \n            console.log(` [SERVER CHECK] Server Icecast raggiungibile su http://${host}:${port}`)\n            \n            //  CRITICAL FIX: Notifica di successo\n            if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n              ;(window as any).addStreamingNotification('success', 'Server Raggiungibile', `Server Icecast raggiungibile su http://${host}:${port}`, 'streaming')\n            }\n            \n            return true\n          } catch (httpError: any) {\n            console.error(` [SERVER CHECK] Errore connessione HTTP:`, httpError.message)\n            throw new Error(`Server Icecast non raggiungibile su http://${host}:${port}`)\n          }\n        } else {\n          //  CRITICAL FIX: NESSUN FALLBACK - Solo errore chiaro\n          const errorMsg = ` IMPOSTAZIONI STREAMING INCOMPLETE!\\n\\nHost o porta non configurati correttamente.\\n\\nConfigurazione attuale:\\n Host: \"${s?.streaming?.icecast?.host || 'NON IMPOSTATO'}\"\\n Porta: ${s?.streaming?.icecast?.port || 'NON IMPOSTATA'}\\n\\nVai in Settings e configura:\\n Host: 82.145.63.6\\n Porta: 5040`\n          \n          console.error(' [SERVER CHECK]', errorMsg)\n          \n          //  CRITICAL FIX: Notifica di errore\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('error', 'Impostazioni Incomplete', errorMsg, 'app')\n          }\n          \n          throw new Error(errorMsg)\n        }\n      } catch (settingsError: any) {\n        //  CRITICAL FIX: Distinguo tra errore database e errore connessione\n        if (settingsError.message.includes('IMPOSTAZIONI STREAMING INCOMPLETE')) {\n          // Errore impostazioni\n          const errorMsg = ` IMPOSTAZIONI STREAMING INCOMPLETE!\\n\\n${settingsError.message}\\n\\nVai in Settings e configura:\\n Host: 82.145.63.6\\n Porta: 5040`\n          console.error(' [SERVER CHECK] Impostazioni incomplete:', errorMsg)\n          throw new Error(errorMsg)\n        } else if (settingsError.message.includes('Server Icecast non raggiungibile')) {\n          // Errore connessione - lo rilancio cos com'\n          console.error(' [SERVER CHECK] Server non raggiungibile:', settingsError.message)\n          throw settingsError\n        } else {\n          // Altri errori - potrebbero essere errori database\n          const errorMsg = ` ERRORE LETTURA IMPOSTAZIONI!\\n\\nImpossibile leggere le impostazioni dal database.\\n\\nErrore: ${settingsError.message}\\n\\nVerifica che il database sia accessibile e riprova.`\n          console.error(' [SERVER CHECK] Errore database:', errorMsg)\n          \n          //  CRITICAL FIX: Notifica di errore\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('error', 'Errore Database', errorMsg, 'app')\n          }\n          \n          throw new Error(errorMsg)\n        }\n      }\n    } catch (error: any) {\n      //  CRITICAL FIX: Rilancio l'errore cos com' - la logica di gestione  gi nel catch interno\n      console.error(' [SERVER CHECK] Errore finale:', error.message)\n      throw error\n    }\n  }\n\n  //  FIX: Funzione globale per aggiornare i volumi PTT dinamicamente\n  ;(window as any).updatePTTVolumesOnly = (pttActive: boolean) => {\n    try {\n      console.log(` [PTT UPDATE] Tentativo aggiornamento volumi PTT: ${pttActive ? 'ON' : 'OFF'}`)\n      \n      //  CRITICAL FIX: Usa i riferimenti globali del mixer per il PTT\n      const micGain = (window as any).currentPTTMicGain\n      const mixerGain = (window as any).currentPTTMixerGain\n      const context = (window as any).currentPTTContext\n      \n      //  CRITICAL FIX: PTT Ducking dalle impostazioni (default 75% = musica abbassata del 75% del volume corrente)\n      const pttDuckingLevel = (window as any).__pttDuckingLevel__ || 0.75 // Default 75% di abbassamento\n      \n      if (pttActive) {\n        //  STORE: Salva il volume corrente del LiveStream prima del ducking\n        if (!(window as any).__pttOriginalStreamVolume__) {\n          //  CRITICAL FIX: Ottieni il volume corrente del LiveStream dall'interfaccia\n          const currentStreamVolume = (window as any).__currentStreamVolume__ || 1.0 // Default 100%\n          ;(window as any).__pttOriginalStreamVolume__ = currentStreamVolume\n          \n          console.log(` [PTT] Volume originale del LiveStream salvato: ${Math.round(currentStreamVolume * 100)}%`)\n        }\n        \n        //  CALCULATE: Calcola il volume ducked del LiveStream\n        const originalStreamVolume = (window as any).__pttOriginalStreamVolume__ || 1.0\n        const duckedStreamVolume = Math.max(0, originalStreamVolume * (1.0 - pttDuckingLevel))\n        \n        console.log(` [PTT DEBUG] Volume originale LiveStream: ${Math.round(originalStreamVolume * 100)}%, Ducking: ${Math.round(pttDuckingLevel * 100)}%, Volume finale: ${Math.round(duckedStreamVolume * 100)}%`)\n        \n        //  PTT: Aggiorna il microfono per lo streaming\n        if (micGain && context) {\n          micGain.gain.setValueAtTime(1.0, context.currentTime) // Microfono al 100%\n          console.log(` [PTT UPDATE] Microfono attivato al 100% per streaming`)\n          \n          //  CRITICAL FIX: Notifica di successo\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('info', 'PTT Attivato', 'Microfono attivato al 100% per streaming', 'audio')\n          }\n        }\n        \n        //  CRITICAL FIX: Abbassa SOLO il volume del LiveStream usando setLiveStreamVolume (controlla SOLO l'interfaccia Live Stream)\n        if (typeof (window as any).setLiveStreamVolume === 'function') {\n          ;(window as any).setLiveStreamVolume(duckedStreamVolume)\n          console.log(` [PTT UPDATE] LiveStream abbassato del ${Math.round(pttDuckingLevel * 100)}% (da ${Math.round(originalStreamVolume * 100)}% a ${Math.round(duckedStreamVolume * 100)}%)`)\n      } else {\n          console.warn(' [PTT] Funzione setLiveStreamVolume non disponibile')\n        }\n        \n        //  CRITICAL FIX: Aggiorna ANCHE il mixer WebAudio per abbassare realmente la musica\n        if (mixerGain && mixerGain.gain) {\n          mixerGain.gain.setValueAtTime(duckedStreamVolume, context.currentTime)\n          console.log(` [PTT UPDATE] Mixer WebAudio abbassato a ${Math.round(duckedStreamVolume * 100)}% per ducking reale`)\n        } else {\n          console.warn(' [PTT] Mixer WebAudio non disponibile per ducking')\n        }\n        \n      } else {\n        //  RESTORE: Ripristina il volume originale del LiveStream (NON al 100%!)\n        const originalStreamVolume = (window as any).__pttOriginalStreamVolume__ || 1.0\n        \n        //  PTT: Disattiva il microfono per lo streaming\n        if (micGain && context) {\n          micGain.gain.setValueAtTime(0.0, context.currentTime) // Microfono al 0%\n          console.log(` [PTT UPDATE] Microfono disattivato per streaming`)\n          \n          //  CRITICAL FIX: Notifica di successo\n          if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n            ;(window as any).addStreamingNotification('info', 'PTT Disattivato', 'Microfono disattivato per streaming', 'audio')\n          }\n        }\n        \n        //  CRITICAL FIX: Ripristina il volume originale del LiveStream usando setLiveStreamVolume\n        if (typeof (window as any).setLiveStreamVolume === 'function') {\n          ;(window as any).setLiveStreamVolume(originalStreamVolume)\n          console.log(` [PTT UPDATE] LiveStream ripristinato al volume originale: ${Math.round(originalStreamVolume * 100)}%`)\n          } else {\n          console.warn(' [PTT] Funzione setLiveStreamVolume non disponibile')\n        }\n        \n        //  CRITICAL FIX: Ripristina ANCHE il mixer WebAudio al volume originale\n        if (mixerGain && mixerGain.gain) {\n          mixerGain.gain.setValueAtTime(originalStreamVolume, context.currentTime)\n          console.log(` [PTT UPDATE] Mixer WebAudio ripristinato a ${Math.round(originalStreamVolume * 100)}%`)\n          } else {\n          console.warn(' [PTT] Mixer WebAudio non disponibile per ripristino')\n        }\n        \n        //  CLEANUP: Pulisci il volume originale salvato\n        ;(window as any).__pttOriginalStreamVolume__ = undefined\n      }\n      \n      //  DEBUG: Log dei riferimenti disponibili\n      console.log(` [PTT DEBUG] Riferimenti disponibili:`, {\n        micGain: !!micGain,\n        context: !!context,\n        setLiveStreamVolume: typeof (window as any).setLiveStreamVolume === 'function',\n        originalStreamVolume: (window as any).__pttOriginalStreamVolume__\n      })\n\n          } catch (error) {\n      console.error(' [PTT ERROR] Errore durante aggiornamento volumi PTT:', error)\n    }\n  }\n\n  // ===== FUNZIONI ESSENZIALI =====\n\n  // Riproduce una track nel deck sinistro\n  const playLeftTrack = useCallback((track: AudioTrack) => {\n    console.log(` [LEFT DECK] Riproduzione track: ${track.title}`)\n    \n    try {\n      //  CLEANUP: Pulisci audio precedente\n      if (leftAudioRef.current) {\n        leftAudioRef.current.pause()\n        leftAudioRef.current.currentTime = 0\n        leftAudioRef.current.src = ''\n        console.log(' [LEFT DECK] Audio precedente pulito')\n      }\n      \n      // Aggiorna lo stato del deck\n      dispatch({ type: 'SET_LEFT_DECK_TRACK', payload: track })\n      dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: true })\n      \n      // Carica l'audio se c' un URL\n      if (track.url && leftAudioRef.current) {\n        leftAudioRef.current.src = track.url\n        leftAudioRef.current.load()\n        \n        //  FIX: Applica il volume locale corretto\n        leftAudioRef.current.volume = state.leftDeck.localVolume\n        \n        // Avvia la riproduzione\n        leftAudioRef.current.play().catch((error: any) => {\n          console.error(' Errore avvio riproduzione left deck:', error)\n          dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: false })\n        })\n      }\n      \n      console.log(` [LEFT DECK] Track \"${track.title}\" caricata e avviata`)\n      \n      //  CRITICAL FIX: NON aggiornare nulla al cambio traccia - il sistema gestir automaticamente\n      // Il mixed stream si aggiorna automaticamente e il MediaRecorder continua a funzionare\n      console.log(' [TRACK CHANGE LEFT] Traccia cambiata - sistema gestir automaticamente lo streaming')\n      \n      //  CRITICAL FIX: Avvia sincronizzazione continua se non  gi attiva\n      if (typeof window !== 'undefined' && (window as any).startContinuousSync) {\n        console.log(' [TRACK CHANGE] Avvio sincronizzazione continua per cambio traccia...')\n        ;(window as any).startContinuousSync()\n      }\n    } catch (error: any) {\n      console.error(' Errore caricamento left deck:', error)\n      dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: false })\n    }\n  }, [dispatch, state.leftDeck.localVolume, getMixedStream])\n\n  // Riproduce una track nel deck destro\n  const playRightTrack = useCallback((track: AudioTrack) => {\n    console.log(` [RIGHT DECK] Riproduzione track: ${track.title}`)\n    \n    try {\n      //  CLEANUP: Pulisci audio precedente\n      if (rightAudioRef.current) {\n        rightAudioRef.current.pause()\n        rightAudioRef.current.currentTime = 0\n        rightAudioRef.current.src = ''\n        console.log(' [RIGHT DECK] Audio precedente pulito')\n      }\n      \n      // Aggiorna lo stato del deck\n      dispatch({ type: 'SET_RIGHT_DECK_TRACK', payload: track })\n      dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: true })\n      \n      // Carica l'audio se c' un URL\n      if (track.url && rightAudioRef.current) {\n        rightAudioRef.current.src = track.url\n        rightAudioRef.current.load()\n        \n        //  FIX: Applica il volume locale corretto\n        rightAudioRef.current.volume = state.rightDeck.localVolume\n        \n        // Avvia la riproduzione\n        rightAudioRef.current.play().catch((error: any) => {\n          console.error(' Errore avvio riproduzione right deck:', error)\n          dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: false })\n        })\n      }\n      \n      console.log(` [RIGHT DECK] Track \"${track.title}\" caricata e avviata`)\n      \n      //  CRITICAL FIX: NON aggiornare nulla al cambio traccia - il sistema gestir automaticamente\n      // Il mixed stream si aggiorna automaticamente e il MediaRecorder continua a funzionare\n      console.log(' [TRACK CHANGE RIGHT] Traccia cambiata - sistema gestir automaticamente lo streaming')\n      \n      //  CRITICAL FIX: Avvia sincronizzazione continua se non  gi attiva\n      if (typeof window !== 'undefined' && (window as any).startContinuousSync) {\n        console.log(' [TRACK CHANGE] Avvio sincronizzazione continua per cambio traccia...')\n        ;(window as any).startContinuousSync()\n      }\n    } catch (error: any) {\n      console.error(' Errore caricamento right deck:', error)\n      dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: false })\n    }\n  }, [dispatch, state.rightDeck.localVolume, getMixedStream])\n\n  //  FIX: Aggiorna i volumi locali degli elementi audio HTML\n  const updateLocalVolumes = useCallback(() => {\n    if (leftAudioRef.current) {\n      //  FIX: Applica il volume locale corretto\n      const targetVolume = Math.max(0, Math.min(1, state.leftDeck.localVolume))\n      leftAudioRef.current.volume = targetVolume\n      console.log(` [LEFT DECK] Volume locale aggiornato: ${Math.round(targetVolume * 100)}%`)\n    }\n    \n    if (rightAudioRef.current) {\n      //  FIX: Applica il volume locale corretto\n      const targetVolume = Math.max(0, Math.min(1, state.rightDeck.localVolume))\n      rightAudioRef.current.volume = targetVolume\n      console.log(` [RIGHT DECK] Volume locale aggiornato: ${Math.round(targetVolume * 100)}%`)\n    }\n  }, [state.leftDeck.localVolume, state.rightDeck.localVolume])\n\n  //  FIX: Effetto per aggiornare i volumi locali quando cambiano\n  useEffect(() => {\n    console.log(' [VOLUMES] Aggiornamento volumi locali richiesto')\n    updateLocalVolumes()\n  }, [updateLocalVolumes])\n\n  //  FIX: Effetto per aggiornare i volumi quando cambia lo stato\n  useEffect(() => {\n    console.log(' [VOLUMES] Stato volumi cambiato - aggiornamento automatico')\n    updateLocalVolumes()\n  }, [state.leftDeck.localVolume, state.rightDeck.localVolume])\n\n  //  CORREZIONE: Funzione per configurare il dispositivo output audio\n  const configureAudioOutputDevice = useCallback(async () => {\n    try {\n      const outputDevice = settings?.audio?.outputDevice\n      if (!outputDevice || outputDevice === 'default') {\n        console.log(' [AUDIO] Usando dispositivo output predefinito')\n        return\n      }\n\n      console.log(` [AUDIO] Configurazione dispositivo output: ${outputDevice}`)\n      \n      //  CORREZIONE: Configura gli elementi audio per usare il dispositivo specifico\n      const audioElements = [leftAudioRef.current, rightAudioRef.current].filter(Boolean)\n      \n      for (const audioElement of audioElements) {\n        if (audioElement) {\n          try {\n            //  CORREZIONE: Usa setSinkId se supportato (Chrome/Edge)\n            if ('setSinkId' in audioElement) {\n              await (audioElement as any).setSinkId(outputDevice)\n              console.log(` [AUDIO] Dispositivo output configurato per elemento audio: ${outputDevice}`)\n            } else {\n              console.warn(' [AUDIO] setSinkId non supportato, usa dispositivo predefinito')\n            }\n          } catch (error) {\n            console.warn(` [AUDIO] Errore configurazione dispositivo output:`, error)\n          }\n        }\n      }\n      \n    } catch (error) {\n      console.error(' [AUDIO] Errore configurazione dispositivo output:', error)\n    }\n  }, [settings?.audio?.outputDevice])\n\n  //  CORREZIONE: Effetto per applicare la scheda audio configurata\n  useEffect(() => {\n    configureAudioOutputDevice()\n  }, [configureAudioOutputDevice])\n\n  //  CORREZIONE: Effetto per riconfigurare quando gli elementi audio sono pronti\n  useEffect(() => {\n    if (leftAudioRef.current || rightAudioRef.current) {\n      console.log(' [AUDIO] Elementi audio pronti, riconfigurazione dispositivo output...')\n      configureAudioOutputDevice()\n    }\n  }, [leftAudioRef.current, rightAudioRef.current, configureAudioOutputDevice])\n\n  //  CLEANUP: Effetto per pulire gli stream audio quando il componente viene smontato\n  useEffect(() => {\n    return () => {\n      console.log(' [CLEANUP] AudioProvider smontato, cleanup automatico...')\n      //  CLEANUP: Pulisci il debounce timeout\n      if (seekDebounceRef.current) {\n        clearTimeout(seekDebounceRef.current)\n        seekDebounceRef.current = null\n      }\n      cleanupAllAudioStreams()\n    }\n  }, [cleanupAllAudioStreams])\n\n  //  CLEANUP: Listener per chiusura finestra/app\n  useEffect(() => {\n    const handleBeforeUnload = () => {\n      console.log(' [CLEANUP] App in chiusura, cleanup stream audio...')\n      cleanupAllAudioStreams()\n    }\n\n    const handleUnload = () => {\n      console.log(' [CLEANUP] App chiusa, cleanup finale...')\n      cleanupAllAudioStreams()\n    }\n\n    //  CLEANUP: Aggiungi listener per chiusura\n    window.addEventListener('beforeunload', handleBeforeUnload)\n    window.addEventListener('unload', handleUnload)\n\n    //  CLEANUP: Rimuovi listener quando il componente viene smontato\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload)\n      window.removeEventListener('unload', handleUnload)\n    }\n  }, [cleanupAllAudioStreams])\n\n  //  CLEANUP: Cleanup iniziale per rimuovere stream residui\n  useEffect(() => {\n    console.log(' [CLEANUP] Cleanup iniziale per rimuovere stream residui...')\n    cleanupAllAudioStreams()\n    \n    //  INIZIALIZZA: AudioContext principale\n    ensureMainAudioContext()\n  }, [cleanupAllAudioStreams, ensureMainAudioContext]) // Solo all'inizializzazione\n\n  //  FIX: Funzioni per impostare i volumi locali dei deck\n  const setLeftLocalVolume = useCallback((volume: number) => {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    dispatch({ type: 'SET_LEFT_DECK_LOCAL_VOLUME', payload: clampedVolume })\n    \n    //  CRITICAL FIX: Aggiorna SOLO il volume HTML locale, NON quello streaming\n    if (leftAudioRef.current) {\n      leftAudioRef.current.volume = clampedVolume\n      console.log(` [LEFT DECK] Volume locale impostato: ${Math.round(clampedVolume * 100)}% (HTML solo)`)\n    }\n  }, [dispatch])\n\n  const setRightLocalVolume = useCallback((volume: number) => {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    dispatch({ type: 'SET_RIGHT_DECK_LOCAL_VOLUME', payload: clampedVolume })\n    \n    //  CRITICAL FIX: Aggiorna SOLO il volume HTML locale, NON quello streaming\n    if (rightAudioRef.current) {\n      rightAudioRef.current.volume = clampedVolume\n      console.log(` [RIGHT DECK] Volume locale impostato: ${Math.round(clampedVolume * 100)}% (HTML solo)`)\n    }\n  }, [dispatch])\n\n  //  DEBOUNCE: Debounce per evitare troppi aggiornamenti rapidi\n  const seekDebounceRef = useRef<NodeJS.Timeout | null>(null)\n  \n  //  NUOVO: Funzioni seek per spostare la canzone\n  const seekLeftTo = useCallback(async (time: number) => {\n    console.log(' [SEEK LEFT] Funzione seekLeftTo chiamata con time:', time)\n    console.log(' [SEEK LEFT] leftAudioRef.current:', !!leftAudioRef.current)\n    console.log(' [SEEK LEFT] leftAudioRef.current.src:', leftAudioRef.current?.src)\n    \n    if (leftAudioRef.current && leftAudioRef.current.src) {\n      const duration = leftAudioRef.current.duration || 0\n      const clampedTime = Math.max(0, Math.min(duration, time))\n      leftAudioRef.current.currentTime = clampedTime\n      dispatch({ type: 'SET_LEFT_DECK_TIME', payload: clampedTime })\n      console.log(` [LEFT DECK] Seek to ${clampedTime.toFixed(2)}s`)\n      \n      //  CRITICAL FIX: Debounce per evitare troppi aggiornamenti rapidi\n      if (seekDebounceRef.current) {\n        clearTimeout(seekDebounceRef.current)\n      }\n      \n      //  CRITICAL FIX: NON fermare lo streaming per seek - solo sincronizzazione continua\n      console.log(' [SEEK LEFT] Seek completato - sincronizzazione continua gestir l\\'aggiornamento')\n      \n      //  CRITICAL FIX: Forza sincronizzazione immediata della posizione dopo il seek\n      setTimeout(() => {\n        const leftAudio = leftAudioRef.current\n        if (leftAudio) {\n          console.log(` [SEEK SYNC] Forzando sincronizzazione posizione: ${leftAudio.currentTime.toFixed(2)}s`)\n          // La sincronizzazione continua gestir il resto\n        }\n      }, 100)\n    }\n  }, [dispatch, getMixedStream])\n\n  const seekRightTo = useCallback(async (time: number) => {\n    console.log(' [SEEK RIGHT] Funzione seekRightTo chiamata con time:', time)\n    console.log(' [SEEK RIGHT] rightAudioRef.current:', !!rightAudioRef.current)\n    console.log(' [SEEK RIGHT] rightAudioRef.current.src:', rightAudioRef.current?.src)\n    \n    if (rightAudioRef.current && rightAudioRef.current.src) {\n      const duration = rightAudioRef.current.duration || 0\n      const clampedTime = Math.max(0, Math.min(duration, time))\n      rightAudioRef.current.currentTime = clampedTime\n      dispatch({ type: 'SET_RIGHT_DECK_TIME', payload: clampedTime })\n      console.log(` [RIGHT DECK] Seek to ${clampedTime.toFixed(2)}s`)\n      \n      //  CRITICAL FIX: Debounce per evitare troppi aggiornamenti rapidi\n      if (seekDebounceRef.current) {\n        clearTimeout(seekDebounceRef.current)\n      }\n      \n      //  CRITICAL FIX: NON fermare lo streaming per seek - solo sincronizzazione continua\n      console.log(' [SEEK RIGHT] Seek completato - sincronizzazione continua gestir l\\'aggiornamento')\n      \n      //  CRITICAL FIX: Forza sincronizzazione immediata della posizione dopo il seek\n      setTimeout(() => {\n        const rightAudio = rightAudioRef.current\n        if (rightAudio) {\n          console.log(` [SEEK SYNC] Forzando sincronizzazione posizione: ${rightAudio.currentTime.toFixed(2)}s`)\n          // La sincronizzazione continua gestir il resto\n        }\n      }, 100)\n    }\n  }, [dispatch, getMixedStream])\n\n  //  NUOVO: Funzioni di controllo playback\n  const pauseLeftTrack = useCallback(() => {\n    if (leftAudioRef.current && leftAudioRef.current.src) {\n      leftAudioRef.current.pause()\n      dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: false })\n      console.log(' [LEFT DECK] Paused')\n      \n      //  CRITICAL FIX: Pausa anche lo streaming quando l'audio locale viene messo in pausa\n      if (typeof window !== 'undefined' && (window as any).streamingManager && (window as any).streamingManager.isCurrentlyStreaming()) {\n        console.log(' [STREAMING SYNC] Pausa streaming per sincronizzazione con deck A')\n        \n        // Pausa lo streaming temporaneamente\n        if (typeof window !== 'undefined' && (window as any).pauseStreaming) {\n          ;(window as any).pauseStreaming()\n          console.log(' [STREAMING SYNC] Streaming pausato per sincronizzazione')\n        } else {\n          console.log(' [STREAMING SYNC] Funzione pauseStreaming non disponibile')\n        }\n      }\n    }\n  }, [dispatch])\n\n  const resumeLeftTrack = useCallback(() => {\n    if (leftAudioRef.current && leftAudioRef.current.src) {\n      leftAudioRef.current.play().catch((error: any) => {\n        console.error(' Errore resume left deck:', error)\n      })\n      dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: true })\n      console.log(' [LEFT DECK] Resumed')\n      \n      //  CRITICAL FIX: Riprendi anche lo streaming quando l'audio locale viene ripreso\n      if (typeof window !== 'undefined' && (window as any).streamingManager && (window as any).streamingManager.isCurrentlyStreaming()) {\n        console.log(' [STREAMING SYNC] Riprendi streaming per sincronizzazione con deck A')\n        \n        // Riprendi lo streaming\n        if (typeof window !== 'undefined' && (window as any).resumeStreaming) {\n          ;(window as any).resumeStreaming()\n          console.log(' [STREAMING SYNC] Streaming ripreso per sincronizzazione')\n        } else {\n          console.log(' [STREAMING SYNC] Funzione resumeStreaming non disponibile')\n        }\n      }\n    }\n  }, [dispatch])\n\n  const stopLeftTrack = useCallback(() => {\n    if (leftAudioRef.current) {\n      leftAudioRef.current.pause()\n      leftAudioRef.current.currentTime = 0\n      dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: false })\n      dispatch({ type: 'SET_LEFT_DECK_TIME', payload: 0 })\n      console.log(' [LEFT DECK] Stopped')\n    }\n  }, [dispatch])\n\n  const pauseRightTrack = useCallback(() => {\n    if (rightAudioRef.current && rightAudioRef.current.src) {\n      rightAudioRef.current.pause()\n      dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: false })\n      console.log(' [RIGHT DECK] Paused')\n      \n      //  CRITICAL FIX: Pausa anche lo streaming quando l'audio locale viene messo in pausa\n      if (typeof window !== 'undefined' && (window as any).streamingManager && (window as any).streamingManager.isCurrentlyStreaming()) {\n        console.log(' [STREAMING SYNC] Pausa streaming per sincronizzazione con deck B')\n        \n        // Pausa lo streaming temporaneamente\n        if (typeof window !== 'undefined' && (window as any).pauseStreaming) {\n          ;(window as any).pauseStreaming()\n          console.log(' [STREAMING SYNC] Streaming pausato per sincronizzazione')\n        } else {\n          console.log(' [STREAMING SYNC] Funzione pauseStreaming non disponibile')\n        }\n      }\n    }\n  }, [dispatch])\n\n  const resumeRightTrack = useCallback(() => {\n    if (rightAudioRef.current && rightAudioRef.current.src) {\n      rightAudioRef.current.play().catch((error: any) => {\n        console.error(' Errore resume right deck:', error)\n      })\n      dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: true })\n      console.log(' [RIGHT DECK] Resumed')\n      \n      //  CRITICAL FIX: Riprendi anche lo streaming quando l'audio locale viene ripreso\n      if (typeof window !== 'undefined' && (window as any).streamingManager && (window as any).streamingManager.isCurrentlyStreaming()) {\n        console.log(' [STREAMING SYNC] Riprendi streaming per sincronizzazione con deck B')\n        \n        // Riprendi lo streaming\n        if (typeof window !== 'undefined' && (window as any).resumeStreaming) {\n          ;(window as any).resumeStreaming()\n          console.log(' [STREAMING SYNC] Streaming ripreso per sincronizzazione')\n        } else {\n          console.log(' [STREAMING SYNC] Funzione resumeStreaming non disponibile')\n        }\n      }\n    }\n  }, [dispatch])\n\n  const stopRightTrack = useCallback(() => {\n    if (rightAudioRef.current) {\n      rightAudioRef.current.pause()\n      rightAudioRef.current.currentTime = 0\n      dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: false })\n      dispatch({ type: 'SET_RIGHT_DECK_TIME', payload: 0 })\n      console.log(' [RIGHT DECK] Stopped')\n    }\n  }, [dispatch])\n\n  //  NUOVO: Funzione universale per play/pause\n  const handlePlayPauseDefinitive = useCallback(async (side: 'left' | 'right') => {\n    const audioRef = side === 'left' ? leftAudioRef : rightAudioRef\n    const isPlaying = side === 'left' ? state.leftDeck.isPlaying : state.rightDeck.isPlaying\n    \n    if (audioRef.current && audioRef.current.src) {\n      if (isPlaying) {\n        //  PAUSA: Ferma audio locale E streaming\n        audioRef.current.pause()\n        dispatch({ type: side === 'left' ? 'SET_LEFT_DECK_PLAYING' : 'SET_RIGHT_DECK_PLAYING', payload: false })\n        console.log(` [${side.toUpperCase()} DECK] Paused`)\n        \n        //  CRITICAL: Ferma anche lo streaming quando pausa\n        if ((window as any).pauseStreaming) {\n          console.log(` [STREAMING] Pausa streaming richiesta da ${side} deck`)\n          ;(window as any).pauseStreaming()\n        }\n      } else {\n        try {\n          //  PLAY: Avvia audio locale E streaming\n          await audioRef.current.play()\n          dispatch({ type: side === 'left' ? 'SET_LEFT_DECK_PLAYING' : 'SET_RIGHT_DECK_PLAYING', payload: true })\n          console.log(` [${side.toUpperCase()} DECK] Playing`)\n          \n          //  CRITICAL: Avvia anche lo streaming quando riprende\n          if ((window as any).resumeStreaming) {\n            console.log(` [STREAMING] Riprendi streaming richiesto da ${side} deck`)\n            ;(window as any).resumeStreaming()\n          }\n        } catch (error: any) {\n          console.error(` Errore play ${side} deck:`, error)\n        }\n      }\n    }\n  }, [leftAudioRef, rightAudioRef, state.leftDeck.isPlaying, state.rightDeck.isPlaying, dispatch])\n\n  //  FIX: Funzione per il ducking dello streaming\n  const setStreamDucking = useCallback((active: boolean) => {\n    console.log(` [STREAMING] Ducking ${active ? 'attivato' : 'disattivato'}`)\n    \n    //  CRITICAL FIX: Aggiorna i volumi PTT dinamicamente\n    if (typeof (window as any).updatePTTVolumesOnly === 'function') {\n      //  CRITICAL FIX: Imposta il livello di ducking dalle impostazioni\n      const duckingPercent = settings?.microphone?.duckingPercent ?? 75\n      const pttDuckingLevel = duckingPercent / 100 // Converte da percentuale a decimale\n      ;(window as any).__pttDuckingLevel__ = pttDuckingLevel\n      \n      //  CRITICAL FIX: Log sicuro per evitare errori\n      if (typeof console !== 'undefined' && console.log) {\n        console.log(` [PTT] Ducking level impostato dalle impostazioni: ${duckingPercent}% (${pttDuckingLevel})`)\n      }\n      \n      //  CRITICAL FIX: Aggiorna i volumi PTT\n      (window as any).updatePTTVolumesOnly(active)\n          } else {\n      console.warn(' [PTT] Funzione updatePTTVolumesOnly non disponibile')\n    }\n  }, [settings?.microphone?.duckingPercent])\n\n  //  FIX: Funzione per impostare il volume master dello streaming\n  const setStreamMasterVolume = useCallback((volume: number) => {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    console.log(` [STREAMING] Volume master streaming impostato: ${Math.round(clampedVolume * 100)}%`)\n    \n    //  CRITICAL FIX: Salva il volume corrente globalmente per il PTT\n    ;(window as any).__currentStreamVolume__ = clampedVolume\n    \n    // I deck mantengono sempre il 100% per lo streaming, indipendentemente dal volume locale\n    if (leftAudioRef.current) leftAudioRef.current.volume = clampedVolume\n    if (rightAudioRef.current) rightAudioRef.current.volume = clampedVolume\n  }, [leftAudioRef.current, rightAudioRef.current])\n\n  //  FIX: Funzione per impostare il volume master generale (controlla il mixer gain)\n  const setMasterVolume = useCallback((volume: number) => {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    console.log(` [MASTER] Volume master generale impostato: ${Math.round(clampedVolume * 100)}%`)\n    \n    //  CRITICAL FIX: Usa la funzione globale per il volume del mixer\n    if (typeof (window as any).audioContextSetMasterVolume === 'function') {\n      ;(window as any).audioContextSetMasterVolume(clampedVolume)\n    }\n  }, [])\n\n  //  CROSSFADER: Funzione per impostare il crossfader (solo per streaming)\n  const setCrossfader = useCallback((value: number) => {\n    const clampedValue = Math.max(0, Math.min(1, value))\n    console.log(` [CROSSFADER] Crossfader impostato: ${Math.round(clampedValue * 100)}% (A=${Math.round((1-clampedValue)*100)}%, B=${Math.round(clampedValue*100)}%)`)\n    \n    // Aggiorna lo stato\n    dispatch({ type: 'SET_CROSSFADER', payload: clampedValue })\n    \n    //  CROSSFADER: Aggiorna il crossfader per lo streaming se disponibile\n    if (typeof window !== 'undefined' && (window as any).updateStreamingCrossfader) {\n      ;(window as any).updateStreamingCrossfader(clampedValue)\n    }\n  }, [])\n\n  //  CRITICAL FIX: Funzione che controlla SOLO il volume del Live Stream nell'interfaccia\n  const setLiveStreamVolume = useCallback((volume: number) => {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    console.log(` [LIVE STREAM] Volume Live Stream impostato: ${Math.round(clampedVolume * 100)}%`)\n    \n    //  CRITICAL FIX: Aggiorna SOLO il volume del Live Stream nell'interfaccia\n    // Questo NON tocca il Master locale, solo il Live Stream!\n    \n    // 1. Emetti evento custom per aggiornare l'interfaccia\n    window.dispatchEvent(new CustomEvent('djconsole:stream-volume-change', {\n      detail: { volume: clampedVolume }\n    }))\n    \n    // 2. Aggiorna lo stato locale per mantenere la sincronizzazione\n    ;(window as any).__currentStreamVolume__ = clampedVolume\n    \n    console.log(` [INTERFACE] Volume Live Stream aggiornato nell'interfaccia: ${Math.round(clampedVolume * 100)}%`)\n  }, [])\n\n  //  CRITICAL FIX: Rendi disponibile setStreamMasterVolume globalmente per il PTT\n  ;(window as any).setStreamMasterVolume = setStreamMasterVolume\n\n  //  CRITICAL FIX: Rendi disponibile setMasterVolume globalmente per il PTT\n  ;(window as any).setMasterVolume = setMasterVolume\n\n  //  CRITICAL FIX: Rendi disponibile setLiveStreamVolume globalmente per il PTT\n  ;(window as any).setLiveStreamVolume = setLiveStreamVolume\n\n  //  CROSSFADER: Funzione per aggiornare il crossfader dinamicamente durante lo streaming\n  ;(window as any).updateStreamingCrossfader = (crossfaderValue: number) => {\n    try {\n      console.log(` [CROSSFADER] Aggiornamento crossfader streaming a ${Math.round(crossfaderValue * 100)}%`)\n      \n      const leftGain = (window as any).leftDeckStreamGain\n      const rightGain = (window as any).rightDeckStreamGain\n      const context = (window as any).currentMixContext\n      \n      if (leftGain && rightGain && context) {\n        // Deck A: Volume = 1.0 - crossfader\n        const leftVolume = 1.0 - crossfaderValue\n        leftGain.gain.setValueAtTime(leftVolume, context.currentTime)\n        \n        // Deck B: Volume = crossfader\n        const rightVolume = crossfaderValue\n        rightGain.gain.setValueAtTime(rightVolume, context.currentTime)\n        \n        console.log(` [CROSSFADER] Streaming aggiornato: A=${Math.round(leftVolume * 100)}%, B=${Math.round(rightVolume * 100)}%`)\n      } else {\n        console.warn(' [CROSSFADER] Gain nodes non disponibili per aggiornamento crossfader')\n      }\n    } catch (error: any) {\n      console.error(' [CROSSFADER] Errore aggiornamento crossfader streaming:', error.message)\n    }\n  }\n\n  //  CRITICAL FIX: Inizializza il volume corrente del LiveStream per il PTT\n  ;(window as any).__currentStreamVolume__ = 1.0 // Default al 100% (come richiesto dall'utente)\n\n  // Aggiunge track al deck specificato\n  const addToDeck = async (track: any, deck: 'left' | 'right') => {\n    console.log(` [DECK] Aggiunta track \"${track.title}\" al deck ${deck}`)\n    \n    try {\n      // Converti DatabaseTrack in AudioTrack\n      const audioTrack: AudioTrack = {\n        id: track.id,\n        title: track.title,\n        artist: track.artist,\n        duration: track.duration,\n        url: '' // Sar impostato dopo aver ottenuto il blob\n      }\n      \n      if (deck === 'left') {\n        dispatch({ type: 'SET_LEFT_DECK_TRACK', payload: audioTrack })\n        // Carica l'audio nel deck sinistro\n        if (leftAudioRef.current) {\n          // Crea URL dal blob\n          const blob = await getBlob(track.blobId)\n          if (blob) {\n            const url = URL.createObjectURL(blob)\n            leftAudioRef.current.src = url\n            leftAudioRef.current.load()\n            console.log(` [DECK] Track caricata nel deck sinistro: ${track.title}`)\n            \n            //  AUTO-RECONNECT: Ricollega automaticamente il deck allo streaming se attivo\n            if (typeof window !== 'undefined' && (window as any).reconnectDeckToStreaming) {\n              try {\n                //  CRITICAL: Aspetta che il deck sia completamente caricato prima del ricollegamento\n                console.log(' [DECK] Aspetto caricamento completo deck A prima del ricollegamento...')\n                await new Promise(resolve => setTimeout(resolve, 500)) // 500ms delay\n                \n                await (window as any).reconnectDeckToStreaming('A')\n                console.log(' [DECK] Deck A ricollegato automaticamente allo streaming')\n              } catch (reconnectError: any) {\n                console.warn(' [DECK] Ricollegamento automatico deck A fallito:', reconnectError.message)\n              }\n            }\n            \n            //  CRITICAL FIX: Forza la ricreazione del mixed stream se lo streaming  attivo\n            if (typeof window !== 'undefined' && (window as any).isCurrentlyStreaming) {\n              try {\n                console.log(' [DECK LEFT] Streaming attivo rilevato - forzo ricreazione mixed stream...')\n                console.log(' [DECK LEFT] isCurrentlyStreaming:', (window as any).isCurrentlyStreaming)\n                \n                //  RICREA COMPLETAMENTE IL MIXED STREAM\n                const newMixedStream = await getMixedStream()\n                console.log(' [DECK LEFT] newMixedStream creato:', !!newMixedStream, newMixedStream?.active, newMixedStream?.getTracks().length)\n                \n                if (newMixedStream) {\n                  //  ATTENDI CHE STREAMINGMANAGER SIA DISPONIBILE\n                  console.log(' [DECK LEFT] Chiamata waitForStreamingManager...')\n                  const streamingManager = await waitForStreamingManager()\n                  console.log(' [DECK LEFT] streamingManager ricevuto:', !!streamingManager)\n                  \n                  if (streamingManager) {\n                    //  AGGIORNA LO STREAMING MANAGER CON IL NUOVO STREAM\n                    console.log(' [DECK LEFT] StreamingManager disponibile, aggiorno stream...')\n                    console.log(' [DECK LEFT] Chiamata updateStream con stream:', !!newMixedStream)\n                    const updated = await streamingManager.updateStream(newMixedStream)\n                    console.log(' [DECK LEFT] updateStream risultato:', updated)\n                    \n                    if (updated) {\n                      console.log(' [DECK] Mixed stream ricreato e aggiornato con successo per deck A')\n                      \n                      // Notifica di successo\n                      if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n                        ;(window as any).addStreamingNotification('success', 'Deck A Connesso', 'Deck A connesso automaticamente allo streaming', 'audio')\n                      }\n                    } else {\n                      console.warn(' [DECK] Aggiornamento streaming fallito per deck A')\n                    }\n                  } else {\n                    console.warn(' [DECK] StreamingManager non disponibile per aggiornamento')\n                  }\n                } else {\n                  console.warn(' [DECK] Nuovo mixed stream non valido')\n                }\n              } catch (streamError: any) {\n                console.error(' [DECK] Errore ricreazione mixed stream per deck A:', streamError.message)\n              }\n            }\n          } else {\n            console.error(` [DECK] Blob non trovato per track: ${track.title}`)\n          }\n        }\n      } else {\n        dispatch({ type: 'SET_RIGHT_DECK_TRACK', payload: audioTrack })\n        // Carica l'audio nel deck destro\n        if (rightAudioRef.current) {\n          // Crea URL dal blob\n          const blob = await getBlob(track.blobId)\n          if (blob) {\n            const url = URL.createObjectURL(blob)\n            rightAudioRef.current.src = url\n            rightAudioRef.current.load()\n            console.log(` [DECK] Track caricata nel deck destro: ${track.title}`)\n            \n            //  AUTO-RECONNECT: Ricollega automaticamente il deck allo streaming se attivo\n            if (typeof window !== 'undefined' && (window as any).reconnectDeckToStreaming) {\n              try {\n                //  CRITICAL: Aspetta che il deck sia completamente caricato prima del ricollegamento\n                console.log(' [DECK] Aspetto caricamento completo deck B prima del ricollegamento...')\n                await new Promise(resolve => setTimeout(resolve, 500)) // 500ms delay\n                \n                await (window as any).reconnectDeckToStreaming('B')\n                console.log(' [DECK] Deck B ricollegato automaticamente allo streaming')\n              } catch (reconnectError: any) {\n                console.warn(' [DECK] Ricollegamento automatico deck B fallito:', reconnectError.message)\n              }\n            }\n            \n            //  CRITICAL FIX: Forza la ricreazione del mixed stream se lo streaming  attivo\n            if (typeof window !== 'undefined' && (window as any).isCurrentlyStreaming) {\n              try {\n                console.log(' [DECK] Streaming attivo rilevato - forzo ricreazione mixed stream...')\n                \n                //  RICREA COMPLETAMENTE IL MIXED STREAM\n                const newMixedStream = await getMixedStream()\n                \n                if (newMixedStream) {\n                  //  ATTENDI CHE STREAMINGMANAGER SIA DISPONIBILE\n                  const streamingManager = await waitForStreamingManager()\n                  \n                  if (streamingManager) {\n                    //  AGGIORNA LO STREAMING MANAGER CON IL NUOVO STREAM\n                    console.log(' [DECK RIGHT] StreamingManager disponibile, aggiorno stream...')\n                    console.log(' [DECK RIGHT] Chiamata updateStream con stream:', !!newMixedStream)\n                    const updated = await streamingManager.updateStream(newMixedStream)\n                    console.log(' [DECK RIGHT] updateStream risultato:', updated)\n                    \n                    if (updated) {\n                      console.log(' [DECK] Mixed stream ricreato e aggiornato con successo per deck B')\n                      \n                      // Notifica di successo\n                      if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n                        ;(window as any).addStreamingNotification('success', 'Deck B Connesso', 'Deck B connesso automaticamente allo streaming', 'audio')\n                      }\n                    } else {\n                      console.warn(' [DECK] Aggiornamento streaming fallito per deck B')\n                    }\n                  } else {\n                    console.warn(' [DECK] StreamingManager non disponibile per aggiornamento')\n                  }\n                } else {\n                  console.warn(' [DECK] Nuovo mixed stream non valido')\n                }\n              } catch (streamError: any) {\n                console.error(' [DECK] Errore ricreazione mixed stream per deck B:', streamError.message)\n              }\n            }\n        } else {\n            console.error(` [DECK] Blob non trovato per track: ${track.title}`)\n          }\n        }\n      }\n    } catch (error: any) {\n      console.error(` [DECK] Errore caricamento track nel deck ${deck}:`, error)\n    }\n  }\n\n  // Incrementa il play count di una track\n  const incrementPlayCount = async (trackId: string) => {\n    try {\n      await localDatabase.waitForInitialization()\n      // Incrementa il play count direttamente nella traccia\n      const track = await localDatabase.getTrack(trackId)\n      if (track) {\n        const newPlayCount = (track.playCount || 0) + 1\n        await localDatabase.updateTrack(trackId, { playCount: newPlayCount })\n        console.log(` Play count incrementato per track ${trackId}: ${newPlayCount}`)\n      }\n    } catch (error: any) {\n      console.error(` Errore incremento play count per track ${trackId}:`, error)\n    }\n  }\n\n  // ===== INIZIALIZZAZIONE DATABASE =====\n  useEffect(() => {\n    if (window.indexedDB) {\n      const request = window.indexedDB.open('djconsole', 1)\n      \n      request.onerror = () => {\n        console.error(' Error opening IndexedDB for audio persistence')\n      }\n      \n      request.onsuccess = () => {\n        console.log(' IndexedDB opened successfully for audio persistence')\n      }\n      \n      request.onupgradeneeded = (event) => {\n        const db = (event.target as IDBOpenDBRequest).result\n        \n        // Crea la tabella per lo stato audio\n        if (!db.objectStoreNames.contains('audioState')) {\n          const audioStore = db.createObjectStore('audioState', { keyPath: 'id' })\n          audioStore.createIndex('timestamp', 'timestamp', { unique: false })\n          console.log(' Audio state store created in IndexedDB')\n        }\n      }\n    }\n  }, [])\n\n  //  CONFIGURAZIONE MICROFONO CON ISOLAMENTO AUDIO SISTEMA\n  const createMicrophoneStream = async (): Promise<MediaStream | null> => {\n    try {\n      //  CLEANUP: Pulisci stream microfono precedente se esiste\n      if (micStreamRef.current) {\n        console.log(' [MICROPHONE] Pulizia stream microfono precedente...')\n        try {\n          micStreamRef.current.getTracks().forEach(track => {\n            track.stop()\n            console.log(` [MICROPHONE] Track microfono fermato: ${track.label}`)\n          })\n        } catch (error) {\n          console.warn(' [MICROPHONE] Errore fermando track precedenti:', error)\n        }\n        micStreamRef.current = null\n      }\n      \n      //  CORREZIONE: Usa le impostazioni del microfono dalle settings\n      const settings = await localDatabase.getSettings();\n      const micSettings = settings?.microphone || {\n        inputDevice: 'default',\n        sampleRate: 48000,\n        echoCancellation: true,\n        noiseSuppression: true,\n        autoGainControl: false\n      };\n      \n      console.log(' [MIC] Usando impostazioni microfono dalle settings:', micSettings);\n      \n      //  CORREZIONE: Seleziona dispositivo microfono specifico se configurato\n      let deviceId = undefined;\n      if (micSettings.inputDevice && micSettings.inputDevice !== 'default') {\n        try {\n          const devices = await navigator.mediaDevices.enumerateDevices();\n          const audioInputs = devices.filter(device => device.kind === 'audioinput');\n          console.log(' [MIC] Dispositivi audio input disponibili:', audioInputs);\n          \n          const selectedDevice = audioInputs.find(device => \n            device.label === micSettings.inputDevice || \n            device.deviceId === micSettings.inputDevice\n          );\n          \n          if (selectedDevice) {\n            deviceId = selectedDevice.deviceId;\n            console.log(' [MIC] Usando dispositivo microfono specifico:', selectedDevice.label, selectedDevice.deviceId);\n          } else {\n            console.warn(' [MIC] Dispositivo microfono non trovato, uso default');\n          }\n        } catch (error) {\n          console.warn(' [MIC] Errore enumerazione dispositivi:', error);\n        }\n      }\n      \n      //  SOLUZIONE PRATICA: Configurazione microfono per minimizzare cattura audio sistema\n      const constraints = {\n        audio: {\n          //  PARAMETRI BASE per isolamento\n          echoCancellation: micSettings.echoCancellation,        // Usa impostazione settings\n          noiseSuppression: micSettings.noiseSuppression,        // Usa impostazione settings\n          autoGainControl: micSettings.autoGainControl,          // Usa impostazione settings\n          latency: 0,                    // Latenza minima\n          sampleRate: micSettings.sampleRate,             // Usa impostazione settings\n          channelCount: 1,               // Mono per ridurre latenza\n          sampleSize: 16,                // 16-bit per compatibilit\n          ...(deviceId && { deviceId: deviceId }),  //  CORREZIONE: Usa dispositivo specifico\n          \n          //  PARAMETRI GOOGLE per isolamento avanzato\n          googEchoCancellation: true,        // Cancellazione eco Google\n          googNoiseSuppression: true,        // Soppressione rumore Google\n          googAutoGainControl: false,        // Controllo guadagno manuale\n          googHighpassFilter: true,          // Filtro passa-alto\n          googTypingNoiseDetection: true,    // Rilevamento rumore tastiera\n          googAudioMirroring: false,         // Disabilita mirroring\n          \n          //  PARAMETRI AGGIUNTIVI per isolamento massimo\n          googDAEchoCancellation: true,      // Cancellazione eco digitale avanzata\n          googNoiseReduction: true,          // Riduzione rumore avanzata\n          googBeamforming: true,             // Beamforming per direzionalit\n          \n          //  PARAMETRI SPECIFICI per prevenire cattura audio sistema\n          suppressLocalAudioPlayback: true,  // Esclude audio locale (se supportato)\n          googEchoCancellation2: true,       // Cancellazione eco v2\n          googNoiseSuppression2: true,       // Soppressione rumore v2\n          googHighpassFilter2: true,         // Filtro passa-alto v2\n          googTypingNoiseDetection2: true,   // Rilevamento rumore tastiera v2\n          googAudioMirroring2: false         // Disabilita mirroring v2\n        }\n      };\n\n      console.log(' [MIC] Configurazione anti-eco + esclusione audio live applicata:', constraints);\n      \n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      \n      //  NUOVO: Verifica che l'audio live non venga catturato\n      console.log(' [MIC] Stream microfono creato con esclusione audio live');\n      console.log(' [MIC] Audio tracks:', stream.getAudioTracks().map(track => ({\n        id: track.id,\n        label: track.label,\n        enabled: track.enabled,\n        muted: track.muted,\n        settings: track.getSettings()\n      })));\n      \n      //  TRACKING: Aggiungi stream al tracking\n      if ((window as any).addAudioStreamToTracking) {\n        ;(window as any).addAudioStreamToTracking(stream);\n      }\n      \n      //  CLEANUP: Chiudi solo AudioContext temporanei del microfono, NON quello principale\n      if (typeof window !== 'undefined' && window.AudioContext) {\n        try {\n          // Cerca AudioContext attivi globalmente\n          const audioContexts = (window as any).__audioContexts || []\n          audioContexts.forEach((ctx: AudioContext, index: number) => {\n            //  CORREZIONE: Non chiudere l'AudioContext principale (indice 0)\n            if (ctx && ctx.state !== 'closed' && index > 0) {\n              ctx.close()\n              console.log(` [MICROPHONE] AudioContext temporaneo ${index} chiuso`)\n            } else if (index === 0) {\n              console.log(' [MICROPHONE] AudioContext principale mantenuto attivo')\n            }\n          })\n        } catch (error) {\n          console.warn(' [MICROPHONE] Errore chiudendo AudioContext temporanei:', error)\n        }\n      }\n      \n      //  CORREZIONE: Assicurati che l'AudioContext principale sia disponibile\n      let audioCtx = ensureMainAudioContext()\n      \n      if (!audioCtx) {\n        throw new Error('Impossibile creare AudioContext per microfono')\n      }\n      \n      console.log(' [MIC] AudioContext principale disponibile per microfono')\n      const source = audioCtx.createMediaStreamSource(stream);\n      const destination = audioCtx.createMediaStreamDestination();\n      \n      //  FILTRO PER RIDURRE LATENZA\n      const lowpassFilter = audioCtx.createBiquadFilter();\n      lowpassFilter.type = 'lowpass';\n      lowpassFilter.frequency.value = 8000; // Taglia frequenze alte per ridurre latenza\n      lowpassFilter.Q.value = 0.5;          // Q basso per transizione graduale\n      \n      //  FILTRO PER RIDURRE RUMORE\n      const noiseFilter = audioCtx.createBiquadFilter();\n      noiseFilter.type = 'highpass';\n      noiseFilter.frequency.value = 80;     // Taglia frequenze basse (rumore)\n      noiseFilter.Q.value = 1.0;\n      \n      //  GAIN PRINCIPALE MICROFONO\n      const microphoneGain = audioCtx.createGain();\n      microphoneGain.gain.setValueAtTime(1, audioCtx.currentTime);\n      \n      //  REVERBERO: Crea nodo reverbero\n      const reverbNode = audioCtx.createConvolver();\n      const reverbGain = audioCtx.createGain();\n      const dryGain = audioCtx.createGain();\n      \n      // Genera impulso di reverbero\n      const reverbLength = audioCtx.sampleRate * 2; // 2 secondi\n      const reverbBuffer = audioCtx.createBuffer(2, reverbLength, audioCtx.sampleRate);\n      const leftChannel = reverbBuffer.getChannelData(0);\n      const rightChannel = reverbBuffer.getChannelData(1);\n      \n      for (let i = 0; i < reverbLength; i++) {\n        const time = i / audioCtx.sampleRate;\n        const decay = Math.exp(-time * 2) * (Math.random() * 2 - 1) * 0.3;\n        leftChannel[i] = decay;\n        rightChannel[i] = decay * 0.8;\n      }\n      \n      reverbNode.buffer = reverbBuffer;\n      reverbGain.gain.setValueAtTime(0, audioCtx.currentTime); // Inizia disattivato\n      dryGain.gain.setValueAtTime(1, audioCtx.currentTime);\n      \n      //  CONNESSIONE CON REVERBERO\n      source.connect(lowpassFilter);\n      lowpassFilter.connect(noiseFilter);\n      noiseFilter.connect(microphoneGain);\n      \n      // Split del segnale: dry e wet\n      microphoneGain.connect(dryGain);\n      microphoneGain.connect(reverbNode);\n      reverbNode.connect(reverbGain);\n      \n      // Mix dry e wet\n      dryGain.connect(destination);\n      reverbGain.connect(destination);\n      \n      //  ESPONI controlli microfono globalmente\n      ;(window as any).microphoneGain = microphoneGain;\n      ;(window as any).microphoneReverbGain = reverbGain;\n      ;(window as any).microphoneDryGain = dryGain;\n      \n      //  ESPONI anche i nodi principali per gli effetti audio\n      ;(window as any).destinationStream = destination;\n      \n      console.log(' [MIC] Filtri anti-eco e reverbero applicati con successo');\n      \n      return destination.stream;\n      \n    } catch (error) {\n      console.error(' [MIC] Errore creazione stream microfono anti-eco:', error);\n      return null;\n    }\n  };\n\n\n  //  NUOVO: Sistema di controllo microfono intelligente\n  const createSmartMicrophoneControl = () => {\n    let isMicrophoneActive = false;\n    let microphoneStream: MediaStream | null = null;\n    \n    const enableMicrophone = async (): Promise<boolean> => {\n      try {\n        if (isMicrophoneActive && microphoneStream) {\n          console.log(' [SMART-MIC] Microfono gi attivo');\n          return true;\n        }\n        \n        console.log(' [SMART-MIC] Attivazione microfono...');\n        \n        // Crea stream microfono con configurazione isolata e impostazioni corrette\n        console.log(' [SMART-MIC] Creazione stream microfono con impostazioni settings...');\n        microphoneStream = await createMicrophoneStream();\n        if (!microphoneStream) {\n          throw new Error('Impossibile creare stream microfono');\n        }\n        \n        console.log(' [SMART-MIC] Stream microfono creato con successo:', {\n          id: microphoneStream.id,\n          active: microphoneStream.active,\n          tracks: microphoneStream.getTracks().length\n        });\n        \n        //  TRACKING: Aggiungi al tracking globale\n        if ((window as any).addAudioStreamToTracking) {\n          ;(window as any).addAudioStreamToTracking(microphoneStream);\n        }\n        \n        isMicrophoneActive = true;\n        console.log(' [SMART-MIC] Microfono attivato con successo');\n        return true;\n        \n      } catch (error) {\n        console.error(' [SMART-MIC] Errore attivazione microfono:', error);\n        return false;\n      }\n    };\n    \n    const disableMicrophone = (): void => {\n      try {\n        console.log(' [SMART-MIC] Disattivazione microfono...');\n        \n        if (microphoneStream) {\n          //  TRACKING: Rimuovi dal tracking globale\n          if ((window as any).removeAudioStreamFromTracking) {\n            ;(window as any).removeAudioStreamFromTracking(microphoneStream);\n          }\n          \n          microphoneStream.getTracks().forEach(track => {\n            track.stop();\n            track.enabled = false;\n          });\n          microphoneStream = null;\n        }\n        \n        isMicrophoneActive = false;\n        console.log(' [SMART-MIC] Microfono disattivato');\n        \n      } catch (error) {\n        console.error(' [SMART-MIC] Errore disattivazione microfono:', error);\n      }\n    };\n    \n    const getMicrophoneStream = (): MediaStream | null => {\n      return microphoneStream;\n    };\n    \n    const isActive = (): boolean => {\n      return isMicrophoneActive;\n    };\n    \n    // Esponi funzioni globalmente\n    (window as any).smartMicrophone = {\n      enable: enableMicrophone,\n      disable: disableMicrophone,\n      getStream: getMicrophoneStream,\n      isActive: isActive\n    };\n    \n    return {\n      enable: enableMicrophone,\n      disable: disableMicrophone,\n      getStream: getMicrophoneStream,\n      isActive: isActive\n    };\n  };\n\n  //  INIZIALIZZA: Controllo intelligente microfono (dopo la definizione)\n  const smartMicrophoneControl = createSmartMicrophoneControl();\n  ;(window as any).smartMicrophoneControl = smartMicrophoneControl;\n\n  return (\n    <AudioContext.Provider value={{\n      // Stato\n      state,\n      \n      // Refs\n      leftAudioRef,\n      rightAudioRef,\n      micStreamRef,\n      soundEffectsManagerRef,\n      microphoneEffectsManagerRef,\n      \n      // Funzioni\n      getMixedStream,\n      createMicrophoneStream,\n      createSmartMicrophoneControl,\n      getAvailableAudioOutputDevices,\n      ensureMainAudioContext,\n      playLeftTrack,\n      playRightTrack,\n      pauseLeftTrack,\n      resumeLeftTrack,\n      stopLeftTrack,\n      pauseRightTrack,\n      resumeRightTrack,\n      stopRightTrack,\n      handlePlayPauseDefinitive,\n      setLeftLocalVolume,\n      setRightLocalVolume,\n      seekLeftTo,\n      seekRightTo,\n      setStreamDucking,\n      setStreamMasterVolume,\n      setMasterVolume,\n      setCrossfader,\n      addToDeck,\n      incrementPlayCount,\n      \n      // Dispatch per modifiche di stato\n      dispatch\n    }}>\n      {/* Elementi audio globali */}\n      <audio\n        ref={leftAudioRef}\n        preload=\"metadata\"\n        data-deck=\"A\"\n        className=\"deck-audio\"\n        //  FIX: Usa la scheda audio configurata nelle impostazioni\n        onLoadedMetadata={() => {\n          if (leftAudioRef.current) {\n            dispatch({ type: 'SET_LEFT_DECK_DURATION', payload: leftAudioRef.current.duration })\n          }\n        }}\n        onTimeUpdate={() => {\n          if (leftAudioRef.current) {\n            const currentTime = leftAudioRef.current.currentTime\n            const duration = leftAudioRef.current.duration\n            \n            //  FIX: Evita di mostrare tempo maggiore della durata\n            if (currentTime <= duration && currentTime >= 0) {\n              dispatch({ type: 'SET_LEFT_DECK_TIME', payload: currentTime })\n              //  DEBUG: Verifica che il tempo si aggiorni\n              console.log(` [LEFT DECK] Time update: ${currentTime.toFixed(2)}s / ${duration.toFixed(2)}s`)\n            }\n          }\n        }}\n        onPlay={() => dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: true })}\n        onPause={() => dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: false })}\n        onEnded={() => {\n          console.log(' [LEFT DECK] onEnded event triggered!')\n          dispatch({ type: 'SET_LEFT_DECK_PLAYING', payload: false })\n          //  FIX: Resetta il tempo a 0 quando finisce\n          dispatch({ type: 'SET_LEFT_DECK_TIME', payload: 0 })\n          \n          //  AUTO-ADVANCE: Emetti evento per auto-avanzamento\n          const trackEndedEvent = new CustomEvent('djconsole:track-ended', {\n            detail: { deckId: 'A' }\n          })\n          window.dispatchEvent(trackEndedEvent)\n          console.log(' [LEFT DECK] Track ended - auto-advance event emitted')\n        }}\n        onVolumeChange={() => {\n          if (leftAudioRef.current) {\n            dispatch({ type: 'SET_LEFT_DECK_LOCAL_VOLUME', payload: leftAudioRef.current.volume })\n          }\n        }}\n      />\n      \n      <audio\n        ref={rightAudioRef}\n        preload=\"metadata\"\n        data-deck=\"B\"\n        className=\"deck-audio\"\n        onLoadedMetadata={() => {\n          if (rightAudioRef.current) {\n            dispatch({ type: 'SET_RIGHT_DECK_DURATION', payload: rightAudioRef.current.duration })\n          }\n        }}\n        onTimeUpdate={() => {\n          if (rightAudioRef.current) {\n            const currentTime = rightAudioRef.current.currentTime\n            const duration = rightAudioRef.current.duration\n            \n            //  FIX: Evita di mostrare tempo maggiore della durata\n            if (currentTime <= duration && currentTime >= 0) {\n              dispatch({ type: 'SET_RIGHT_DECK_TIME', payload: currentTime })\n              //  DEBUG: Verifica che il tempo si aggiorni\n              console.log(` [RIGHT DECK] Time update: ${currentTime.toFixed(2)}s / ${duration.toFixed(2)}s`)\n            }\n          }\n        }}\n        onPlay={() => dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: true })}\n        onPause={() => dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: false })}\n        onEnded={() => {\n          console.log(' [RIGHT DECK] onEnded event triggered!')\n          dispatch({ type: 'SET_RIGHT_DECK_PLAYING', payload: false })\n          //  FIX: Resetta il tempo a 0 quando finisce\n          dispatch({ type: 'SET_RIGHT_DECK_TIME', payload: 0 })\n          \n          //  AUTO-ADVANCE: Emetti evento per auto-avanzamento\n          const trackEndedEvent = new CustomEvent('djconsole:track-ended', {\n            detail: { deckId: 'B' }\n          })\n          window.dispatchEvent(trackEndedEvent)\n          console.log(' [RIGHT DECK] Track ended - auto-advance event emitted')\n        }}\n        onVolumeChange={() => {\n          if (rightAudioRef.current) {\n            dispatch({ type: 'SET_RIGHT_DECK_LOCAL_VOLUME', payload: rightAudioRef.current.volume })\n          }\n        }}\n      />\n      \n      {children}\n    </AudioContext.Provider>\n  )\n}\n\n// ===== HOOKS =====\nexport function useAudio() {\n  const context = useContext(AudioContext)\n  if (context === undefined) {\n    throw new Error('useAudio must be used within an AudioProvider')\n  }\n  return context\n}\n\n\n\n","import React, { createContext, useContext, useReducer, useEffect, useRef } from 'react'\nimport { localDatabase, DatabaseTrack } from '../database/LocalDatabase'\n\ninterface Track extends DatabaseTrack {}\ninterface Playlist {\n  id: string\n  name: string\n  description?: string\n  tracks: Track[]\n  isAutoPlaylist: boolean\n  autoRules?: {\n    genre?: string[]\n    bpmRange?: { min: number; max: number }\n    energy?: 'low' | 'medium' | 'high'\n    maxDuration?: number\n  }\n  createdAt: Date\n  updatedAt: Date\n  isPublic: boolean\n  totalDuration: number\n}\n\ninterface Library {\n  tracks: Track[]\n  playlists: Playlist[]\n  genres: string[]\n  artists: string[]\n  albums: string[]\n}\n\ninterface PlaylistState {\n  library: Library\n  currentPlaylist: Playlist | null\n  currentTrack: Track | null\n  searchQuery: string\n  filterGenre: string\n  filterArtist: string\n  sortBy: 'title' | 'artist' | 'duration' | 'addedAt' | 'playCount' | 'rating'\n  sortOrder: 'asc' | 'desc'\n  isLoading: boolean\n  error: string | null\n}\n\ntype PlaylistAction =\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_ERROR'; payload: string | null }\n  | { type: 'SET_SEARCH_QUERY'; payload: string }\n  | { type: 'SET_FILTER_GENRE'; payload: string }\n  | { type: 'SET_FILTER_ARTIST'; payload: string }\n  | { type: 'SET_SORT_BY'; payload: PlaylistState['sortBy'] }\n  | { type: 'SET_SORT_ORDER'; payload: 'asc' | 'desc' }\n  | { type: 'SET_CURRENT_PLAYLIST'; payload: Playlist | null }\n  | { type: 'SET_CURRENT_TRACK'; payload: Track | null }\n  | { type: 'ADD_TRACK'; payload: Track }\n  | { type: 'REMOVE_TRACK'; payload: string }\n  | { type: 'UPDATE_TRACK'; payload: Track }\n  | { type: 'CREATE_PLAYLIST'; payload: Playlist }\n  | { type: 'DELETE_PLAYLIST'; payload: string }\n  | { type: 'UPDATE_PLAYLIST'; payload: Playlist }\n  | { type: 'ADD_TRACK_TO_PLAYLIST'; payload: { playlistId: string; track: Track } }\n  | { type: 'REMOVE_TRACK_FROM_PLAYLIST'; payload: { playlistId: string; trackId: string } }\n  | { type: 'REORDER_PLAYLIST_TRACKS'; payload: { playlistId: string; trackIds: string[] } }\n  | { type: 'LOAD_LIBRARY'; payload: Library }\n  | { type: 'INCREMENT_PLAY_COUNT'; payload: string }\n\nconst initialState: PlaylistState = {\n  library: {\n    tracks: [],\n    playlists: [],\n    genres: [],\n    artists: [],\n    albums: [],\n  },\n  currentPlaylist: null,\n  currentTrack: null,\n  searchQuery: '',\n  filterGenre: '',\n  filterArtist: '',\n  sortBy: 'title',\n  sortOrder: 'asc',\n  isLoading: false,\n  error: null,\n}\n\nfunction playlistReducer(state: PlaylistState, action: PlaylistAction): PlaylistState {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, isLoading: action.payload }\n    case 'SET_ERROR':\n      return { ...state, error: action.payload }\n    case 'SET_SEARCH_QUERY':\n      return { ...state, searchQuery: action.payload }\n    case 'SET_FILTER_GENRE':\n      return { ...state, filterGenre: action.payload }\n    case 'SET_FILTER_ARTIST':\n      return { ...state, filterArtist: action.payload }\n    case 'SET_SORT_BY':\n      return { ...state, sortBy: action.payload }\n    case 'SET_SORT_ORDER':\n      return { ...state, sortOrder: action.payload }\n    case 'SET_CURRENT_PLAYLIST':\n      return { ...state, currentPlaylist: action.payload }\n    case 'SET_CURRENT_TRACK':\n      return { ...state, currentTrack: action.payload }\n    case 'ADD_TRACK':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          tracks: [...state.library.tracks, action.payload],\n          artists: state.library.artists.includes(action.payload.artist)\n            ? state.library.artists\n            : [...state.library.artists, action.payload.artist],\n          genres: action.payload.genre && !state.library.genres.includes(action.payload.genre)\n            ? [...state.library.genres, action.payload.genre]\n            : state.library.genres,\n          albums: action.payload.album && !state.library.albums.includes(action.payload.album)\n            ? [...state.library.albums, action.payload.album]\n            : state.library.albums,\n        },\n      }\n    case 'REMOVE_TRACK':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          tracks: state.library.tracks.filter(track => track.id !== action.payload),\n          playlists: state.library.playlists.map(playlist => ({\n            ...playlist,\n            tracks: playlist.tracks.filter(track => track.id !== action.payload),\n          })),\n        },\n      }\n    case 'UPDATE_TRACK':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          tracks: state.library.tracks.map(track =>\n            track.id === action.payload.id ? action.payload : track\n          ),\n        },\n      }\n    case 'CREATE_PLAYLIST':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          playlists: [...state.library.playlists, action.payload],\n        },\n      }\n    case 'DELETE_PLAYLIST':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          playlists: state.library.playlists.filter(playlist => playlist.id !== action.payload),\n        },\n        currentPlaylist: state.currentPlaylist?.id === action.payload ? null : state.currentPlaylist,\n      }\n    case 'UPDATE_PLAYLIST':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          playlists: state.library.playlists.map(playlist =>\n            playlist.id === action.payload.id ? action.payload : playlist\n          ),\n        },\n        currentPlaylist: state.currentPlaylist?.id === action.payload.id\n          ? action.payload\n          : state.currentPlaylist,\n      }\n    case 'ADD_TRACK_TO_PLAYLIST':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          playlists: state.library.playlists.map(playlist =>\n            playlist.id === action.payload.playlistId\n              ? {\n                  ...playlist,\n                  tracks: [...playlist.tracks, action.payload.track],\n                  updatedAt: new Date(),\n                }\n              : playlist\n          ),\n        },\n      }\n    case 'REMOVE_TRACK_FROM_PLAYLIST':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          playlists: state.library.playlists.map(playlist =>\n            playlist.id === action.payload.playlistId\n              ? {\n                  ...playlist,\n                  tracks: playlist.tracks.filter(track => track.id !== action.payload.trackId),\n                  updatedAt: new Date(),\n                }\n              : playlist\n          ),\n        },\n      }\n    case 'REORDER_PLAYLIST_TRACKS':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          playlists: state.library.playlists.map(playlist =>\n            playlist.id === action.payload.playlistId\n              ? {\n                  ...playlist,\n                  tracks: action.payload.trackIds.map(id =>\n                    playlist.tracks.find(track => track.id === id)!\n                  ),\n                  updatedAt: new Date(),\n                }\n              : playlist\n          ),\n        },\n      }\n    case 'LOAD_LIBRARY':\n      return {\n        ...state,\n        library: action.payload,\n      }\n    case 'INCREMENT_PLAY_COUNT':\n      return {\n        ...state,\n        library: {\n          ...state.library,\n          tracks: state.library.tracks.map(track =>\n            track.id === action.payload\n              ? { ...track, playCount: track.playCount + 1 }\n              : track\n          ),\n        },\n      }\n    default:\n      return state\n  }\n}\n\ninterface PlaylistContextType {\n  state: PlaylistState\n  dispatch: React.Dispatch<PlaylistAction>\n  getFilteredTracks: () => Track[]\n  getFilteredPlaylists: () => Playlist[]\n  createPlaylist: (name: string, description?: string) => void\n  deletePlaylist: (id: string) => void\n  updatePlaylist: (playlist: Playlist) => void\n  reorderPlaylist: (playlistId: string, trackIds: string[]) => void\n  addTrackToPlaylist: (playlistId: string, track: Track) => void\n  removeTrackFromPlaylist: (playlistId: string, trackId: string) => void\n  searchTracks: (query: string) => Track[]\n  getTracksByGenre: (genre: string) => Track[]\n  getTracksByArtist: (artist: string) => Track[]\n  getPlaylistById: (id: string) => Playlist | undefined\n  getTrackById: (id: string) => Track | undefined\n}\n\nconst PlaylistContext = createContext<PlaylistContextType | undefined>(undefined)\n\nexport function PlaylistProvider({ children }: { children: React.ReactNode }) {\n  // Debug: Monitor re-render del context\n  const renderCount = useRef(0)\n  const lastRenderTime = useRef(Date.now())\n  \n  useEffect(() => {\n    renderCount.current++\n    const now = Date.now()\n    const timeSinceLastRender = now - lastRenderTime.current\n    lastRenderTime.current = now\n    \n    // Log solo ogni 10 re-render per ridurre spam nei log\n    if (renderCount.current % 10 === 0) {\n      console.log(` [PLAYLIST_CONTEXT] Re-render #${renderCount.current} - Time since last: ${timeSinceLastRender}ms`)\n    }\n  })\n\n  const [state, dispatch] = useReducer(playlistReducer, initialState)\n\n  // Load data from database on mount\n  useEffect(() => {\n    const loadInitialData = async () => {\n      try {\n        dispatch({ type: 'SET_LOADING', payload: true })\n        \n        // Wait for database to initialize\n        await localDatabase.waitForInitialization()\n        \n        // Load tracks and playlists from database\n        const tracks = await localDatabase.getAllTracks()\n        const playlists = await localDatabase.getAllPlaylists()\n        \n        // Convert database playlists to interface format\n        const interfacePlaylists: Playlist[] = await Promise.all(\n          playlists.map(async (dbPlaylist) => {\n            const playlistTracks = await Promise.all(\n              dbPlaylist.tracks.map(trackId => \n                localDatabase.getTrack(trackId)\n              )\n            )\n            \n            const validTracks = playlistTracks.filter(track => track !== null) as Track[]\n            const totalDuration = validTracks.reduce((sum, track) => sum + track.duration, 0)\n            \n            return {\n              ...dbPlaylist,\n              tracks: validTracks,\n              isPublic: true,\n              totalDuration\n            }\n          })\n        )\n        \n        // Extract unique values for filters\n        const genres = [...new Set(tracks.map(track => track.genre).filter(Boolean))] as string[]\n        const artists = [...new Set(tracks.map(track => track.artist).filter(Boolean))] as string[]\n        const albums = [...new Set(tracks.map(track => track.album).filter(Boolean))] as string[]\n        \n        const library: Library = {\n          tracks,\n          playlists: interfacePlaylists,\n          genres,\n          artists,\n          albums\n        }\n        \n        dispatch({ type: 'LOAD_LIBRARY', payload: library })\n      } catch (error) {\n        console.error('Failed to load library:', error)\n        dispatch({ type: 'SET_ERROR', payload: 'Failed to load library' })\n      } finally {\n        dispatch({ type: 'SET_LOADING', payload: false })\n      }\n    }\n    \n    loadInitialData()\n\n    // Ricarica i dati quando la pagina torna in focus (per sincronizzazione)\n    const handleFocus = async () => {\n      console.log(' [PLAYLIST_CONTEXT] Page focused - reloading data for sync')\n      try {\n        // Ricarica solo le playlist per sincronizzazione\n        const playlists = await localDatabase.getAllPlaylists()\n        \n        const interfacePlaylists: Playlist[] = await Promise.all(\n          playlists.map(async (dbPlaylist) => {\n            const playlistTracks = await Promise.all(\n              dbPlaylist.tracks.map(trackId => \n                localDatabase.getTrack(trackId)\n              )\n            )\n            \n            const validTracks = playlistTracks.filter(track => track !== null) as Track[]\n            const totalDuration = validTracks.reduce((sum, track) => sum + track.duration, 0)\n            \n            return {\n              ...dbPlaylist,\n              tracks: validTracks,\n              isPublic: true,\n              totalDuration\n            }\n          })\n        )\n        \n        dispatch({\n          type: 'LOAD_LIBRARY',\n          payload: {\n            ...state.library,\n            playlists: interfacePlaylists\n          }\n        })\n        \n        console.log(' [PLAYLIST_CONTEXT] Data reloaded on focus:', { \n          playlists: interfacePlaylists.length \n        })\n        \n      } catch (error) {\n        console.error(' [PLAYLIST_CONTEXT] Error reloading data on focus:', error)\n      }\n    }\n\n    window.addEventListener('focus', handleFocus)\n\n    // Listen for database updates\n    const handleDbUpdate = async (event: Event) => {\n      // Evita reload completo se  un aggiornamento minore di playlist\n      const customEvent = event as CustomEvent\n      const detail = customEvent.detail\n      \n      // Se l'aggiornamento riguarda solo le playlist e non i tracks, evita reload completo\n      if (detail?.kind === 'playlists') {\n        console.log(' [PLAYLIST] Playlist updated, skipping full reload to avoid re-render loop')\n        return\n      }\n      \n      console.log(' [PLAYLIST] Database updated, refreshing library...', detail)\n      await loadInitialData()\n    }\n\n    // NUOVO: Listener per aggiornamenti playlist dalla Library (senza loop)\n    const handleLibraryPlaylistUpdate = async (event: CustomEvent) => {\n      const { playlistId, updatedTracks, updatedPlaylists } = event.detail\n      console.log(' [PLAYLIST_CONTEXT] Library playlist updated - syncing:', { playlistId, trackCount: updatedTracks?.length || 0 })\n      \n      try {\n        // Se abbiamo le playlist complete, aggiorna direttamente\n        if (updatedPlaylists && Array.isArray(updatedPlaylists)) {\n          const interfacePlaylists: Playlist[] = await Promise.all(\n            updatedPlaylists.map(async (dbPlaylist: any) => {\n              // Se abbiamo tracce complete, usale direttamente\n              if (dbPlaylist.tracks && Array.isArray(dbPlaylist.tracks) && dbPlaylist.tracks.length > 0 && dbPlaylist.tracks[0].title) {\n                // Le tracce sono gi complete, usale direttamente\n                const validTracks = dbPlaylist.tracks.filter(track => track && track.title) as Track[]\n                const totalDuration = validTracks.reduce((sum, track) => sum + track.duration, 0)\n                \n                return {\n                  ...dbPlaylist,\n                  tracks: validTracks,\n                  isPublic: true,\n                  totalDuration\n                }\n              } else {\n                // Le tracce sono solo ID, ricostruiscile dal database\n                const playlistTracks = await Promise.all(\n                  dbPlaylist.tracks.map((trackId: string) => \n                    localDatabase.getTrack(trackId)\n                  )\n                )\n                \n                const validTracks = playlistTracks.filter(track => track !== null) as Track[]\n                const totalDuration = validTracks.reduce((sum, track) => sum + track.duration, 0)\n                \n                return {\n                  ...dbPlaylist,\n                  tracks: validTracks,\n                  isPublic: true,\n                  totalDuration\n                }\n              }\n            })\n          )\n          \n          // Aggiorna solo le playlist senza ricaricare tutto\n          dispatch({ \n            type: 'LOAD_LIBRARY', \n            payload: { \n              ...state.library, \n              playlists: interfacePlaylists \n            } \n          })\n          \n          console.log(' [PLAYLIST_CONTEXT] Playlists synced from library')\n        }\n      } catch (error) {\n        console.error(' [PLAYLIST_CONTEXT] Error syncing playlists from library:', error)\n        // Fallback: ricarica tutto\n        await loadInitialData()\n      }\n    }\n\n    // NUOVO: Listener per forzare refresh delle playlist\n    const handleForcePlaylistRefresh = async (event: CustomEvent) => {\n      const { updatedPlaylists } = event.detail\n      console.log(' [PLAYLIST_CONTEXT] Force playlist refresh requested:', { count: updatedPlaylists?.length })\n      \n      if (updatedPlaylists) {\n        const interfacePlaylists: Playlist[] = await Promise.all(\n          updatedPlaylists.map(async (dbPlaylist: any) => {\n            const playlistTracks = await Promise.all(\n              dbPlaylist.tracks.map((trackId: string) => \n                localDatabase.getTrack(trackId)\n              )\n            )\n            \n            const validTracks = playlistTracks.filter(track => track !== null) as Track[]\n            const totalDuration = validTracks.reduce((sum, track) => sum + track.duration, 0)\n            \n            return {\n              ...dbPlaylist,\n              tracks: validTracks,\n              isPublic: true,\n              totalDuration\n            }\n          })\n        )\n        \n        // Aggiorna solo le playlist\n        dispatch({ \n          type: 'LOAD_LIBRARY', \n          payload: { \n            ...state.library, \n            playlists: interfacePlaylists \n          } \n        })\n        \n        console.log(' [PLAYLIST_CONTEXT] Playlists force refreshed')\n      }\n    }\n\n    window.addEventListener('djconsole:db-updated', handleDbUpdate)\n    window.addEventListener('djconsole:library-playlist-updated', handleLibraryPlaylistUpdate as unknown as EventListener)\n    window.addEventListener('djconsole:force-playlist-refresh', handleForcePlaylistRefresh as unknown as EventListener)\n\n    return () => {\n      window.removeEventListener('djconsole:db-updated', handleDbUpdate)\n      window.removeEventListener('djconsole:library-playlist-updated', handleLibraryPlaylistUpdate as unknown as EventListener)\n      window.removeEventListener('djconsole:force-playlist-refresh', handleForcePlaylistRefresh as unknown as EventListener)\n      window.removeEventListener('focus', handleFocus)\n    }\n  }, [])\n\n  const getFilteredTracks = () => {\n    let tracks = state.library.tracks\n\n    // Apply search filter\n    if (state.searchQuery) {\n      const query = state.searchQuery.toLowerCase()\n      tracks = tracks.filter(\n        track =>\n          track.title.toLowerCase().includes(query) ||\n          track.artist.toLowerCase().includes(query) ||\n          track.album?.toLowerCase().includes(query) ||\n          track.genre?.toLowerCase().includes(query)\n      )\n    }\n\n    // Apply genre filter\n    if (state.filterGenre) {\n      tracks = tracks.filter(track => track.genre === state.filterGenre)\n    }\n\n    // Apply artist filter\n    if (state.filterArtist) {\n      tracks = tracks.filter(track => track.artist === state.filterArtist)\n    }\n\n    // Apply sorting\n    tracks.sort((a, b) => {\n      let aValue: any = a[state.sortBy]\n      let bValue: any = b[state.sortBy]\n\n      if (state.sortBy === 'addedAt') {\n        aValue = aValue.getTime()\n        bValue = bValue.getTime()\n      }\n\n      if (aValue < bValue) return state.sortOrder === 'asc' ? -1 : 1\n      if (aValue > bValue) return state.sortOrder === 'asc' ? 1 : -1\n      return 0\n    })\n\n    return tracks\n  }\n\n  const getFilteredPlaylists = () => {\n    let playlists = state.library.playlists\n\n    if (state.searchQuery) {\n      const query = state.searchQuery.toLowerCase()\n      playlists = playlists.filter(\n        playlist =>\n          playlist.name.toLowerCase().includes(query) ||\n          playlist.description?.toLowerCase().includes(query)\n      )\n    }\n\n    return playlists\n  }\n\n  const createPlaylist = async (name: string, description?: string) => {\n    try {\n      const playlistId = await localDatabase.createPlaylist({\n        name,\n        description,\n        tracks: [],\n        isAutoPlaylist: false\n      })\n      \n      const newPlaylist: Playlist = {\n        id: playlistId,\n        name,\n        description,\n        tracks: [],\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        isPublic: true,\n        totalDuration: 0,\n        isAutoPlaylist: false\n      }\n      \n      dispatch({ type: 'CREATE_PLAYLIST', payload: newPlaylist })\n    } catch (error) {\n      console.error('Failed to create playlist:', error)\n      dispatch({ type: 'SET_ERROR', payload: 'Failed to create playlist' })\n    }\n  }\n\n  const addTrackToPlaylist = async (playlistId: string, track: Track) => {\n    try {\n      await localDatabase.addTrackToPlaylist(playlistId, track.id)\n      dispatch({ type: 'ADD_TRACK_TO_PLAYLIST', payload: { playlistId, track } })\n    } catch (error) {\n      console.error('Failed to add track to playlist:', error)\n      dispatch({ type: 'SET_ERROR', payload: 'Failed to add track to playlist' })\n    }\n  }\n\n  const removeTrackFromPlaylist = async (playlistId: string, trackId: string) => {\n    try {\n      await localDatabase.removeTrackFromPlaylist(playlistId, trackId)\n      dispatch({ type: 'REMOVE_TRACK_FROM_PLAYLIST', payload: { playlistId, trackId } })\n    } catch (error) {\n      console.error('Failed to remove track from playlist:', error)\n      dispatch({ type: 'SET_ERROR', payload: 'Failed to remove track from playlist' })\n    }\n  }\n\n  const deletePlaylist = async (id: string) => {\n    try {\n      await localDatabase.deletePlaylist(id)\n      dispatch({ type: 'DELETE_PLAYLIST', payload: id })\n    } catch (error) {\n      console.error('Failed to delete playlist:', error)\n      dispatch({ type: 'SET_ERROR', payload: 'Failed to delete playlist' })\n    }\n  }\n\n  const updatePlaylist = async (playlist: Playlist) => {\n    try {\n      // Persist minimal fields to DB; convert tracks to IDs\n      await localDatabase.updatePlaylist(playlist.id, {\n        name: playlist.name,\n        description: playlist.description,\n        tracks: playlist.tracks.map(t => t.id),\n      })\n      dispatch({ type: 'UPDATE_PLAYLIST', payload: playlist })\n    } catch (error) {\n      console.error('Failed to update playlist:', error)\n      dispatch({ type: 'SET_ERROR', payload: 'Failed to update playlist' })\n    }\n  }\n\n  const reorderPlaylist = async (playlistId: string, trackIds: string[]) => {\n    try {\n      await localDatabase.reorderPlaylist(playlistId, trackIds)\n      dispatch({ type: 'REORDER_PLAYLIST_TRACKS', payload: { playlistId, trackIds } })\n    } catch (error) {\n      console.error('Failed to reorder playlist:', error)\n      dispatch({ type: 'SET_ERROR', payload: 'Failed to reorder playlist' })\n    }\n  }\n\n  const searchTracks = (query: string) => {\n    return state.library.tracks.filter(\n      track =>\n        track.title.toLowerCase().includes(query.toLowerCase()) ||\n        track.artist.toLowerCase().includes(query.toLowerCase())\n    )\n  }\n\n  const getTracksByGenre = (genre: string) => {\n    return state.library.tracks.filter(track => track.genre === genre)\n  }\n\n  const getTracksByArtist = (artist: string) => {\n    return state.library.tracks.filter(track => track.artist === artist)\n  }\n\n  const getPlaylistById = (id: string) => {\n    return state.library.playlists.find(playlist => playlist.id === id)\n  }\n\n  const getTrackById = (id: string) => {\n    return state.library.tracks.find(track => track.id === id)\n  }\n\n  const value: PlaylistContextType = {\n    state,\n    dispatch,\n    getFilteredTracks,\n    getFilteredPlaylists,\n    createPlaylist,\n    deletePlaylist,\n    updatePlaylist,\n    reorderPlaylist,\n    addTrackToPlaylist,\n    removeTrackFromPlaylist,\n    searchTracks,\n    getTracksByGenre,\n    getTracksByArtist,\n    getPlaylistById,\n    getTrackById,\n  }\n\n  return <PlaylistContext.Provider value={value}>{children}</PlaylistContext.Provider>\n}\n\nexport function usePlaylist() {\n  const context = useContext(PlaylistContext)\n  if (context === undefined) {\n    throw new Error('usePlaylist must be used within a PlaylistProvider')\n  }\n  return context\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { useSettings } from '../contexts/SettingsContext'\n\ninterface DynamicWaveformProps {\n  waveformData: number[]\n  currentTime: number\n  duration: number\n  isPlaying: boolean\n  deck: 'left' | 'right' | 'A' | 'B' //  Supporta sia il vecchio che nuovo formato\n  className?: string\n  onSeek?: (time: number) => void //  AGGIUNTO: callback per seek\n}\n\nconst DynamicWaveform: React.FC<DynamicWaveformProps> = ({\n  waveformData,\n  currentTime,\n  duration,\n  isPlaying,\n  deck,\n  className = '',\n  onSeek\n}) => {\n  const { settings } = useSettings()\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const animationRef = useRef<number>()\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null)\n\n  // Nascondi il waveform se disabilitato nelle impostazioni\n  if (!settings.interface.showWaveforms) {\n    return null\n  }\n\n  // Calcola la posizione corrente nel waveform\n  const currentPosition = duration > 0 ? (currentTime / duration) * waveformData.length : 0\n\n  // Disegna il waveform sul canvas\n  useEffect(() => {\n    const canvas = canvasRef.current\n    if (!canvas || waveformData.length === 0) return\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n\n    const { width, height } = canvas\n    ctx.clearRect(0, 0, width, height)\n\n    // Calcola dimensioni delle barre\n    const barWidth = width / waveformData.length\n    const maxBarHeight = height * 0.8\n\n    // Disegna le barre del waveform\n    waveformData.forEach((amplitude, index) => {\n      const x = index * barWidth\n      const barHeight = amplitude * maxBarHeight\n      const y = (height - barHeight) / 2\n\n      // Colore base\n      let color = '#6366f1' // dj-accent\n\n      // Evidenzia la posizione corrente\n      if (index <= currentPosition) {\n        color = '#f59e0b' // dj-highlight\n      }\n\n      // Evidenzia la barra hoverata\n      if (index === hoveredIndex) {\n        color = '#ef4444' // rosso per hover\n      }\n\n      // Disegna la barra\n      ctx.fillStyle = color\n      ctx.fillRect(x, y, barWidth - 1, barHeight)\n\n      // Aggiungi effetto di brillantezza se la traccia  in riproduzione\n      if (isPlaying && index <= currentPosition) {\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.3)'\n        ctx.fillRect(x, y, barWidth - 1, barHeight)\n      }\n    })\n\n    // Disegna la LINEA ROSSA PRINCIPALE per la posizione corrente\n    if (duration > 0 && currentTime >= 0) {\n      const lineX = (currentTime / duration) * width\n      \n      // Linea principale pi spessa e visibile\n      ctx.strokeStyle = '#ef4444' // Rosso brillante\n      ctx.lineWidth = 4\n      ctx.shadowColor = '#ef4444'\n      ctx.shadowBlur = 8\n      ctx.beginPath()\n      ctx.moveTo(lineX, 0)\n      ctx.lineTo(lineX, height)\n      ctx.stroke()\n      \n      // Reset shadow per altri elementi\n      ctx.shadowColor = 'transparent'\n      ctx.shadowBlur = 0\n      \n      // Cerchio rosso pi grande e visibile sulla linea\n      ctx.fillStyle = '#ef4444'\n      ctx.beginPath()\n      ctx.arc(lineX, height / 2, 8, 0, 2 * Math.PI)\n      ctx.fill()\n      \n      // Cerchio bianco interno per contrasto\n      ctx.fillStyle = '#ffffff'\n      ctx.beginPath()\n      ctx.arc(lineX, height / 2, 4, 0, 2 * Math.PI)\n      ctx.fill()\n      \n      // Effetto pulsante se sta suonando\n      if (isPlaying) {\n        const pulse = 0.7 + Math.sin(Date.now() * 0.008) * 0.3\n        ctx.fillStyle = `rgba(239, 68, 68, ${pulse})`\n        ctx.beginPath()\n        ctx.arc(lineX, height / 2, 12, 0, 2 * Math.PI)\n        ctx.fill()\n      }\n    }\n  }, [waveformData, currentTime, duration, isPlaying, hoveredIndex])\n\n  // Gestisce il click sul waveform per seek\n  const handleCanvasClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    const canvas = canvasRef.current\n    if (!canvas || duration <= 0) return\n\n    const rect = canvas.getBoundingClientRect()\n    const x = e.clientX - rect.left\n    const clickPosition = x / canvas.width\n    const newTime = clickPosition * duration\n\n    console.log(` Waveform seek: ${newTime.toFixed(2)}s`)\n\n    // Usa il callback se fornito, altrimenti emetti evento\n    if (onSeek) {\n      onSeek(newTime)\n    } else {\n      // Emetti evento per il seek con il nome corretto per AudioDeck\n      const seekEvent = new CustomEvent('waveform:seek', {\n        detail: { time: newTime, deck }\n      })\n      window.dispatchEvent(seekEvent)\n    }\n  }\n\n  // Gestisce il movimento del mouse per hover\n  const handleMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    const canvas = canvasRef.current\n    if (!canvas || waveformData.length === 0) return\n\n    const rect = canvas.getBoundingClientRect()\n    const x = e.clientX - rect.left\n    const barWidth = canvas.width / waveformData.length\n    const index = Math.floor(x / barWidth)\n\n    if (index >= 0 && index < waveformData.length) {\n      setHoveredIndex(index)\n    } else {\n      setHoveredIndex(null)\n    }\n  }\n\n  // Gestisce la fuoriuscita del mouse\n  const handleMouseLeave = () => {\n    setHoveredIndex(null)\n  }\n\n  // Animazione ottimizzata per ridurre il lag\n  useEffect(() => {\n    if (isPlaying && settings.interface.animations) {\n      const animate = () => {\n        // Solo aggiorna il canvas quando necessario\n        if (canvasRef.current) {\n          const canvas = canvasRef.current\n          const ctx = canvas.getContext('2d')\n          if (ctx) {\n            // Effetto di pulsazione pi leggero e meno frequente\n            const pulse = 0.9 + Math.sin(Date.now() * 0.005) * 0.1\n            ctx.globalAlpha = pulse\n          }\n        }\n        animationRef.current = requestAnimationFrame(animate)\n      }\n      \n      // Riduci la frequenza di aggiornamento per migliorare le performance\n      const interval = setInterval(() => {\n        if (animationRef.current) {\n          cancelAnimationFrame(animationRef.current)\n        }\n        animationRef.current = requestAnimationFrame(animate)\n      }, 100) // Aggiorna ogni 100ms invece di ogni frame\n      \n      return () => clearInterval(interval)\n    } else {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current)\n      }\n    }\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current)\n      }\n    }\n  }, [isPlaying, settings.interface.animations])\n\n  return (\n    <div className={`dynamic-waveform ${className}`}>\n      <canvas\n        ref={canvasRef}\n        width={400}\n        height={80}\n        className=\"w-full h-20 cursor-pointer rounded-lg\"\n        onClick={handleCanvasClick}\n        onMouseMove={handleMouseMove}\n        onMouseLeave={handleMouseLeave}\n        style={{\n          background: 'linear-gradient(180deg, #1e293b 0%, #334155 100%)',\n          border: '1px solid rgba(99, 102, 241, 0.2)'\n        }}\n      />\n      \n\n\n      {/* Tooltip per hover */}\n      {hoveredIndex !== null && (\n        <div className=\"absolute bg-dj-secondary border border-dj-accent/30 rounded px-2 py-1 text-xs text-white pointer-events-none z-10\">\n          Barra {hoveredIndex + 1}: {Math.round(waveformData[hoveredIndex] * 100)}%\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default DynamicWaveform\n","import React, { memo } from 'react'\nimport { useAudio } from '../contexts/AudioContext'\n\ninterface TimerDisplayProps {\n  deck: 'left' | 'right'\n  className?: string\n}\n\nconst TimerDisplay = memo(({ deck, className = '' }: TimerDisplayProps) => {\n  const { state } = useAudio()\n  \n  // Ottieni currentTime e duration direttamente dallo stato\n  const currentTime = deck === 'left' \n    ? state.leftDeck.currentTime \n    : state.rightDeck.currentTime\n  \n  const duration = deck === 'left' \n    ? state.leftDeck.duration \n    : state.rightDeck.duration\n  \n  const formatTime = (time: number): string => {\n    const minutes = Math.floor(time / 60)\n    const seconds = Math.floor(time % 60)\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`\n  }\n  \n  return (\n    <div className={`timer-display ${className}`}>\n      <span className=\"text-sm font-mono\">\n        {formatTime(currentTime)} / {formatTime(duration)}\n      </span>\n    </div>\n  )\n})\n\nTimerDisplay.displayName = 'TimerDisplay'\n\nexport default TimerDisplay\n","import DynamicWaveform from './DynamicWaveform'\nimport TimerDisplay from './TimerDisplay'\nimport React, { useState } from 'react'\nimport { \n  Play, \n  Pause, \n  SkipBack, \n  SkipForward, \n  Volume2, \n  Disc,\n  Clock\n} from 'lucide-react'\nimport { useAudio } from '../contexts/AudioContext'\n\ninterface AudioDeckProps {\n  side: 'left' | 'right'\n  isActive: boolean\n  onActivate: () => void\n  track?: {\n    id: string\n    title: string\n    artist: string\n    duration: number\n    url: string\n  } | null\n}\n\nconst AudioDeck: React.FC<AudioDeckProps> = ({ side, isActive, onActivate, track }) => {\n  const { \n    playLeftTrack, \n    pauseLeftTrack, \n    resumeLeftTrack, \n    stopLeftTrack,\n    playRightTrack, \n    pauseRightTrack, \n    resumeRightTrack, \n    stopRightTrack,\n    setLeftLocalVolume, \n    setRightLocalVolume, \n    seekLeftTo,\n    seekRightTo,\n    handlePlayPauseDefinitive,\n    state: audioState \n  } = useAudio()\n  \n  const [deckVolume, setDeckVolume] = useState(0.8)\n  const [cuePoints, setCuePoints] = useState<number[]>([])\n  const [currentCue, setCurrentCue] = useState(0)\n  const [isProcessing, setIsProcessing] = useState(false) // Prevenire click multipli\n\n  // Sincronizza il volume locale con lo stato globale\n  React.useEffect(() => {\n    if (side === 'left') {\n      setDeckVolume(audioState.leftDeck.localVolume)\n    } else {\n      setDeckVolume(audioState.rightDeck.localVolume)\n    }\n  }, [side, audioState.leftDeck.localVolume, audioState.rightDeck.localVolume])\n\n  // Listener per il seek dal waveform\n  React.useEffect(() => {\n    const handleWaveformSeek = (e: CustomEvent) => {\n      if (isActive) {\n        if (side === 'left') {\n          seekLeftTo(e.detail.time)\n        } else {\n          seekRightTo(e.detail.time)\n        }\n      }\n    }\n\n    window.addEventListener('waveform:seek', handleWaveformSeek as EventListener)\n    return () => window.removeEventListener('waveform:seek', handleWaveformSeek as EventListener)\n  }, [isActive, side, seekLeftTo, seekRightTo])\n\n  // FIX DEFINITIVO: Usa la funzione play/pause che funziona SEMPRE\n  const handlePlay = () => {\n    if (track && !isProcessing) {\n      setIsProcessing(true)\n      // Reset dopo 500ms per prevenire spam\n      setTimeout(() => setIsProcessing(false), 500)\n      \n      console.log(` AudioDeck ${side} handlePlay called with DEFINITIVE function`)\n      \n      // Se non c' traccia nel deck, la carica prima\n      if (side === 'left' && !audioState.leftDeck.track) {\n        console.log(' Loading track in left deck first')\n        playLeftTrack(track)\n        // Aspetta un attimo che si carichi, poi play\n        setTimeout(() => {\n          handlePlayPauseDefinitive('left')\n        }, 100)\n      } else if (side === 'right' && !audioState.rightDeck.track) {\n        console.log(' Loading track in right deck first')\n        playRightTrack(track)\n        // Aspetta un attimo che si carichi, poi play\n        setTimeout(() => {\n          handlePlayPauseDefinitive('right')\n        }, 100)\n      } else {\n        // Usa direttamente la funzione definitiva\n        handlePlayPauseDefinitive(side)\n      }\n    }\n  }\n\n  // FIX DEFINITIVO: Usa la funzione definitiva anche per pause\n  const handlePause = () => {\n    handlePlayPauseDefinitive(side)\n  }\n\n  // FIX DEFINITIVO: Usa le funzioni specifiche per stop\n  const handleStop = () => {\n    if (side === 'left') {\n      stopLeftTrack()\n    } else {\n      stopRightTrack()\n    }\n  }\n\n  const handleSkipBackward = () => {\n    const audioElement = document.querySelector(`audio[data-deck=\"${side}\"]`) as HTMLAudioElement\n    if (audioElement && audioElement.src) {\n      const currentTime = audioElement.currentTime\n      const newTime = Math.max(0, currentTime - 10)\n      audioElement.currentTime = newTime\n      console.log(` [SKIP] Deck ${side}: Skip backward to ${newTime.toFixed(1)}s`)\n    }\n  }\n\n  const handleSkipForward = () => {\n    const audioElement = document.querySelector(`audio[data-deck=\"${side}\"]`) as HTMLAudioElement\n    if (audioElement && audioElement.src) {\n      const currentTime = audioElement.currentTime\n      const duration = audioElement.duration || 0\n      const newTime = Math.min(duration, currentTime + 10)\n      audioElement.currentTime = newTime\n      console.log(` [SKIP] Deck ${side}: Skip forward to ${newTime.toFixed(1)}s`)\n    }\n  }\n\n  const handleVolumeChange = (value: number) => {\n    setDeckVolume(value)\n    \n    // Imposta il volume locale per il deck specifico\n    if (side === 'left') {\n      setLeftLocalVolume(value)\n    } else {\n      setRightLocalVolume(value)\n    }\n    \n    // Applica il volume direttamente all'audio element\n    const audioElement = document.querySelector(`audio[data-deck=\"${side}\"]`) as HTMLAudioElement\n    if (audioElement) {\n      audioElement.volume = value\n      console.log(` [VOLUME] Deck ${side}: ${Math.round(value * 100)}%`)\n    }\n  }\n\n  // Pitch control not implemented in AudioContext; placeholder removed\n\n  const addCuePoint = () => {\n    if (currentTrack) {\n      const newCuePoint = Math.random() * 100 // Simulate current position\n      setCuePoints([...cuePoints, newCuePoint])\n    }\n  }\n\n  const jumpToCue = (index: number) => {\n    setCurrentCue(index)\n    // In a real implementation, this would seek to the cue point\n  }\n\n  // Il track corrente  sempre quello del deck, indipendentemente da isActive\n  const currentTrack = (side === 'left' ? audioState.leftDeck.track : audioState.rightDeck.track) || track\n\n  // Il deck sta suonando se ha una traccia caricata ed  in playing, indipendentemente da isActive\n  const isThisTrackPlaying = (side === 'left' ? \n    audioState.leftDeck.track?.id === currentTrack?.id && audioState.leftDeck.isPlaying :\n    audioState.rightDeck.track?.id === currentTrack?.id && audioState.rightDeck.isPlaying)\n  \n  // const deckCurrentTime = isThisTrackPlaying ? \n  //   (side === 'left' ? audioState.leftDeck.currentTime : audioState.rightDeck.currentTime) : 0\n  // Ottieni il currentTime corretto dal deck\n  const deckCurrentTime = side === 'left' \n    ? audioState.leftDeck.currentTime || 0\n    : audioState.rightDeck.currentTime || 0\n  \n  const deckDuration = currentTrack?.duration || (isThisTrackPlaying ? \n    (side === 'left' ? audioState.leftDeck.track?.duration : audioState.rightDeck.track?.duration) : 0)\n\n  const formatTime = (t: number) => {\n    const m = Math.floor(t / 60)\n    const s = Math.floor(t % 60)\n    return `${m}:${String(s).padStart(2,'0')}`\n  }\n\n  return (\n    <div className={`deck-container p-2 md:p-3 ${isActive ? 'ring-2 ring-dj-highlight' : ''}`}>\n      {/* Deck Header */}\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"text-sm md:text-base font-dj font-bold text-white\">Deck {side === 'left' ? 'A' : 'B'}</h3>\n        <button\n          onClick={onActivate}\n          className={`px-2 py-0.5 rounded text-[11px] md:text-xs font-medium transition-all duration-200 ${\n            isActive \n              ? 'bg-dj-highlight text-white' \n              : 'bg-dj-secondary text-dj-light hover:bg-dj-accent'\n          }`}\n        >\n          {isActive ? 'Active' : 'Activate'}\n        </button>\n      </div>\n\n      {/* Track Info */}\n      <div className=\"bg-dj-primary rounded-lg p-2 md:p-3 mb-2 border border-dj-accent/20\">\n        <div className=\"flex items-center space-x-2 mb-1.5\">\n          <Disc className=\"w-5 h-5 md:w-6 md:h-6 text-dj-highlight\" />\n          <div className=\"flex-1 min-w-0\">\n            <h4 className=\"font-medium text-white text-sm md:text-base truncate\">{currentTrack?.title || 'No Track Loaded'}</h4>\n            <p className=\"text-[11px] md:text-xs text-dj-light/60 truncate\">{currentTrack?.artist || 'Unknown Artist'}</p>\n          </div>\n        </div>\n        {currentTrack && (\n          <div className=\"flex items-center justify-between text-[11px] md:text-xs\">\n            <div className=\"flex items-center space-x-1.5\">\n              <Clock className=\"w-3.5 h-3.5 md:w-4 md:h-4 text-dj-light/60\" />\n              <span className=\"text-dj-light\">{typeof currentTrack.duration === 'number' ? `${Math.floor(currentTrack.duration/60)}:${String(Math.floor(currentTrack.duration%60)).padStart(2,'0')}` : currentTrack.duration}</span>\n            </div>\n            <div className=\"text-dj-light/50 hidden md:block\">BPM </div>\n          </div>\n        )}\n      </div>\n\n      {/* Waveform dinamico per ogni deck che ha una traccia */}\n      {currentTrack && (\n        <div className=\"mb-2\">\n          <DynamicWaveform\n            waveformData={(currentTrack as any)?.waveform || Array.from({ length: 120 }, () => 0.3 + Math.random() * 0.4)}\n            currentTime={deckCurrentTime}\n            duration={deckDuration || 0}\n            isPlaying={true} //  SEMPRE TRUE: ora la waveform controlla autonomamente l'audio\n            deck={side} //  Specifica quale deck\n            className=\"relative\"\n          />\n        </div>\n      )}\n\n      {/* Transport Controls */}\n      <div className=\"flex items-center justify-center space-x-2 mb-2\">\n        <button\n          onClick={handleSkipBackward}\n          className=\"w-8 h-8 md:w-9 md:h-9 bg-dj-secondary hover:bg-dj-accent rounded-md flex items-center justify-center transition-all duration-200\"\n          title=\"Skip Backward (-10s)\"\n        >\n          <SkipBack className=\"w-4 h-4\" />\n        </button>\n        \n        <button\n          onClick={isActive && isThisTrackPlaying ? handlePause : handlePlay}\n          className={`w-10 h-10 md:w-12 md:h-12 rounded-md flex items-center justify-center transition-all duration-200 ${\n            isActive && isThisTrackPlaying\n              ? 'bg-dj-accent hover:bg-dj-highlight' \n              : 'bg-dj-highlight hover:bg-dj-accent'\n          }`}\n          title={isActive && isThisTrackPlaying ? \"Pausa\" : \"Play\"}\n        >\n          {isActive && isThisTrackPlaying ? <Pause className=\"w-4.5 h-4.5\" /> : <Play className=\"w-4.5 h-4.5\" />}\n        </button>\n        \n        <button\n          onClick={handleSkipForward}\n          className=\"w-8 h-8 md:w-9 md:h-9 bg-dj-secondary hover:bg-dj-accent rounded-md flex items-center justify-center transition-all duration-200\"\n          title=\"Skip Forward (+10s)\"\n        >\n          <SkipForward className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Cue Points rimossi in versione ultra-compatta */}\n\n      {/* Volume and Pitch Controls */}\n      <div className=\"grid grid-cols-2 gap-2\">\n        {/* Volume Control */}\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-1 mb-0.5\">\n            <Volume2 className=\"w-3.5 h-3.5 text-dj-light/60\" />\n            <span className=\"text-[11px] md:text-xs text-dj-light\">Vol</span>\n          </div>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            value={deckVolume}\n            onChange={(e) => handleVolumeChange(parseFloat(e.target.value))}\n            className=\"dj-slider w-full h-1\"\n            aria-label={`Volume control for ${side} deck`}\n          />\n          <span className=\"text-[10px] md:text-xs text-dj-light/60\">{Math.round(deckVolume * 100)}%</span>\n        </div>\n\n        {/* Placeholder for future pitch control */}\n        <div className=\"text-center text-[11px] md:text-xs text-dj-light/60\">Pitch: n/a</div>\n      </div>\n\n      {/* Progress Bar and Timer */}\n      <div className=\"mt-2\">\n        <div className=\"flex items-center justify-between text-[11px] md:text-xs text-dj-light/60 mb-1\">\n          <TimerDisplay \n            deck={side}\n            className=\"text-[11px] md:text-xs text-dj-light/60\"\n          />\n        </div>\n        <input\n          type=\"range\"\n          min={0}\n          max={Math.max(deckDuration || 0, 0.001)}\n          step={0.1}\n          value={deckCurrentTime}\n          onChange={(e) => {\n            if (isActive) {\n              if (side === 'left') {\n                seekLeftTo(parseFloat(e.target.value))\n              } else {\n                seekRightTo(parseFloat(e.target.value))\n              }\n            }\n          }}\n          className=\"dj-slider w-full h-1\"\n          aria-label={`Seek control for ${side} deck`}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default AudioDeck\n","import React, { useState } from 'react'\nimport { Volume2, VolumeX } from 'lucide-react'\nimport { useTranslation } from '../i18n'\n\ninterface CrossfaderProps {\n  leftVolume: number\n  rightVolume: number\n  onLeftVolumeChange: (volume: number) => void\n  onRightVolumeChange: (volume: number) => void\n  crossfadeValue: number\n  onCrossfadeChange: (value: number) => void\n}\n\nconst Crossfader: React.FC<CrossfaderProps> = ({\n  leftVolume,\n  rightVolume,\n  onLeftVolumeChange,\n  onRightVolumeChange,\n  crossfadeValue,\n  onCrossfadeChange\n}) => {\n  const [crossfadeCurve, setCrossfadeCurve] = useState<'linear' | 'smooth' | 'sharp'>('smooth')\n  const { t } = useTranslation()\n\n  const handleCrossfadeChange = (value: number) => {\n    onCrossfadeChange(value)\n  }\n\n  const getCrossfadeCurve = (value: number) => {\n    switch (crossfadeCurve) {\n      case 'linear':\n        return value\n      case 'smooth':\n        return Math.pow(value, 2)\n      case 'sharp':\n        return Math.pow(value, 3)\n      default:\n        return value\n    }\n  }\n\n  return (\n    <div className=\"text-center\">\n      <h3 className=\"text-sm font-medium text-dj-light/60 mb-4 uppercase tracking-wider\">\n        Crossfader\n      </h3>\n      \n      {/* Crossfader Slider - Design Migliorato */}\n      <div className=\"mb-6\">\n        <div className=\"bg-dj-secondary rounded-xl p-4\">\n          {/* Titolo chiaro */}\n          <div className=\"text-center mb-3\">\n            <h4 className=\"text-sm font-medium text-dj-light/80 mb-1\">{t('console.mixer').toUpperCase()}</h4>\n            <p className=\"text-xs text-dj-light/60\">{t('console.mixerDesc')}</p>\n          </div>\n          \n          {/* Slider orizzontale chiaro */}\n          <div className=\"relative\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value={crossfadeValue}\n              onChange={(e) => handleCrossfadeChange(parseFloat(e.target.value))}\n              className=\"dj-slider w-full h-3\"\n            />\n            \n            {/* Indicatori posizione */}\n            <div className=\"flex justify-between mt-2\">\n              <span className=\"text-xs font-medium text-dj-accent\">{t('console.deckA').toUpperCase()}</span>\n              <span className=\"text-xs font-medium text-dj-highlight\">{t('console.deckB').toUpperCase()}</span>\n            </div>\n            \n            {/* Indicatore posizione corrente */}\n            <div className=\"text-center mt-2\">\n              <div className=\"inline-block bg-dj-primary px-3 py-1 rounded-full\">\n                <span className=\"text-sm font-mono text-white\">\n                  {crossfadeValue <= 0.5 ? 'A' : 'B'} {Math.round(crossfadeValue * 100)}%\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Volume Controls */}\n      <div className=\"space-y-3 mb-4\">\n        {/* Left Deck Volume Control */}\n        <div className=\"flex items-center space-x-2\">\n          <Volume2 className=\"w-4 h-4 text-dj-light/60\" />\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            value={leftVolume}\n            onChange={(e) => onLeftVolumeChange(parseFloat(e.target.value))}\n            className=\"flex-1 dj-slider h-2\"\n          />\n          <span className=\"text-xs text-dj-light/60 w-8 text-right\">\n            {Math.round(leftVolume * 100)}%\n          </span>\n        </div>\n\n        {/* Right Deck Volume Control */}\n        <div className=\"flex items-center space-x-2\">\n          <Volume2 className=\"w-4 h-4 text-dj-light/60\" />\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            value={rightVolume}\n            onChange={(e) => onRightVolumeChange(parseFloat(e.target.value))}\n            className=\"flex-1 dj-slider h-2\"\n          />\n          <span className=\"text-xs text-dj-light/60 w-8 text-right\">\n            {Math.round(rightVolume * 100)}%\n          </span>\n        </div>\n      </div>\n\n      {/* Crossfade Curve Selection - Design Migliorato */}\n      <div className=\"mb-4\">\n        <div className=\"bg-dj-secondary rounded-lg p-3\">\n          <h4 className=\"text-xs text-dj-light/80 mb-3 text-center uppercase tracking-wider\">\n            {t('console.transitionType').toUpperCase()}\n          </h4>\n          <div className=\"flex space-x-2 justify-center\">\n            {(['linear', 'smooth', 'sharp'] as const).map((curve) => (\n              <button\n                key={curve}\n                onClick={() => setCrossfadeCurve(curve)}\n                className={`px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 ${\n                  crossfadeCurve === curve \n                    ? 'bg-dj-highlight text-white shadow-lg' \n                    : 'bg-dj-primary text-dj-light hover:bg-dj-accent hover:scale-105'\n                }`}\n              >\n                {curve === 'linear' ? t('console.linear').toUpperCase() : \n                 curve === 'smooth' ? t('console.smooth').toUpperCase() : t('console.sharp').toUpperCase()}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Volume Controls - Design Migliorato */}\n      <div className=\"space-y-4\">\n        <h4 className=\"text-xs text-dj-light/80 text-center uppercase tracking-wider\">\n          {t('console.volumeControl').toUpperCase()}\n        </h4>\n        \n        {/* Left Deck Volume Control */}\n        <div className=\"bg-dj-secondary rounded-lg p-3\">\n          <div className=\"flex items-center space-x-3\">\n            <Volume2 className=\"w-5 h-5 text-dj-accent\" />\n            <div className=\"flex-1\">\n              <div className=\"text-xs text-dj-light/80 mb-1\">{t('console.deckA').toUpperCase()}</div>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                value={leftVolume}\n                onChange={(e) => onLeftVolumeChange(parseFloat(e.target.value))}\n                className=\"dj-slider w-full h-2\"\n              />\n            </div>\n            <span className=\"text-sm font-mono text-white bg-dj-primary px-2 py-1 rounded\">\n              {Math.round(leftVolume * 100)}%\n            </span>\n          </div>\n        </div>\n\n        {/* Right Deck Volume Control */}\n        <div className=\"bg-dj-secondary rounded-lg p-3\">\n          <div className=\"flex items-center space-x-3\">\n            <Volume2 className=\"w-5 h-5 text-dj-highlight\" />\n            <div className=\"flex-1\">\n              <div className=\"text-xs text-dj-light/80 mb-1\">{t('console.deckB').toUpperCase()}</div>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                value={rightVolume}\n                onChange={(e) => onRightVolumeChange(parseFloat(e.target.value))}\n                className=\"dj-slider w-full h-2\"\n              />\n            </div>\n            <span className=\"text-sm font-mono text-white bg-dj-primary px-2 py-1 rounded\">\n              {Math.round(rightVolume * 100)}%\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Crossfader\n"," /**\n * STREAMING MANAGER COMPLETO E PROFESSIONALE\n * \n * Funzionalit implementate:\n *  Sistema di retry (5 tentativi) per connessione Icecast\n *  Gestione errori tramite notifiche (non popup)\n *  Disconnessione automatica dopo 30s di silenzio\n *  Disconnessione automatica se pausa > 30s\n *  Connessione reale al server Icecast\n *  Gestione errori specifici per diversi tipi di problemi\n *  Statistiche di streaming in tempo reale\n *  Riconnessione automatica quando si perde la connessione\n *  Gestione metadati avanzata\n *  Analisi audio reale per rilevamento silenzio\n *  Monitoraggio qualit stream\n *  Pool di connessioni per alta affidabilit\n *  Integrazione con sistema di pausa esistente (NON toccato)\n */\n\nexport interface StreamConfig {\n  host: string\n  port: number\n  username: string\n  password: string\n  mountpoint: string\n  useSSL?: boolean\n  bitrate: number\n  format: 'opus' | 'mp3' | 'ogg' | 'aac'\n  sampleRate?: number\n  channels?: number\n  bufferSize?: number\n  reconnectDelay?: number\n  maxReconnectAttempts?: number\n}\n\nexport interface StreamMetadata {\n  title: string\n  artist: string\n  album: string\n  genre: string\n  year?: string\n  comment?: string\n  url?: string\n}\n\nexport interface StreamStatus {\n  isConnected: boolean\n  isStreaming: boolean\n  isPaused: boolean\n  bytesSent: number\n  errors: number\n  lastError?: string\n  retryCount: number\n  maxRetries: number\n  connectionQuality: 'excellent' | 'good' | 'fair' | 'poor' | 'critical'\n  latency: number\n  bitrate: number\n  packetLoss: number\n  uptime: number\n  lastActivity: number\n}\n\nexport interface AudioAnalysis {\n  level: number\n  peak: number\n  rms: number\n  frequency: number\n  hasAudio: boolean\n  silenceDuration: number\n  lastAudioTime: number\n}\n\nexport interface StreamStatistics {\n  totalBytesSent: number\n  totalPacketsSent: number\n  totalErrors: number\n  averageBitrate: number\n  peakBitrate: number\n  connectionUptime: number\n  reconnectionCount: number\n  lastErrorTime: number\n  qualityScore: number\n}\n\nexport interface ConnectionPool {\n  primary: string | null  // URL HTTP per Icecast\n  backup: string | null   // URL HTTP di backup\n  isPrimaryActive: boolean\n  failoverCount: number\n  lastFailover: number\n}\n\nexport class StreamingManager {\n  private config: StreamConfig | null = null\n  private serverUrl: string = ''\n  private isConnected = false\n  private isStreaming = false\n  private isPaused = false\n  private retryCount = 0\n  private maxRetries = 5\n  \n  // Callbacks\n  private statusCallback?: (status: string) => void\n  private debugCallback?: (message: string) => void\n  private statsCallback?: (stats: StreamStatistics) => void\n  \n  // Timers per disconnessione automatica\n  private silenceTimer: NodeJS.Timeout | null = null\n  private pauseTimer: NodeJS.Timeout | null = null\n  private lastAudioTime = 0\n  private silenceThreshold = 30000 // 30 secondi\n  private pauseThreshold = 30000 // 30 secondi\n  \n  //  NUOVO: Tracciamento timestamp per pausa precisa\n  private pauseTimestamp: number = 0\n  private resumeTimestamp: number = 0\n  private chunkTimestamp: number = 0\n  \n  //  NUOVO: Flag per cancellare completamente i chunk\n  private chunkCancelled: boolean = false\n  \n  //  NUOVO: DesktopStream per controllo diretto\n  private useDesktopStream: boolean = true\n  \n  // Audio monitoring e analisi\n  private monitoringInterval: NodeJS.Timeout | null = null\n  private audioContext: AudioContext | null = null\n  private analyser: AnalyserNode | null = null\n  private dataArray: Uint8Array | null = null\n  private audioAnalysis: AudioAnalysis = {\n    level: 0,\n    peak: 0,\n    rms: 0,\n    frequency: 0,\n    hasAudio: false,\n    silenceDuration: 0,\n    lastAudioTime: 0\n  }\n  \n  // Connessioni e pool\n  private connectionPool: ConnectionPool = {\n    primary: null,\n    backup: null,\n    isPrimaryActive: true,\n    failoverCount: 0,\n    lastFailover: 0\n  }\n  \n  // Statistiche e monitoraggio\n  private statistics: StreamStatistics = {\n    totalBytesSent: 0,\n    totalPacketsSent: 0,\n    totalErrors: 0,\n    averageBitrate: 0,\n    peakBitrate: 0,\n    connectionUptime: 0,\n    reconnectionCount: 0,\n    lastErrorTime: 0,\n    qualityScore: 100\n  }\n  \n  private streamStatus: StreamStatus = {\n    isConnected: false,\n    isStreaming: false,\n    isPaused: false,\n    bytesSent: 0,\n    errors: 0,\n    retryCount: 0,\n    maxRetries: 5,\n    connectionQuality: 'excellent',\n    latency: 0,\n    bitrate: 0,\n    packetLoss: 0,\n    uptime: 0,\n    lastActivity: 0\n  }\n  \n  // Metadata\n  private lastMetadata: StreamMetadata | null = null\n  \n  // Riconnessione automatica\n  private autoReconnect = false //  DISABILITATO: Evita riconnessioni eccessive\n  private reconnectTimer: NodeJS.Timeout | null = null\n  private connectionStartTime = 0\n  private lastPingTime = 0\n  private pingInterval: NodeJS.Timeout | null = null\n\n  constructor() {\n    console.log(' StreamingManager inizializzato')\n    //  FIX: Sposta setupGlobalFunctions dopo l'inizializzazione completa\n    setTimeout(() => {\n      this.setupGlobalFunctions()\n    }, 0)\n  }\n\n  private setupGlobalFunctions() {\n    // Esponi funzioni globali per compatibilit\n    if (typeof window !== 'undefined') {\n      try {\n        (window as any).streamingManager = this\n        \n        //  FIX: Binding corretto delle funzioni con controllo di esistenza\n        if (typeof this.pauseStreaming === 'function') {\n          (window as any).pauseStreaming = this.pauseStreaming.bind(this)\n        }\n        if (typeof this.resumeStreaming === 'function') {\n          (window as any).resumeStreaming = this.resumeStreaming.bind(this)\n        }\n        if (typeof this.disconnect === 'function') {\n          (window as any).stopStreaming = this.disconnect.bind(this)\n        }\n        \n        console.log(' [GLOBAL] StreamingManager esposto con metodi pausa/ripresa')\n      } catch (error) {\n        console.error(' [GLOBAL] Errore setup funzioni globali:', error)\n      }\n    }\n  }\n\n  // ===== CONFIGURAZIONE =====\n  \n  setServerUrl(url: string) {\n    this.serverUrl = url\n    console.log(` Server URL impostato: ${url}`)\n  }\n\n  setCredentials(credentials: Partial<StreamConfig>) {\n    if (!this.config) {\n      this.config = {\n        host: '',\n        port: 8000,\n        username: '',\n        password: '',\n        mountpoint: '/stream',\n        useSSL: false,\n        bitrate: 128,\n        format: 'opus'\n      }\n    }\n    \n    Object.assign(this.config, credentials)\n    console.log(` Credenziali aggiornate:`, {\n      host: this.config.host,\n      port: this.config.port,\n      username: this.config.username,\n      password: this.config.password ? '***' : '(vuota)',\n      mountpoint: this.config.mountpoint,\n      useSSL: this.config.useSSL,\n      bitrate: this.config.bitrate,\n      format: this.config.format\n    })\n  }\n\n  // ===== CALLBACKS =====\n  \n  setStatusCallback(callback: (status: string) => void) {\n    this.statusCallback = callback\n  }\n\n  setDebugCallback(callback: (message: string) => void) {\n    this.debugCallback = callback\n  }\n\n  setStatsCallback(callback: (stats: StreamStatistics) => void) {\n    this.statsCallback = callback\n  }\n\n\n  // ===== CONNESSIONE CON RETRY =====\n  \n  async connect(): Promise<boolean> {\n    if (!this.config) {\n      this.addNotification('error', 'Configurazione Mancante', 'Configurazione streaming non impostata')\n      return false\n    }\n\n    this.retryCount = 0\n    return this.attemptConnection()\n  }\n\n  private async attemptConnection(): Promise<boolean> {\n    if (this.retryCount >= this.maxRetries) {\n      this.addNotification('error', 'Connessione Fallita', \n        `Impossibile connettersi dopo ${this.maxRetries} tentativi. Server Icecast non raggiungibile.`)\n      this.updateStatus('disconnected')\n      return false\n    }\n\n    this.retryCount++\n    this.addNotification('info', 'Tentativo Connessione', \n      `Tentativo ${this.retryCount}/${this.maxRetries} - Connessione a ${this.config!.host}:${this.config!.port}`)\n\n    try {\n      // Simula connessione (qui andrebbe la logica reale di connessione)\n      const success = await this.performConnection()\n      \n      if (success) {\n        this.isConnected = true\n        this.retryCount = 0\n        this.addNotification('success', 'Connesso', \n          `Connesso con successo a ${this.config!.host}:${this.config!.port}`)\n        this.updateStatus('connected')\n        // NON avviare monitoraggio audio qui - sar avviato in startStreaming()\n        return true\n      } else {\n        throw new Error('Connessione fallita')\n      }\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : 'Errore sconosciuto'\n      \n      this.addNotification('warning', 'Tentativo Fallito', \n        `Tentativo ${this.retryCount} fallito: ${errorMsg}`)\n      \n      // Aspetta prima del prossimo tentativo\n      await new Promise(resolve => setTimeout(resolve, 2000 * this.retryCount))\n      \n      return this.attemptConnection()\n    }\n  }\n\n  private async performConnection(): Promise<boolean> {\n    if (!this.config) return false\n\n    try {\n      // Test connessione al server Icecast (non al mountpoint di streaming)\n      const protocol = this.config.useSSL ? 'https' : 'http'\n      const adminUrl = `${protocol}://${this.config.host}:${this.config.port}/admin/stats`\n      const streamUrl = `${protocol}://${this.config.host}:${this.config.port}${this.config.mountpoint}`\n      \n      console.log(` [CONNECTION] Test connessione Icecast admin: ${adminUrl}`)\n      \n      // Test connessione HTTP al server Icecast con autenticazione\n      const headers: HeadersInit = {}\n      \n      // Aggiungi autenticazione Basic se username e password sono forniti\n      if (this.config.username && this.config.password) {\n        const auth = btoa(`${this.config.username}:${this.config.password}`)\n        headers['Authorization'] = `Basic ${auth}`\n        console.log(` [CONNECTION] Usando autenticazione Basic per: ${this.config.username}`)\n      }\n      \n      // Test 1: Admin stats (per verificare che il server sia raggiungibile)\n      const adminResponse = await fetch(adminUrl, {\n        method: 'GET',\n        headers,\n        signal: AbortSignal.timeout(5000) // 5 secondi timeout\n      })\n      \n      if (adminResponse.ok) {\n        console.log(` [CONNECTION] Server Icecast raggiungibile: ${adminResponse.status}`)\n        \n        // Salva URL per streaming (il mountpoint reale)\n        this.connectionPool.primary = streamUrl as any\n        this.connectionPool.isPrimaryActive = true\n        \n        // Avvia monitoraggio HTTP\n        this.startHttpMonitoring()\n        \n        return true\n      } else {\n        // Fallback: test diretto sul mountpoint con POST\n        console.log(` [CONNECTION] Admin non disponibile, test diretto su mountpoint...`)\n        \n        const streamResponse = await fetch(streamUrl, {\n          method: 'POST',\n          headers: {\n            ...headers,\n            'Content-Type': 'application/octet-stream',\n            'User-Agent': 'DJ-Console/1.0'\n          },\n          signal: AbortSignal.timeout(5000)\n        })\n        \n        if (streamResponse.status === 200 || streamResponse.status === 400) {\n          // 400  OK per Icecast quando non c' audio da processare\n          console.log(` [CONNECTION] Mountpoint Icecast raggiungibile: ${streamResponse.status}`)\n          \n          this.connectionPool.primary = streamUrl as any\n          this.connectionPool.isPrimaryActive = true\n          this.startHttpMonitoring()\n          \n          return true\n        } else {\n          throw new Error(`HTTP ${streamResponse.status}: ${streamResponse.statusText}`)\n        }\n      }\n    } catch (error) {\n      console.error(` [CONNECTION] Errore connessione Icecast:`, error)\n      return false\n    }\n  }\n\n  private startHttpMonitoring() {\n    //  DISABILITATO: Il ping HTTP non  necessario per Icecast streaming\n    // Il monitoraggio della connessione avviene tramite FFmpeg\n    console.log(' [MONITORING] Ping HTTP disabilitato - monitoraggio tramite FFmpeg')\n  }\n\n  private async checkHttpConnection() {\n    if (!this.connectionPool.primary || !this.config) return\n\n    try {\n      const headers: HeadersInit = {}\n      \n      // Aggiungi autenticazione Basic se username e password sono forniti\n      if (this.config.username && this.config.password) {\n        const auth = btoa(`${this.config.username}:${this.config.password}`)\n        headers['Authorization'] = `Basic ${auth}`\n      }\n      \n      // Test admin stats per monitoraggio\n      const protocol = this.config.useSSL ? 'https' : 'http'\n      const adminUrl = `${protocol}://${this.config.host}:${this.config.port}/admin/stats`\n      \n      const response = await fetch(adminUrl, {\n        method: 'GET',\n        headers,\n        signal: AbortSignal.timeout(3000) // 3 secondi timeout per ping\n      })\n      \n      if (response.ok) {\n        this.lastPingTime = Date.now()\n        this.streamStatus.lastActivity = Date.now()\n        this.updateStatistics()\n      } else {\n        throw new Error(`HTTP ${response.status}`)\n      }\n    } catch (error) {\n      console.error(` [HTTP] Errore monitoraggio:`, error)\n      this.handleConnectionLoss()\n    }\n  }\n\n\n  private handleConnectionLoss() {\n    this.isConnected = false\n    this.isStreaming = false\n    \n    this.addNotification('warning', 'Connessione Persa', 'Connessione al server interrotta')\n    \n    // Riconnessione automatica se abilitata\n    if (this.autoReconnect) {\n      this.scheduleReconnection()\n    }\n  }\n\n\n\n  private scheduleReconnection() {\n    if (this.reconnectTimer) return\n    \n    const delay = Math.min(1000 * Math.pow(2, this.statistics.reconnectionCount), 30000)\n    console.log(` [RECONNECT] Riconnessione programmata tra ${delay}ms`)\n    \n    this.reconnectTimer = setTimeout(async () => {\n      this.reconnectTimer = null\n      this.statistics.reconnectionCount++\n      \n      this.addNotification('info', 'Riconnessione', `Tentativo riconnessione ${this.statistics.reconnectionCount}`)\n      \n      const success = await this.attemptConnection()\n      if (!success && this.autoReconnect) {\n        this.scheduleReconnection()\n      }\n    }, delay)\n  }\n\n\n  private stopPing() {\n    if (this.pingInterval) {\n      clearInterval(this.pingInterval)\n      this.pingInterval = null\n    }\n  }\n\n  disconnect() {\n    this.isConnected = false\n    this.isStreaming = false\n    this.isPaused = false\n    this.retryCount = 0\n    \n    // Reset connessioni HTTP\n    this.connectionPool.primary = null\n    this.connectionPool.backup = null\n    \n    // Ferma tutti i timer\n    this.stopAudioMonitoring()\n    this.stopPing()\n    this.clearTimers()\n    \n    //  CRITICO: Ferma MediaRecorder\n    this.stopMediaRecorder()\n    \n    //  CRITICO: Ferma FFmpeg\n    if (this.useDesktopStream && typeof (window as any).desktopStream?.stop === 'function') {\n      try {\n        (window as any).desktopStream.stop()\n        console.log(' [STREAMING] DesktopStream fermato')\n      } catch (error) {\n        console.log(' [STREAMING] Errore fermando DesktopStream:', error)\n      }\n    } else if (typeof (window as any).electronAPI?.invoke === 'function') {\n      try {\n        (window as any).electronAPI.invoke('icecast-stop')\n        console.log(' [STREAMING] FFmpeg fermato')\n      } catch (error) {\n        console.log(' [STREAMING] Errore fermando FFmpeg:', error)\n      }\n    }\n    \n    // Cancella riconnessione automatica\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer)\n      this.reconnectTimer = null\n    }\n    \n    // Reset statistiche\n    this.connectionStartTime = 0\n    this.lastPingTime = 0\n    \n    this.addNotification('info', 'Disconnesso', 'Connessione streaming chiusa')\n    this.updateStatus('disconnected')\n  }\n\n  // ===== STREAMING =====\n  \n  async startStreaming(stream: MediaStream): Promise<boolean> {\n    if (!this.isConnected) {\n      this.addNotification('error', 'Non Connesso', 'Devi prima connetterti al server')\n      return false\n    }\n\n    try {\n      this.isStreaming = true\n      this.isPaused = false\n      this.connectionStartTime = Date.now()\n      \n      //  CRITICO: Ferma FFmpeg precedente se esiste\n      if (typeof (window as any).electronAPI?.invoke === 'function') {\n        try {\n          console.log(' [STREAMING] Fermando FFmpeg precedente...')\n          await (window as any).electronAPI.invoke('icecast-stop')\n          console.log(' [STREAMING] FFmpeg precedente fermato')\n        } catch (error) {\n          console.log(' [STREAMING] Nessun FFmpeg precedente da fermare')\n        }\n      }\n      \n      //  CRITICO: Avvia FFmpeg con desktopStream\n      if (this.useDesktopStream && typeof (window as any).desktopStream?.start === 'function') {\n        console.log(' [STREAMING] Avvio FFmpeg con desktopStream...')\n        \n        //  USA CONFIGURAZIONE DALLE IMPOSTAZIONI\n        const desktopStreamConfig = {\n          host: this.config?.host,\n          port: this.config?.port,\n          mount: this.config?.mountpoint,\n          username: this.config?.username,\n          password: this.config?.password,\n          useSSL: this.config?.useSSL,\n          bitrateKbps: this.config?.bitrate,\n          format: this.config?.format\n        }\n        \n        console.log(' [STREAMING] Config desktopStream:', desktopStreamConfig)\n        \n        //  FIX: Controlla se l'utente ha richiesto la disconnessione PRIMA di avviare FFmpeg\n        if ((window as any).globalStreamingManager?.isUserRequestedDisconnect) {\n          console.log(' [STREAMING] Disconnessione richiesta dall\\'utente - blocco avvio FFmpeg')\n          throw new Error('User requested disconnect - blocking FFmpeg start')\n        }\n        \n        const desktopStreamResult = await (window as any).desktopStream.start(desktopStreamConfig)\n        if (!desktopStreamResult?.ok) {\n          throw new Error(`DesktopStream startup failed: ${desktopStreamResult?.error}`)\n        }\n        console.log(' [STREAMING] DesktopStream avviato con successo')\n      } else if (typeof (window as any).electronAPI?.startStreaming === 'function') {\n        console.log(' [STREAMING] Avvio FFmpeg con electronAPI...')\n        \n        const ffmpegConfig = { ...this.config }\n        const ffmpegResult = await (window as any).electronAPI.startStreaming(ffmpegConfig)\n        if (!ffmpegResult?.ok) {\n          throw new Error(`FFmpeg startup failed: ${ffmpegResult?.error}`)\n        }\n        console.log(' [STREAMING] FFmpeg avviato con successo')\n      }\n      \n      // Connetti sorgente audio per analisi\n      this.connectAudioSource(stream)\n      \n      // Avvia monitoraggio audio avanzato\n      this.startAudioMonitoring()\n      \n      //  CRITICO: Avvia MediaRecorder per catturare e inviare audio\n      this.startMediaRecorder(stream)\n      \n      // Invia comando di avvio al server\n      this.sendStreamCommand('start', { \n        bitrate: this.config?.bitrate,\n        format: this.config?.format,\n        sampleRate: this.config?.sampleRate || 44100,\n        channels: this.config?.channels || 2\n      })\n      \n      this.addNotification('success', 'Streaming Avviato', 'Trasmissione audio iniziata')\n      this.updateStatus('streaming')\n      \n      return true\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : 'Errore sconosciuto'\n      this.addNotification('error', 'Errore Streaming', `Impossibile avviare streaming: ${errorMsg}`)\n      return false\n    }\n  }\n\n  private async sendStreamCommand(command: string, data?: any) {\n    if (!this.connectionPool.primary) return\n\n    try {\n      // Per Icecast, i comandi vengono gestiti tramite parametri URL o headers\n      const url = new URL(this.connectionPool.primary as string)\n      \n      // Aggiungi parametri per comandi Icecast\n      if (command === 'start') {\n        url.searchParams.set('mode', 'updinfo')\n        if (data?.bitrate) url.searchParams.set('bitrate', data.bitrate.toString())\n        if (data?.format) url.searchParams.set('format', data.format)\n      } else if (command === 'stop') {\n        url.searchParams.set('mode', 'updinfo')\n        url.searchParams.set('action', 'stop')\n      } else if (command === 'pause') {\n        url.searchParams.set('mode', 'updinfo')\n        url.searchParams.set('action', 'pause')\n      } else if (command === 'resume') {\n        url.searchParams.set('mode', 'updinfo')\n        url.searchParams.set('action', 'resume')\n      }\n\n      const response = await fetch(url.toString(), {\n        method: 'GET',\n        signal: AbortSignal.timeout(5000)\n      })\n\n      if (response.ok) {\n        console.log(` [STREAM] Comando ${command} inviato con successo`)\n      } else {\n        console.warn(` [STREAM] Comando ${command} fallito: ${response.status}`)\n      }\n    } catch (error) {\n      console.error(` [STREAM] Errore invio comando ${command}:`, error)\n    }\n  }\n\n  stopStreaming() {\n    this.isStreaming = false\n    this.isPaused = false\n    \n    // Invia comando di stop al server\n    this.sendStreamCommand('stop')\n    \n    // Ferma monitoraggio audio\n    this.stopSilenceDetection()\n    this.stopAudioMonitoring()\n    this.clearTimers()\n    \n    this.addNotification('info', 'Streaming Fermato', 'Trasmissione audio fermata')\n    this.updateStatus('connected')\n  }\n\n  // ===== PAUSA/RIPRENDI (NON TOCCARE IL SISTEMA ESISTENTE) =====\n  \n  pauseStreaming() {\n    if (!this.isStreaming) return\n    \n    this.isPaused = true\n    \n    //  FIX: Traccia timestamp preciso della pausa\n    this.pauseTimestamp = Date.now()\n    console.log(` [STREAMING] Pausa timestamp: ${this.pauseTimestamp}`)\n    \n    //  FIX: Ferma COMPLETAMENTE MediaRecorder per bloccare il loop\n    this.stopMediaRecorder()\n    console.log(' [STREAMING] MediaRecorder fermato completamente - nessun loop')\n    \n    //  FIX: Disconnetti audio source\n    this.disconnectAudioSource()\n    console.log(' [STREAMING] Audio source disconnesso')\n    \n    //  FIX: Metti in pausa l'audio del deck che viene catturato\n    this.pauseDeckAudio()\n    console.log(' [STREAMING] Audio deck messo in pausa - sincronizzazione locale/streaming')\n    \n    this.addNotification('info', 'Streaming Pausato', 'Trasmissione in pausa - audio sincronizzato')\n    console.log(' [STREAMING] Streaming messo in pausa - audio sincronizzato')\n    \n    // Avvia timer per disconnessione automatica se pausa > 30s\n    this.startPauseTimeout()\n  }\n\n  resumeStreaming() {\n    if (!this.isStreaming || !this.isPaused) return\n    \n    this.isPaused = false\n    \n    //  FIX: Traccia timestamp preciso della ripresa\n    this.resumeTimestamp = Date.now()\n    const pauseDuration = this.resumeTimestamp - this.pauseTimestamp\n    console.log(` [STREAMING] Ripresa timestamp: ${this.resumeTimestamp}`)\n    console.log(` [STREAMING] Durata pausa: ${pauseDuration}ms`)\n    \n    //  FIX: Riprendi l'audio del deck che viene catturato\n    this.resumeDeckAudio()\n    console.log(' [STREAMING] Audio deck ripreso - sincronizzazione locale/streaming')\n    \n    //  FIX: Riconnetti audio source per riprendere lo streaming\n    if (this.currentStream) {\n      this.connectAudioSource(this.currentStream)\n      console.log(' [STREAMING] Audio source riconnesso per riprendere streaming')\n    }\n    \n    //  FIX: Riavvia MediaRecorder per riprendere lo streaming\n    if (this.currentStream) {\n      this.startMediaRecorder(this.currentStream)\n      console.log(' [STREAMING] MediaRecorder riavviato per riprendere streaming')\n    }\n    \n    this.addNotification('success', 'Streaming Ripreso', `Trasmissione ripresa - audio sincronizzato - pausa: ${pauseDuration}ms`)\n    console.log(' [STREAMING] Streaming ripreso - audio sincronizzato')\n    \n    // Ferma timer di disconnessione per pausa\n    this.clearPauseTimeout()\n    \n    // Riavvia rilevamento silenzio\n    this.startSilenceDetection()\n  }\n\n  // ===== CONTROLLO AUDIO DECK =====\n  \n  private pauseDeckAudio() {\n    try {\n      //  FIX: Metti in pausa l'audio del deck che viene catturato per lo streaming\n      // Questo garantisce che quando mettiamo in pausa lo streaming, anche l'audio locale si fermi\n      \n      // Controlla se abbiamo accesso al globalAudioContext\n      if (typeof (window as any).globalAudioContext !== 'undefined') {\n        const audioContext = (window as any).globalAudioContext\n        const mixerGain = (window as any).globalMixerGain\n        \n        if (audioContext && mixerGain) {\n          // Metti in pausa il mixer gain per fermare l'audio\n          mixerGain.gain.setValueAtTime(0, audioContext.currentTime)\n          console.log(' [DECK AUDIO] Mixer gain messo a 0 - audio deck in pausa')\n        }\n      }\n      \n      // Controlla se abbiamo accesso agli elementi audio del deck\n      if (typeof (window as any).leftStreamAudio !== 'undefined') {\n        const leftAudio = (window as any).leftStreamAudio\n        if (leftAudio && !leftAudio.paused) {\n          leftAudio.pause()\n          console.log(' [DECK AUDIO] Left deck audio messo in pausa')\n        }\n      }\n      \n      if (typeof (window as any).rightStreamAudio !== 'undefined') {\n        const rightAudio = (window as any).rightStreamAudio\n        if (rightAudio && !rightAudio.paused) {\n          rightAudio.pause()\n          console.log(' [DECK AUDIO] Right deck audio messo in pausa')\n        }\n      }\n      \n    } catch (error) {\n      console.error(' [DECK AUDIO] Errore pausa audio deck:', error)\n    }\n  }\n  \n  private resumeDeckAudio() {\n    try {\n      //  FIX: Riprendi l'audio del deck che viene catturato per lo streaming\n      // Questo garantisce che quando riprendiamo lo streaming, anche l'audio locale riprenda\n      \n      // Controlla se abbiamo accesso al globalAudioContext\n      if (typeof (window as any).globalAudioContext !== 'undefined') {\n        const audioContext = (window as any).globalAudioContext\n        const mixerGain = (window as any).globalMixerGain\n        \n        if (audioContext && mixerGain) {\n          // Riprendi il mixer gain per riattivare l'audio\n          mixerGain.gain.setValueAtTime(1.0, audioContext.currentTime)\n          console.log(' [DECK AUDIO] Mixer gain ripristinato a 1.0 - audio deck ripreso')\n        }\n      }\n      \n      // Controlla se abbiamo accesso agli elementi audio del deck\n      if (typeof (window as any).leftStreamAudio !== 'undefined') {\n        const leftAudio = (window as any).leftStreamAudio\n        if (leftAudio && leftAudio.paused) {\n          leftAudio.play()\n          console.log(' [DECK AUDIO] Left deck audio ripreso')\n        }\n      }\n      \n      if (typeof (window as any).rightStreamAudio !== 'undefined') {\n        const rightAudio = (window as any).rightStreamAudio\n        if (rightAudio && rightAudio.paused) {\n          rightAudio.play()\n          console.log(' [DECK AUDIO] Right deck audio ripreso')\n        }\n      }\n      \n    } catch (error) {\n      console.error(' [DECK AUDIO] Errore ripresa audio deck:', error)\n    }\n  }\n\n  // ===== MONITORAGGIO AUDIO E SILENZIO =====\n  \n  private startAudioMonitoring() {\n    if (this.monitoringInterval) return\n    \n    // Inizializza analisi audio\n    this.initializeAudioAnalysis()\n    \n    this.monitoringInterval = setInterval(() => {\n      this.checkAudioLevel()\n    }, 100) // Controlla ogni 100ms per analisi pi precisa\n  }\n\n  private initializeAudioAnalysis() {\n    try {\n      // Crea AudioContext se non esiste\n      if (!this.audioContext) {\n        this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\n      }\n      \n      // Crea AnalyserNode\n      this.analyser = this.audioContext.createAnalyser()\n      this.analyser.fftSize = 2048\n      this.analyser.smoothingTimeConstant = 0.8\n      \n      // Crea array per i dati di frequenza\n      const bufferLength = this.analyser.frequencyBinCount\n      this.dataArray = new Uint8Array(bufferLength)\n      \n      console.log(` [AUDIO] Analisi audio inizializzata (buffer: ${bufferLength})`)\n    } catch (error) {\n      console.error(` [AUDIO] Errore inizializzazione analisi:`, error)\n    }\n  }\n\n  public connectDirectly(audioContext: AudioContext, mixerGain: GainNode) {\n    console.log(` [DIRECT] Connessione diretta analyser al mixer...`)\n    \n    try {\n      //  Inizializza analyser se non presente\n      if (!this.analyser) {\n        this.audioContext = audioContext\n        this.analyser = this.audioContext.createAnalyser()\n        this.analyser.fftSize = 1024\n        const bufferLength = this.analyser.frequencyBinCount\n        this.dataArray = new Uint8Array(bufferLength)\n        console.log(` [DIRECT] Analyser inizializzato (buffer: ${bufferLength})`)\n      }\n      \n      //  CRITICAL FIX: Connetti l'analyser in parallelo al mixer\n      mixerGain.connect(this.analyser)\n      \n      console.log(` [DIRECT] Analyser connesso DIRETTAMENTE al mixer globale`)\n      console.log(` [DIRECT] AudioContext:`, audioContext)\n      console.log(` [DIRECT] MixerGain:`, mixerGain)\n      \n      //  Avvia immediatamente il monitoraggio audio\n      this.startAudioMonitoring()\n      \n    } catch (error) {\n      console.error(` [DIRECT] Errore connessione diretta:`, error)\n    }\n  }\n\n  public connectAudioSource(stream: MediaStream) {\n    console.log(` [AUDIO] Connessione sorgente audio per analisi...`)\n    console.log(` [AUDIO DEBUG] Stream ricevuto:`, {\n      type: typeof stream,\n      isMediaStream: stream instanceof MediaStream,\n      active: stream.active,\n      id: stream.id,\n      tracks: stream.getTracks().length,\n      audioTracks: stream.getAudioTracks().length,\n      videoTracks: stream.getVideoTracks().length\n    })\n    \n    if (!this.audioContext || !this.analyser) {\n      this.initializeAudioAnalysis()\n    }\n    \n    if (!this.audioContext || !this.analyser) {\n      console.error(` [AUDIO] AudioContext o Analyser non disponibili`)\n      return\n    }\n    \n    try {\n      //  CRITICAL FIX: Usa l'AudioContext GLOBALE invece di quello locale\n      const globalAudioContext = (window as any).globalAudioContext\n      if (!globalAudioContext) {\n        console.error(` [AUDIO] AudioContext globale non disponibile - STATO DEBUG:`, {\n          globalAudioContext: (window as any).globalAudioContext,\n          globalMixerGain: (window as any).globalMixerGain,\n          currentMixerGain: (window as any).currentMixerGain,\n          currentMixContext: (window as any).currentMixContext\n        })\n        \n        //  FALLBACK: Usa il sistema attuale se globale non disponibile\n        console.log(` [AUDIO] Fallback al sistema MediaStream originale...`)\n        const source = this.audioContext.createMediaStreamSource(stream)\n        source.connect(this.analyser)\n        console.log(` [AUDIO] Fallback - Sorgente audio connessa per analisi`)\n        return\n      }\n      \n      //  CRITICAL FIX: Connetti l'analyser direttamente al mixer globale\n      // Ottieni il riferimento al mixerGain globale\n      const globalMixerGain = (window as any).globalMixerGain\n      if (!globalMixerGain) {\n        console.error(` [AUDIO] MixerGain globale non disponibile`)\n        \n        //  FALLBACK: Usa il sistema attuale se globale non disponibile\n        console.log(` [AUDIO] Fallback al sistema MediaStream originale...`)\n        const source = this.audioContext.createMediaStreamSource(stream)\n        source.connect(this.analyser)\n        console.log(` [AUDIO] Fallback - Sorgente audio connessa per analisi`)\n        return\n      }\n      \n      //  Ricrea analyser con l'AudioContext globale\n      this.audioContext = globalAudioContext\n      this.analyser = this.audioContext.createAnalyser()\n      this.analyser.fftSize = 1024\n      const bufferLength = this.analyser.frequencyBinCount\n      this.dataArray = new Uint8Array(bufferLength)\n      \n      //  CRITICAL FIX: Connetti l'analyser in parallelo al mixer\n      globalMixerGain.connect(this.analyser)\n      \n      console.log(` [AUDIO] Analyser connesso DIRETTAMENTE al mixer globale`)\n      console.log(` [AUDIO] AudioContext globale:`, globalAudioContext)\n      console.log(` [AUDIO] MixerGain globale:`, globalMixerGain)\n    } catch (error) {\n      console.error(` [AUDIO] Errore connessione sorgente:`, error)\n    }\n  }\n\n  private stopAudioMonitoring() {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval)\n      this.monitoringInterval = null\n    }\n  }\n\n  private checkAudioLevel() {\n    if (!this.analyser || !this.dataArray) return\n\n    // Analisi audio reale\n    this.analyser.getByteFrequencyData(this.dataArray)\n    \n    // Calcola RMS (Root Mean Square) per livello audio\n    let sum = 0\n    let peak = 0\n    for (let i = 0; i < this.dataArray.length; i++) {\n      const value = this.dataArray[i]\n      sum += value * value\n      peak = Math.max(peak, value)\n    }\n    \n    const rms = Math.sqrt(sum / this.dataArray.length)\n    const level = rms / 255 // Normalizza tra 0 e 1\n    \n    // Aggiorna analisi audio\n    this.audioAnalysis.level = level\n    this.audioAnalysis.peak = peak / 255\n    this.audioAnalysis.rms = rms\n    this.audioAnalysis.hasAudio = level > 0.01 // Soglia minima per considerare audio presente\n    \n    // Debug: Log ogni 5 secondi per verificare rilevamento audio\n    if (Date.now() % 5000 < 100) {\n      console.log(` [AUDIO DEBUG] Level: ${level.toFixed(4)}, Peak: ${(peak/255).toFixed(4)}, HasAudio: ${this.audioAnalysis.hasAudio}`)\n    }\n    \n    // Calcola frequenza dominante\n    this.audioAnalysis.frequency = this.calculateDominantFrequency()\n    \n    //  RIMOSSO: Sistema di rilevamento silenzio che interferiva con lo streaming live\n    // Il sistema ora continua a trasmettere senza disconnessioni automatiche per silenzio\n    \n    // Aggiorna sempre le statistiche\n    this.updateStreamQuality(level)\n  }\n\n  private calculateDominantFrequency(): number {\n    if (!this.analyser || !this.dataArray) return 0\n    \n    this.analyser.getByteFrequencyData(this.dataArray)\n    \n    let maxValue = 0\n    let maxIndex = 0\n    \n    for (let i = 0; i < this.dataArray.length; i++) {\n      if (this.dataArray[i] > maxValue) {\n        maxValue = this.dataArray[i]\n        maxIndex = i\n      }\n    }\n    \n    // Converte indice in frequenza\n    const nyquist = this.analyser.context.sampleRate / 2\n    return (maxIndex / this.dataArray.length) * nyquist\n  }\n\n  private updateStreamQuality(level: number) {\n    // Calcola qualit connessione basata su livello audio e latenza\n    const latency = this.calculateLatency()\n    const packetLoss = this.calculatePacketLoss()\n    \n    // Score qualit (0-100)\n    let qualityScore = 100\n    \n    // Penalizza per basso livello audio\n    if (level < 0.1) qualityScore -= 20\n    else if (level < 0.3) qualityScore -= 10\n    \n    // Penalizza per alta latenza\n    if (latency > 1000) qualityScore -= 30\n    else if (latency > 500) qualityScore -= 15\n    else if (latency > 200) qualityScore -= 5\n    \n    // Penalizza per perdita pacchetti\n    if (packetLoss > 0.1) qualityScore -= 40\n    else if (packetLoss > 0.05) qualityScore -= 20\n    else if (packetLoss > 0.01) qualityScore -= 10\n    \n    this.statistics.qualityScore = Math.max(0, qualityScore)\n    \n    // Aggiorna stato qualit connessione\n    if (qualityScore >= 90) this.streamStatus.connectionQuality = 'excellent'\n    else if (qualityScore >= 70) this.streamStatus.connectionQuality = 'good'\n    else if (qualityScore >= 50) this.streamStatus.connectionQuality = 'fair'\n    else if (qualityScore >= 30) this.streamStatus.connectionQuality = 'poor'\n    else this.streamStatus.connectionQuality = 'critical'\n  }\n\n  private calculateLatency(): number {\n    if (this.lastPingTime === 0) return 0\n    return Date.now() - this.lastPingTime\n  }\n\n  private calculatePacketLoss(): number {\n    if (this.statistics.totalPacketsSent === 0) return 0\n    return this.statistics.totalErrors / this.statistics.totalPacketsSent\n  }\n\n  private updateStatistics() {\n    // Aggiorna uptime\n    if (this.connectionStartTime > 0) {\n      this.statistics.connectionUptime = Date.now() - this.connectionStartTime\n      this.streamStatus.uptime = this.statistics.connectionUptime\n    }\n    \n    // Aggiorna bitrate medio\n    if (this.statistics.connectionUptime > 0) {\n      this.statistics.averageBitrate = (this.statistics.totalBytesSent * 8) / (this.statistics.connectionUptime / 1000)\n      this.streamStatus.bitrate = this.statistics.averageBitrate\n    }\n    \n    // Aggiorna latenza e packet loss\n    this.streamStatus.latency = this.calculateLatency()\n    this.streamStatus.packetLoss = this.calculatePacketLoss()\n    \n    // Notifica callback statistiche\n    if (this.statsCallback) {\n      this.statsCallback({ ...this.statistics })\n    }\n  }\n\n  private startSilenceDetection() {\n    this.clearSilenceTimeout()\n    this.lastAudioTime = Date.now()\n  }\n\n  private stopSilenceDetection() {\n    this.clearSilenceTimeout()\n  }\n\n  private clearSilenceTimeout() {\n    if (this.silenceTimer) {\n      clearTimeout(this.silenceTimer)\n      this.silenceTimer = null\n    }\n  }\n\n  //  RIMOSSO: handleSilenceTimeout - Sistema di rilevamento silenzio disabilitato per streaming live\n\n  // ===== MEDIARECORDER =====\n  \n  private mediaRecorder: MediaRecorder | null = null\n  \n  private startMediaRecorder(stream: MediaStream) {\n    try {\n      console.log(' [MEDIARECORDER] Avvio MediaRecorder...')\n      \n      //  Crea MediaRecorder con formato compatibile con FFmpeg\n      let mimeType = 'audio/webm; codecs=opus'\n      let audioBitsPerSecond = 128000\n      \n      //  Sincronizza con il formato delle impostazioni\n      if (this.config?.format === 'mp3') {\n        // Per MP3, usa WebM con OPUS (FFmpeg convertir)\n        mimeType = 'audio/webm; codecs=opus'\n        audioBitsPerSecond = 128000\n      } else if (this.config?.format === 'aac') {\n        // Per AAC, usa WebM con OPUS\n        mimeType = 'audio/webm; codecs=opus'\n        audioBitsPerSecond = 128000\n      }\n      \n      console.log(' [MEDIARECORDER] Configurazione:', { mimeType, audioBitsPerSecond, format: this.config?.format })\n      \n      this.mediaRecorder = new MediaRecorder(stream, {\n        mimeType,\n        audioBitsPerSecond\n      })\n      \n      // Gestisce i chunk audio\n      this.mediaRecorder.ondataavailable = async (event) => {\n        if (event.data && event.data.size > 0) {\n          //  FIX: Traccia timestamp preciso del chunk\n          this.chunkTimestamp = Date.now()\n          console.log(` [MEDIARECORDER] Chunk ricevuto: ${event.data.size} bytes - timestamp: ${this.chunkTimestamp}`)\n          \n          //  CONTROLLO PAUSA: MediaRecorder viene fermato durante la pausa\n          // Non serve controllare isPaused qui perch MediaRecorder  fermo\n          \n          //  CONVERTI BLOB IN ARRAYBUFFER per evitare errori di clonazione\n          try {\n            const arrayBuffer = await event.data.arrayBuffer()\n            const uint8Array = new Uint8Array(arrayBuffer)\n            \n            //  FIX: Usa desktopStream se disponibile, altrimenti electronAPI\n            if (this.useDesktopStream && typeof (window as any).desktopStream?.write === 'function') {\n              (window as any).desktopStream.write(arrayBuffer)\n              console.log(` [DESKTOPSTREAM] Chunk inviato: ${uint8Array.length} bytes`)\n            } else if (typeof (window as any).electronAPI?.send === 'function') {\n              (window as any).electronAPI.send('icecast-write-chunk', uint8Array)\n              console.log(` [ELECTRONAPI] Chunk inviato: ${uint8Array.length} bytes`)\n            }\n          } catch (error) {\n            console.error(' [MEDIARECORDER] Errore conversione chunk:', error)\n          }\n        }\n      }\n      \n      // Gestisce errori\n      this.mediaRecorder.onerror = (event) => {\n        console.error(' [MEDIARECORDER] Errore:', event)\n        this.addNotification('error', 'Errore MediaRecorder', 'Errore nella cattura audio')\n      }\n      \n      // Avvia registrazione con chunk frequenti per streaming continuo\n      this.mediaRecorder.start(100) // Chunk ogni 100ms per streaming fluido\n      \n      console.log(' [MEDIARECORDER] MediaRecorder avviato con successo')\n      \n    } catch (error) {\n      console.error(' [MEDIARECORDER] Errore avvio:', error)\n      this.addNotification('error', 'Errore MediaRecorder', `Impossibile avviare cattura audio: ${error}`)\n    }\n  }\n  \n  private stopMediaRecorder() {\n    if (this.mediaRecorder) {\n      try {\n        //  FIX: Svuota il buffer prima di fermare\n        this.mediaRecorder.requestData()\n        this.mediaRecorder.stop()\n        this.mediaRecorder = null\n        console.log(' [MEDIARECORDER] MediaRecorder fermato e buffer svuotato')\n      } catch (error) {\n        console.error(' [MEDIARECORDER] Errore stop:', error)\n      }\n    }\n  }\n  \n  //  RIMOSSO: sendSilenceChunk - non pi necessario\n  // MediaRecorder viene fermato/riavviato durante pausa/ripresa\n  \n\n  // ===== TIMEOUT PAUSA =====\n  \n  //  RIMOSSO: startPauseTimeout - Sistema di timeout pausa disabilitato per streaming live\n  private startPauseTimeout() {\n    // Disabilitato per permettere streaming continuo\n  }\n\n  private clearPauseTimeout() {\n    if (this.pauseTimer) {\n      clearTimeout(this.pauseTimer)\n      this.pauseTimer = null\n    }\n  }\n\n  private clearTimers() {\n    this.clearSilenceTimeout()\n    this.clearPauseTimeout()\n  }\n\n  // ===== METADATA AVANZATI =====\n  \n  updateMetadata(metadata: StreamMetadata) {\n    this.lastMetadata = metadata\n    console.log(' Metadata aggiornati:', metadata)\n    \n    // Invia metadati al server se connesso\n    if (this.isConnected && this.connectionPool.primary) {\n      this.sendMetadataToServer(metadata)\n    }\n  }\n\n  private async sendMetadataToServer(metadata: StreamMetadata) {\n    if (!this.connectionPool.primary) return\n\n    try {\n      // Per Icecast, i metadati vengono inviati via HTTP POST\n      const url = new URL(this.connectionPool.primary as string)\n      url.searchParams.set('mode', 'updinfo')\n      \n      // Crea payload metadati per Icecast (solo stringhe)\n      const icecastMetadata: Record<string, string> = {\n        song: `${metadata.artist} - ${metadata.title}`,\n        title: metadata.title,\n        artist: metadata.artist,\n        album: metadata.album,\n        genre: metadata.genre\n      }\n\n      // Aggiungi campi opzionali solo se definiti\n      if (metadata.year) icecastMetadata.year = metadata.year\n      if (metadata.comment) icecastMetadata.comment = metadata.comment\n      if (metadata.url) icecastMetadata.url = metadata.url\n\n      const response = await fetch(url.toString(), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          'Authorization': `Basic ${btoa(`${this.config?.username}:${this.config?.password}`)}`\n        },\n        body: new URLSearchParams(icecastMetadata).toString(),\n        signal: AbortSignal.timeout(5000)\n      })\n\n      if (response.ok) {\n        console.log(' [METADATA] Inviato al server Icecast:', metadata)\n      } else {\n        console.warn(` [METADATA] Invio fallito: ${response.status}`)\n      }\n    } catch (error) {\n      console.error(' [METADATA] Errore invio:', error)\n    }\n  }\n\n  getLastMetadata(): StreamMetadata | null {\n    return this.lastMetadata\n  }\n\n  // ===== STATISTICHE E MONITORAGGIO =====\n  \n  getStatistics(): StreamStatistics {\n    return { ...this.statistics }\n  }\n\n  getStreamStatus(): StreamStatus {\n    return { ...this.streamStatus }\n  }\n\n  getAudioAnalysis(): AudioAnalysis {\n    return { ...this.audioAnalysis }\n  }\n\n  // ===== CONTROLLI AVANZATI =====\n  \n  setAutoReconnect(enabled: boolean) {\n    this.autoReconnect = enabled\n    console.log(` [RECONNECT] Auto-reconnect ${enabled ? 'abilitato' : 'disabilitato'}`)\n  }\n\n  setSilenceThreshold(threshold: number) {\n    this.silenceThreshold = threshold\n    console.log(` [SILENCE] Soglia silenzio impostata a ${threshold}ms`)\n  }\n\n  setPauseThreshold(threshold: number) {\n    this.pauseThreshold = threshold\n    console.log(` [PAUSE] Soglia pausa impostata a ${threshold}ms`)\n  }\n\n  // ===== DIAGNOSTICA =====\n  \n  getDiagnostics() {\n    return {\n      connection: {\n        isConnected: this.isConnected,\n        isStreaming: this.isStreaming,\n        isPaused: this.isPaused,\n        quality: this.streamStatus.connectionQuality,\n        uptime: this.streamStatus.uptime,\n        latency: this.streamStatus.latency,\n        packetLoss: this.streamStatus.packetLoss\n      },\n      audio: {\n        level: this.audioAnalysis.level,\n        peak: this.audioAnalysis.peak,\n        rms: this.audioAnalysis.rms,\n        frequency: this.audioAnalysis.frequency,\n        hasAudio: this.audioAnalysis.hasAudio,\n        silenceDuration: this.audioAnalysis.silenceDuration\n      },\n      statistics: this.statistics,\n      config: this.config\n    }\n  }\n\n  // ===== GESTIONE CONNESSIONE =====\n  \n  forceReconnect() {\n    console.log(' [RECONNECT] Riconnessione forzata richiesta')\n    this.disconnect()\n    setTimeout(() => {\n      this.connect()\n    }, 1000)\n  }\n\n  switchToBackup() {\n    if (this.connectionPool.backup) {\n      this.connectionPool.isPrimaryActive = false\n      this.connectionPool.failoverCount++\n      this.connectionPool.lastFailover = Date.now()\n      \n      // Scambia primary e backup\n      const temp = this.connectionPool.primary\n      this.connectionPool.primary = this.connectionPool.backup\n      this.connectionPool.backup = temp\n      \n      console.log(' [FAILOVER] Passaggio a connessione di backup')\n      this.addNotification('warning', 'Failover', 'Passaggio a connessione di backup')\n    }\n  }\n\n  // ===== UTILITY =====\n  \n  isCurrentlyStreaming(): boolean {\n    return this.isStreaming && !this.isPaused\n  }\n\n  getStreamUrl(): string {\n    if (!this.config) return ''\n    const protocol = this.config.useSSL ? 'https' : 'http'\n    return `${protocol}://${this.config.host}:${this.config.port}${this.config.mountpoint}`\n  }\n\n  getPublicStreamUrl(): string {\n    return this.getStreamUrl()\n  }\n\n  getHttpBaseUrl(): string {\n    if (!this.config) return ''\n    const protocol = this.config.useSSL ? 'https' : 'http'\n    return `${protocol}://${this.config.host}:${this.config.port}`\n  }\n\n  getServerUrl(): string {\n    return this.serverUrl\n  }\n\n  // ===== NOTIFICHE =====\n  \n  private addNotification(type: 'success' | 'error' | 'info' | 'warning', title: string, message: string) {\n    console.log(` [${type.toUpperCase()}] ${title}: ${message}`)\n    \n    // Usa il sistema di notifiche esistente\n    if (typeof window !== 'undefined' && (window as any).addStreamingNotification) {\n      (window as any).addStreamingNotification(type, title, message, 'streaming')\n    }\n    \n    // Aggiorna callback di debug\n    this.debugCallback?.(`[${type.toUpperCase()}] ${title}: ${message}`)\n  }\n\n  private updateStatus(status: string) {\n    this.statusCallback?.(status)\n  }\n\n  // ===== COMPATIBILIT =====\n  \n  async updateStream(_stream: MediaStream): Promise<boolean> {\n    if (!this.isStreaming) return false\n    \n    console.log(' Stream aggiornato')\n \n    return true\n  }\n}","import React, { useState, useEffect } from 'react'\nimport { Radio, Mic, MicOff, Play, Square, Settings, Wifi, WifiOff, Volume2 } from 'lucide-react'\nimport { StreamingManager, StreamMetadata } from '../audio/StreamingManager'\nimport { localDatabase } from '../database/LocalDatabase'\nimport { useAudio } from '../contexts/AudioContext'\nimport { useSettings } from '../contexts/SettingsContext'\n\ninterface StreamingControlProps {\n  onStreamStart?: (streamUrl: string) => void\n  onStreamStop?: () => void\n  onMetadataUpdate?: (metadata: StreamMetadata) => void\n}\n\nconst StreamingControl: React.FC<StreamingControlProps> = ({\n  onStreamStart,\n  onStreamStop,\n  onMetadataUpdate\n}) => {\n  const [streamingManager] = useState(() => new StreamingManager())\n  const { getMixedStream, audioState } = useAudio()\n  const { settings } = useSettings()\n  const [isConnected, setIsConnected] = useState(false)\n  const [isStreaming, setIsStreaming] = useState(false)\n  const [streamStatus, setStreamStatus] = useState('disconnected')\n  const [streamStats, setStreamStats] = useState<any>(null)\n  // Debug state\n  const [debugLines, setDebugLines] = useState<string[]>([])\n  const [metadata, setMetadata] = useState<StreamMetadata>({\n    title: 'DJ Console Pro',\n    artist: 'Live Stream',\n    album: 'Live Session',\n    genre: 'Electronic'\n  })\n  //  Usa i settings invece di valori hardcoded\n  const [format, setFormat] = useState<'mp3' | 'ogg' | 'aac' | 'opus'>(settings.streaming?.defaultFormat || 'opus')\n  const [bitrate, setBitrate] = useState<number>(settings.streaming?.defaultBitrate || 128)\n  const [sendMic, setSendMic] = useState(false)  // Disabilitato di default per evitare feedback\n  const [lastMeta, setLastMeta] = useState<StreamMetadata | null>(null)\n\n  //  Sincronizza con i settings quando cambiano\n  useEffect(() => {\n    const newFormat = settings.streaming?.defaultFormat || 'opus'\n    const newBitrate = settings.streaming?.defaultBitrate || 128\n    console.log(' [STREAMING] Settings cambiati:', { format: newFormat, bitrate: newBitrate })\n    setFormat(newFormat)\n    setBitrate(newBitrate)\n    \n    //  AGGIORNA IMMEDIATAMENTE il formato nel streamingManager\n    ;(streamingManager as any)._desiredFormat = newFormat\n    ;(streamingManager as any)._desiredBitrate = newBitrate\n    console.log(' [STREAMING] StreamingManager aggiornato con formato:', newFormat, 'bitrate:', newBitrate)\n  }, [settings.streaming?.defaultFormat, settings.streaming?.defaultBitrate])\n\n  useEffect(() => {\n    // Initialize server URL, credentials and streaming settings from Settings\n    (async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        // In Electron non esistono hostname/porta utili per il file://; default sensato: ws://127.0.0.1:8000\n        const isElectron = !!((window as any).fileStore) || ((typeof navigator !== 'undefined' && (navigator.userAgent || '').includes('Electron')))\n        let defaultWs = `ws://127.0.0.1:8000`\n        if (!isElectron) {\n          defaultWs = `${window.location.protocol === 'https:' ? 'wss' : 'ws'}://${window.location.hostname}:8000`\n        }\n        let wsUrl = (s.streaming.bridgeUrl && s.streaming.bridgeUrl.length > 0) ? s.streaming.bridgeUrl : defaultWs\n        streamingManager.setServerUrl(wsUrl)\n        streamingManager.setCredentials({\n          host: s.streaming.icecast.host,\n          port: s.streaming.icecast.port,\n          username: s.streaming.icecast.username,\n          password: s.streaming.icecast.password,\n          mountpoint: s.streaming.icecast.mount,\n          useSSL: !!s.streaming.icecast.useSSL\n        })\n        \n        // Carica valori streaming dai settings\n        setFormat(s.streaming.defaultFormat as any || 'opus')\n        setBitrate(s.streaming.defaultBitrate || 128)\n      } catch (e) {\n        // ignore\n      }\n    })()\n\n    // React to settings changes at runtime\n    const onDbUpdated = async (evt: Event) => {\n      try {\n        const anyEvt: any = evt\n        if (anyEvt?.detail?.kind && anyEvt.detail.kind !== 'settings') return\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        const isElectron = !!((window as any).fileStore) || ((typeof navigator !== 'undefined' && (navigator.userAgent || '').includes('Electron')))\n        let defaultWs = `ws://127.0.0.1:8000`\n        if (!isElectron) {\n          defaultWs = `${window.location.protocol === 'https:' ? 'wss' : 'ws'}://${window.location.hostname}:8000`\n        }\n        const wsUrl = (s.streaming.bridgeUrl && s.streaming.bridgeUrl.length > 0) ? s.streaming.bridgeUrl : defaultWs\n        streamingManager.setServerUrl(wsUrl)\n        \n        //  USA SERVER DI DEFAULT SELEZIONATO\n        const defaultServer = await localDatabase.getDefaultIcecastServer()\n        if (defaultServer) {\n          streamingManager.setCredentials({\n            host: defaultServer.host,\n            port: defaultServer.port,\n            username: defaultServer.username,\n            password: defaultServer.password,\n            mountpoint: defaultServer.mount,\n            useSSL: !!defaultServer.useSSL\n          })\n          setDebugLines(prev => [\n            `Settings reloaded: WS=${wsUrl} host=${defaultServer.host}:${defaultServer.port} mount=${defaultServer.mount} [${defaultServer.name}]`,\n            ...prev\n          ].slice(0, 20))\n        } else {\n          // Fallback ai settings legacy se non ci sono server configurati\n          streamingManager.setCredentials({\n            host: s.streaming.icecast?.host || 'localhost',\n            port: s.streaming.icecast?.port || 5040,\n            username: s.streaming.icecast?.username || 'source',\n            password: s.streaming.icecast?.password || '',\n            mountpoint: s.streaming.icecast?.mount || '/stream',\n            useSSL: !!s.streaming.icecast?.useSSL\n          })\n          setDebugLines(prev => [\n            `Settings reloaded: WS=${wsUrl} host=${s.streaming.icecast?.host || 'localhost'}:${s.streaming.icecast?.port || 5040} mount=${s.streaming.icecast?.mount || '/stream'} [LEGACY]`,\n            ...prev\n          ].slice(0, 20))\n        }\n      } catch {}\n    }\n    window.addEventListener('djconsole:db-updated', onDbUpdated as EventListener)\n    \n    //  LISTENER PER CAMBI SERVER ICECAST\n    const onServerUpdated = async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        const defaultServer = await localDatabase.getDefaultIcecastServer()\n        if (defaultServer) {\n          streamingManager.setCredentials({\n            host: defaultServer.host,\n            port: defaultServer.port,\n            username: defaultServer.username,\n            password: defaultServer.password,\n            mountpoint: defaultServer.mount,\n            useSSL: !!defaultServer.useSSL\n          })\n          setDebugLines(prev => [\n            `Server updated: ${defaultServer.name} (${defaultServer.host}:${defaultServer.port}${defaultServer.mount})`,\n            ...prev\n          ].slice(0, 20))\n        }\n      } catch (error) {\n        console.error('Error updating server:', error)\n      }\n    }\n    \n    window.addEventListener('djconsole:db-updated', onServerUpdated as EventListener)\n\n    // Set up callbacks\n    streamingManager.setStatusCallback((status) => {\n      setStreamStatus(status)\n      setIsConnected(status === 'connected')\n      setIsStreaming(status === 'streaming')\n      \n      // Emetti evento per sincronizzare con il bellissimo pulsante\n      window.dispatchEvent(new CustomEvent('djconsole:streaming-status-changed', {\n        detail: {\n          status,\n          isStreaming: status === 'streaming',\n          error: null // Resetta errore quando cambia stato\n        }\n      }))\n    })\n\n    streamingManager.setStatsCallback((stats) => {\n      setStreamStats(stats)\n    })\n\n    streamingManager.setDebugCallback((msg) => {\n      setDebugLines(prev => [msg, ...prev].slice(0, 20))\n      \n      // Se il messaggio contiene \"error\" o \"fail\", aggiorna lo stato errore\n      if (msg.toLowerCase().includes('error') || msg.toLowerCase().includes('fail')) {\n        window.dispatchEvent(new CustomEvent('djconsole:streaming-status-changed', {\n          detail: {\n            status: streamStatus,\n            isStreaming: isStreaming,\n            error: msg\n          }\n        }))\n      }\n    })\n\n    return () => {\n      window.removeEventListener('djconsole:db-updated', onDbUpdated as EventListener)\n      window.removeEventListener('djconsole:db-updated', onServerUpdated as EventListener)\n      streamingManager.disconnect()\n    }\n  }, [streamingManager])\n\n  const handleConnect = async () => {\n    try {\n      // Ensure latest settings at connect time\n      try {\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        const isElectron = !!((window as any).fileStore) || ((typeof navigator !== 'undefined' && (navigator.userAgent || '').includes('Electron')))\n        let defaultWs = `ws://127.0.0.1:8000`\n        if (!isElectron) {\n          defaultWs = `${window.location.protocol === 'https:' ? 'wss' : 'ws'}://${window.location.hostname}:8000`\n        }\n        const wsUrl = (s.streaming.bridgeUrl && s.streaming.bridgeUrl.length > 0) ? s.streaming.bridgeUrl : defaultWs\n        streamingManager.setServerUrl(wsUrl)\n        \n        //  USA SERVER DI DEFAULT SELEZIONATO ANCHE AL CONNECT\n        const defaultServer = await localDatabase.getDefaultIcecastServer()\n        if (defaultServer) {\n          streamingManager.setCredentials({\n            host: defaultServer.host,\n            port: defaultServer.port,\n            username: defaultServer.username,\n            password: defaultServer.password,\n            mountpoint: defaultServer.mount,\n            useSSL: !!defaultServer.useSSL\n          })\n          console.log(`Connecting to server: ${defaultServer.name} (${defaultServer.host}:${defaultServer.port}${defaultServer.mount})`)\n        } else {\n          // Fallback ai settings legacy\n          streamingManager.setCredentials({\n            host: s.streaming.icecast?.host || 'localhost',\n            port: s.streaming.icecast?.port || 5040,\n            username: s.streaming.icecast?.username || 'source',\n            password: s.streaming.icecast?.password || '',\n            mountpoint: s.streaming.icecast?.mount || '/stream',\n            useSSL: !!s.streaming.icecast?.useSSL\n          })\n          console.log(`Connecting to legacy server: ${s.streaming.icecast?.host || 'localhost'}:${s.streaming.icecast?.port || 5040}${s.streaming.icecast?.mount || '/stream'}`)\n        }\n      } catch {}\n      const connected = await streamingManager.connect()\n      if (connected) {\n        console.log('Connected to streaming server')\n        // Il callback gestir l'evento automaticamente\n      } else {\n        // Emetti evento di errore connessione\n        window.dispatchEvent(new CustomEvent('djconsole:streaming-status-changed', {\n          detail: {\n            status: 'disconnected',\n            isStreaming: false,\n            error: 'Failed to connect to streaming server'\n          }\n        }))\n      }\n    } catch (error) {\n      console.error('Failed to connect:', error)\n    }\n  }\n\n  const handleDisconnect = () => {\n    streamingManager.disconnect()\n  }\n\n  const handleStartStreaming = async () => {\n    try {\n      // Includi SEMPRE la catena microfono nello stream (gain a 0 se non attivo)\n      const shouldIncludeMic = true\n      const mixed = await getMixedStream(shouldIncludeMic)\n      // Store desired format in credentials (used by main)\n      console.log(' [STREAMING] Avvio streaming con formato:', format, 'bitrate:', bitrate)\n      ;(streamingManager as any)._desiredFormat = format\n      ;(streamingManager as any)._desiredBitrate = bitrate\n      const ok = await streamingManager.startStreaming(mixed)\n      if (!ok) {\n        const errorMsg = 'Start failed: streamingManager.startStreaming returned false'\n        setDebugLines(prev => [ errorMsg, ...prev ].slice(0, 20))\n        \n        // Emetti evento di errore\n        window.dispatchEvent(new CustomEvent('djconsole:streaming-status-changed', {\n          detail: {\n            status: 'connected',\n            isStreaming: false,\n            error: errorMsg\n          }\n        }))\n        return\n      }\n      setIsStreaming(true)\n      onStreamStart?.(streamingManager.getStreamUrl())\n      // Update metadata on server\n      streamingManager.updateMetadata(metadata)\n      setLastMeta(streamingManager.getLastMetadata())\n    } catch (error) {\n      console.error('Failed to start streaming:', error)\n      const errorMsg = `Start error: ${error instanceof Error ? error.message : String(error)}`\n      setDebugLines(prev => [ errorMsg, ...prev ].slice(0, 20))\n      \n      // Emetti evento di errore\n      window.dispatchEvent(new CustomEvent('djconsole:streaming-status-changed', {\n        detail: {\n          status: 'connected',\n          isStreaming: false,\n          error: errorMsg\n        }\n      }))\n    }\n  }\n\n  const handleStopStreaming = () => {\n    streamingManager.stopStreaming()\n    setIsStreaming(false)\n    onStreamStop?.()\n    \n    // Emetti evento di stop\n    window.dispatchEvent(new CustomEvent('djconsole:streaming-status-changed', {\n      detail: {\n        status: 'connected',\n        isStreaming: false,\n        error: null\n      }\n    }))\n  }\n\n  const handleMetadataChange = (field: keyof StreamMetadata, value: string) => {\n    const newMetadata = { ...metadata, [field]: value }\n    setMetadata(newMetadata)\n    \n    if (isStreaming) {\n      streamingManager.updateMetadata(newMetadata)\n      setLastMeta(streamingManager.getLastMetadata())\n    }\n    \n    onMetadataUpdate?.(newMetadata)\n  }\n\n  return (\n    <div className=\"bg-dj-primary rounded-lg p-4 border border-dj-accent/20\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center space-x-2\">\n          <Radio className=\"w-5 h-5 text-dj-highlight\" />\n          <h3 className=\"text-lg font-dj font-bold text-white\">Live Streaming</h3>\n        </div>\n        \n        <div className=\"flex items-center space-x-3\">\n          <div className={`w-3 h-3 rounded-full ${\n            streamStatus === 'connected' ? 'bg-dj-success' :\n            streamStatus === 'streaming' ? 'bg-dj-highlight' :\n            streamStatus === 'error' ? 'bg-dj-error' : 'bg-dj-light/40'\n          }`}></div>\n          <span className=\"text-sm text-dj-light/60 capitalize\">{streamStatus}</span>\n          {isConnected ? (\n            <button\n              onClick={handleDisconnect}\n              className=\"text-xs text-dj-light/70 hover:text-white underline underline-offset-2\"\n            >\n              Disconnect\n            </button>\n          ) : (\n            <button\n              onClick={handleConnect}\n              className=\"text-xs text-dj-light/70 hover:text-white underline underline-offset-2\"\n            >\n              Connect\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Connection Controls */}\n      <div className=\"mb-4\">\n        <div className=\"flex items-center space-x-2 mb-1\">\n          {isConnected ? (\n            <Wifi className=\"w-4 h-4 text-dj-success\" />\n          ) : (\n            <WifiOff className=\"w-4 h-4 text-dj-light/60\" />\n          )}\n          <span className=\"text-sm text-dj-light\">\n            {isConnected ? 'Connected to Server' : 'Not Connected'}\n          </span>\n        </div>\n        <div className=\"text-xs text-dj-light/60 mb-3\">Server: {streamingManager.getServerUrl()}</div>\n        \n        <div className=\"flex space-x-2\">\n          {!isConnected ? (\n            <button\n              onClick={handleConnect}\n              className=\"px-4 py-2 bg-dj-accent hover:bg-dj-highlight text-white rounded-lg transition-all duration-200 flex items-center space-x-2\"\n            >\n              <Wifi className=\"w-4 h-4\" />\n              <span>Connect to Server</span>\n            </button>\n          ) : (\n            <button\n              onClick={handleDisconnect}\n              className=\"px-4 py-2 bg-dj-secondary hover:bg-dj-accent text-dj-light rounded-lg transition-all duration-200 flex items-center space-x-2\"\n            >\n              <WifiOff className=\"w-4 h-4\" />\n              <span>Disconnect</span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Streaming Controls */}\n      {isConnected && (\n        <div className=\"mb-4\">\n          <div className=\"flex items-center space-x-2 mb-3\">\n            <Radio className=\"w-4 h-4 text-dj-highlight\" />\n            <span className=\"text-sm text-dj-light\">Stream Control</span>\n          </div>\n          \n          <div className=\"flex space-x-2\">\n            <label className=\"flex items-center space-x-1 text-xs\">\n              <input type=\"checkbox\" checked={sendMic} onChange={e => setSendMic(e.target.checked)} />\n              <span>Send Mic</span>\n            </label>\n            <div className=\"flex items-center space-x-2 text-xs\">\n              <span>Format</span>\n              <select \n                value={format} \n                onChange={e => setFormat(e.target.value as any)} \n                className=\"dj-input py-1 px-2\"\n                title=\"Select audio format\"\n                aria-label=\"Audio format selection\"\n              >\n                <option value=\"opus\">Opus (Ogg)</option>\n                <option value=\"mp3\">MP3</option>\n                <option value=\"ogg\">Vorbis (Ogg)</option>\n                <option value=\"aac\">AAC</option>\n              </select>\n              <span>Bitrate</span>\n              <select \n                value={bitrate} \n                onChange={e => setBitrate(parseInt(e.target.value))} \n                className=\"dj-input py-1 px-2\"\n                title=\"Select bitrate\"\n                aria-label=\"Bitrate selection\"\n              >\n                <option value={96}>96</option>\n                <option value={128}>128</option>\n                <option value={192}>192</option>\n              </select>\n            </div>\n            {!isStreaming ? (\n              <button\n                onClick={handleStartStreaming}\n                className=\"px-4 py-2 bg-dj-highlight hover:bg-dj-accent text-white rounded-lg transition-all duration-200 flex items-center space-x-2\"\n              >\n                <Play className=\"w-4 h-4\" />\n                <span>Start Streaming</span>\n              </button>\n            ) : (\n              <button\n                onClick={handleStopStreaming}\n                className=\"px-4 py-2 bg-dj-error hover:bg-red-600 text-white rounded-lg transition-all duration-200 flex items-center space-x-2\"\n              >\n                <Square className=\"w-4 h-4\" />\n                <span>Stop Streaming</span>\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Metadata Editor */}\n      {isConnected && (\n        <div className=\"mb-4\">\n          <div className=\"flex items-center space-x-2 mb-3\">\n            <Settings className=\"w-4 h-4 text-dj-accent\" />\n            <span className=\"text-sm text-dj-light\">Stream Metadata</span>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-3\">\n            <div>\n              <label className=\"block text-xs text-dj-light/60 mb-1\">Title</label>\n              <input\n                type=\"text\"\n                value={metadata.title}\n                onChange={(e) => handleMetadataChange('title', e.target.value)}\n                className=\"w-full dj-input bg-dj-secondary border-dj-accent/30 text-sm\"\n                placeholder=\"Track title\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-xs text-dj-light/60 mb-1\">Artist</label>\n              <input\n                type=\"text\"\n                value={metadata.artist}\n                onChange={(e) => handleMetadataChange('artist', e.target.value)}\n                className=\"w-full dj-input bg-dj-secondary border-dj-accent/30 text-sm\"\n                placeholder=\"Artist name\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-xs text-dj-light/60 mb-1\">Album</label>\n              <input\n                type=\"text\"\n                value={metadata.album || ''}\n                onChange={(e) => handleMetadataChange('album', e.target.value)}\n                className=\"w-full dj-input bg-dj-secondary border-dj-accent/30 text-sm\"\n                placeholder=\"Album name\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-xs text-dj-light/60 mb-1\">Genre</label>\n              <input\n                type=\"text\"\n                value={metadata.genre || ''}\n                onChange={(e) => handleMetadataChange('genre', e.target.value)}\n                className=\"w-full dj-input bg-dj-secondary border-dj-accent/30 text-sm\"\n                placeholder=\"Genre\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stream Stats */}\n      {isStreaming && streamStats && (\n        <div className=\"mb-4\">\n          <div className=\"flex items-center space-x-2 mb-3\">\n            <Volume2 className=\"w-4 h-4 text-dj-accent\" />\n            <span className=\"text-sm text-dj-light\">Stream Statistics</span>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span className=\"text-dj-light/60\">Listeners:</span>\n              <span className=\"text-white ml-2\">{streamStats.listeners || 0}</span>\n            </div>\n            <div>\n              <span className=\"text-dj-light/60\">Bitrate:</span>\n              <span className=\"text-white ml-2\">{streamStats.bitrate || 128}kbps</span>\n            </div>\n            <div>\n              <span className=\"text-dj-light/60\">Uptime:</span>\n              <span className=\"text-white ml-2\">{Math.floor(streamStats.uptime / 60)}m</span>\n            </div>\n            <div>\n              <span className=\"text-dj-light/60\">Status:</span>\n              <span className=\"text-dj-success ml-2\">Live</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stream URL */}\n      {isStreaming && (\n        <div className=\"mb-4\">\n          <div className=\"flex items-center space-x-2 mb-3\">\n            <Radio className=\"w-4 h-4 text-dj-highlight\" />\n            <span className=\"text-sm text-dj-light\">Stream URL</span>\n          </div>\n          \n          <div className=\"flex space-x-2\">\n            <input\n              type=\"text\"\n              value={streamingManager.getPublicStreamUrl()}\n              readOnly\n              className=\"flex-1 dj-input bg-dj-secondary border-dj-accent/30 text-sm text-dj-light/60\"\n              title=\"Stream URL for listeners\"\n              aria-label=\"Public stream URL\"\n            />\n            <button\n              onClick={() => navigator.clipboard.writeText(streamingManager.getPublicStreamUrl())}\n              className=\"px-3 py-2 bg-dj-secondary hover:bg-dj-accent text-dj-light rounded transition-all duration-200\"\n            >\n              Copy\n            </button>\n          </div>\n          \n          <p className=\"text-xs text-dj-light/40 mt-2\">\n            Share this URL with your listeners to tune in to your live stream\n          </p>\n\n          <div className=\"mt-3 grid grid-cols-2 gap-2 text-xs text-dj-light/70\">\n            <div>\n              <div className=\"text-dj-light/60\">Last metadata sent</div>\n              <div>Title: {lastMeta?.title || '-'}</div>\n              <div>Artist: {lastMeta?.artist || '-'}</div>\n            </div>\n            <div>\n              <div className=\"text-dj-light/60\">HTTP base</div>\n              <div>{streamingManager.getHttpBaseUrl()}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Debug info removed for clean UI */}\n      {/* Quick Actions */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-2\">\n          <Mic className=\"w-4 h-4 text-dj-accent\" />\n          <span className=\"text-xs text-dj-light/60\">Microphone Active</span>\n        </div>\n        \n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-2 h-2 bg-dj-success rounded-full animate-pulse\"></div>\n          <span className=\"text-xs text-dj-light/60\">Audio Mixing</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default StreamingControl\n","import React, { useEffect, useRef, useState, useMemo, useCallback, memo } from 'react'\nimport { Mic, MicOff } from 'lucide-react'\nimport { useAudio } from '../contexts/AudioContext'\nimport { usePlaylist } from '../contexts/PlaylistContext'\nimport AudioDeck from './AudioDeck'\nimport Crossfader from './Crossfader'\nimport { localDatabase } from '../database/LocalDatabase'\nimport StreamingControl from './StreamingControl'\n\nconst DJConsole = memo(() => {\n  // Sistema di stabilit forzata - evita re-mount COMPLETAMENTE\n  const componentId = useRef(`djconsole-${Math.random().toString(36).substr(2, 9)}`)\n  const isStable = useRef(false)\n  const hasStabilized = useRef(false)\n  \n  // Stabilizza il componente SOLO UNA VOLTA - MAI PI\n  useEffect(() => {\n    if (hasStabilized.current) {\n      console.log(' DJConsole already permanently stabilized, preventing ANY re-mount')\n      return\n    }\n    \n    console.log(' DJConsole permanently stabilizing component:', componentId.current)\n    isStable.current = true\n    hasStabilized.current = true\n    \n    // Forza la stabilit permanente\n    Object.freeze(componentId.current)\n    Object.freeze(isStable.current)\n    Object.freeze(hasStabilized.current)\n  }, [])\n\n  const {\n    state: audioState,\n    playLeftTrack,\n    pauseLeftTrack,\n    resumeLeftTrack,\n    stopLeftTrack,\n    playRightTrack,\n    pauseRightTrack,\n    resumeRightTrack,\n    stopRightTrack,\n    setLeftLocalVolume,\n    setRightLocalVolume,\n    setCrossfader,\n    toggleMicrophone,\n    setStreamDucking\n  } = useAudio()\n  \n\n  const { state: playlistState, reorderPlaylist } = usePlaylist()\n  const [leftTrack, setLeftTrack] = useState<any>(null)\n  const [rightTrack, setRightTrack] = useState<any>(null)\n  const [activePlaylistId, setActivePlaylistId] = useState<string | null>(null)\n  const [activeDeck, setActiveDeck] = useState<'left' | 'right'>('left')\n  // RIMOSSE: Variabili locali non pi necessarie - ora usa AudioContext\n  const [showMicrophone, setShowMicrophone] = useState(false)\n  const [autoAdvance, setAutoAdvance] = useState(true)\n  const pttActiveRef = useRef(false)\n  const micWasActiveBeforePTTRef = useRef(false)\n  const originalVolumeRef = useRef<number | null>(null)\n\n  const loadInProgressRef = useRef(false)\n  \n  // Memoizza le funzioni per evitare re-render\n  const memoizedOnLoad = useCallback((deck: 'left' | 'right', track: any) => {\n    console.log(' [DJConsole] memoizedOnLoad called:', {\n      deck,\n      track: { id: track.id, title: track.title, artist: track.artist },\n      timestamp: new Date().toISOString()\n    })\n    \n    if (loadInProgressRef.current) {\n      console.log(' [DJConsole] Load already in progress, skipping')\n      return\n    }\n    loadInProgressRef.current = true\n    \n    try {\n      const trackToPlay = track\n      \n      if (deck === 'left') {\n        console.log(' [DJConsole] Loading track in LEFT deck')\n        setLeftTrack(trackToPlay)\n        if (trackToPlay?.url) {\n          playLeftTrack({ \n            id: trackToPlay.id, \n            title: trackToPlay.title, \n            artist: trackToPlay.artist, \n            duration: trackToPlay.duration, \n            url: trackToPlay.url \n          })\n        }\n      } else {\n        console.log(' [DJConsole] Loading track in RIGHT deck')\n        setRightTrack(trackToPlay)\n        if (trackToPlay?.url) {\n          playRightTrack({ \n            id: trackToPlay.id, \n            title: trackToPlay.title, \n            artist: trackToPlay.artist, \n            duration: trackToPlay.duration, \n            url: trackToPlay.url \n          })\n        }\n      }\n      \n      console.log(' [DJConsole] Activating deck:', deck)\n      setActiveDeck(deck) // Mantieni per compatibilit\n    } catch (error) {\n      console.warn('Errore nel caricamento traccia:', error)\n    } finally {\n      loadInProgressRef.current = false\n    }\n  }, [playLeftTrack, playRightTrack, setLeftTrack, setRightTrack, setActiveDeck])\n\n  // Log per tracciare il ciclo di vita del componente\n  useEffect(() => {\n    console.log(' [DJConsole] Component mounted')\n    console.log(' [DJConsole] Component ID:', Math.random().toString(36).substr(2, 9))\n    console.log(' [DJConsole] Initial state:', {\n      leftDeck: {\n        track: audioState.leftDeck.track,\n        isPlaying: audioState.leftDeck.isPlaying,\n        isActive: audioState.leftDeck.isActive\n        // currentTime: RIMOSSO - ora gestito dal TimerContext\n      },\n      rightDeck: {\n        track: audioState.rightDeck.track,\n        isPlaying: audioState.rightDeck.isPlaying,\n        isActive: audioState.rightDeck.isActive\n        // currentTime: RIMOSSO - ora gestito dal TimerContext\n      }\n    })\n    \n    // NOTIFICA che la console  stata montata per ripristinare i controlli audio\n    window.dispatchEvent(new CustomEvent('djconsole:console-mounted'))\n    \n    return () => {\n      console.log(' [DJConsole] Component unmounting')\n      console.log(' [DJConsole] Component ID:', Math.random().toString(36).substr(2, 9))\n      \n      // NOTIFICA che la console  stata smontata per preservare lo stato audio\n      window.dispatchEvent(new CustomEvent('djconsole:console-unmounted'))\n    }\n  }, [])\n\n  // Log per tracciare i cambiamenti di stato (solo quando cambiano i track)\n  useEffect(() => {\n    console.log(' [DJConsole] Track changed:', {\n      leftDeck: {\n        track: audioState.leftDeck.track?.title,\n        isPlaying: audioState.leftDeck.isPlaying,\n        isActive: audioState.leftDeck.isActive\n      },\n      rightDeck: {\n        track: audioState.rightDeck.track?.title,\n        isPlaying: audioState.rightDeck.isPlaying,\n        isActive: audioState.rightDeck.isActive\n      }\n    })\n  }, [audioState.leftDeck.track?.id, audioState.rightDeck.track?.id, audioState.leftDeck.isPlaying, audioState.rightDeck.isPlaying])\n\n  // Log per tracciare i re-render (senza re-mount)\n  useEffect(() => {\n    console.log(' [DJConsole] Component re-rendered (no unmount)')\n  })\n\n  // Auto-advance listener (simplified for now)\n  useEffect(() => {\n    const onRequestNext = (event: CustomEvent) => {\n      const { deck } = event.detail\n      console.log(' Auto-advance requested for deck:', deck)\n      \n      // Trova la prossima traccia nella playlist attiva\n      if (activePlaylistId && playlistState.library.playlists.length > 0) {\n        const activePlaylist = playlistState.library.playlists.find(pl => pl.id === activePlaylistId)\n        if (activePlaylist && activePlaylist.tracks.length > 0) {\n          // Trova la traccia corrente nel deck specificato\n          const currentTrack = deck === 'left' ? leftTrack : rightTrack\n          if (currentTrack) {\n            const currentIndex = activePlaylist.tracks.findIndex(t => t.id === currentTrack.id)\n            if (currentIndex !== -1 && currentIndex < activePlaylist.tracks.length - 1) {\n              const nextTrack = activePlaylist.tracks[currentIndex + 1]\n              \n              // Carica immediatamente nel deck libero e AVVIA la riproduzione\n              if (!audioState.leftDeck.track) {\n                console.log(' Auto-loading and playing next track in left deck (free):', nextTrack.title)\n                memoizedOnLoad('left', nextTrack)\n                // Avvia automaticamente la riproduzione\n                setTimeout(() => {\n                  if (audioState.leftDeck.track?.id === nextTrack.id) {\n                    console.log(' Auto-starting left deck')\n                    playLeftTrack(nextTrack)\n                  }\n                }, 100)\n              } else if (!audioState.rightDeck.track) {\n                console.log(' Auto-loading and playing next track in right deck (free):', nextTrack.title)\n                memoizedOnLoad('right', nextTrack)\n                // Avvia automaticamente la riproduzione\n                setTimeout(() => {\n                  if (audioState.rightDeck.track?.id === nextTrack.id) {\n                    console.log(' Auto-starting right deck')\n                    playRightTrack(nextTrack)\n                  }\n                }, 100)\n              } else {\n                // Entrambi i deck sono occupati, trova quello che ha meno tempo rimanente\n                const leftTimeLeft = audioState.leftDeck.track ? \n                  (audioState.leftDeck.track.duration - audioState.leftDeck.currentTime) : 0\n                const rightTimeLeft = audioState.rightDeck.track ? \n                  (audioState.rightDeck.track.duration - audioState.rightDeck.currentTime) : 0\n                \n                if (leftTimeLeft < rightTimeLeft) {\n                  console.log(' Auto-loading next track in left deck (less time left):', nextTrack.title)\n                  memoizedOnLoad('left', nextTrack)\n                  // Avvia automaticamente la riproduzione\n                  setTimeout(() => {\n                    if (audioState.leftDeck.track?.id === nextTrack.id) {\n                      console.log(' Auto-starting left deck')\n                      playLeftTrack(nextTrack)\n                    }\n                  }, 100)\n                } else {\n                  console.log(' Auto-loading next track in right deck (less time left):', nextTrack.title)\n                  memoizedOnLoad('right', nextTrack)\n                  // Avvia automaticamente la riproduzione\n                  setTimeout(() => {\n                    if (audioState.rightDeck.track?.id === nextTrack.id) {\n                      console.log(' Auto-starting right deck')\n                      playRightTrack(nextTrack)\n                    }\n                  }, 100)\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    \n    window.addEventListener('djconsole:request-next-track', onRequestNext as EventListener)\n    return () => window.removeEventListener('djconsole:request-next-track', onRequestNext as EventListener)\n  }, [activePlaylistId, playlistState.library.playlists, leftTrack, rightTrack, audioState.leftDeck, audioState.rightDeck, memoizedOnLoad])\n\n  // Select first playlist by default (no Library tab here)\n  useEffect(() => {\n    if (activePlaylistId === null && playlistState.library.playlists.length > 0) {\n      setActivePlaylistId(playlistState.library.playlists[0].id)\n    }\n  }, [activePlaylistId, playlistState.library.playlists])\n\n  // Load PTT settings (simplified for now)\n  useEffect(() => {\n    (async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        // init auto-advance from DB\n        setAutoAdvance(!!s.interface.autoAdvance)\n      } catch {}\n    })()\n  }, [])\n\n  // Persist auto-advance to DB when toggled\n  useEffect(() => {\n    (async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        await localDatabase.updateSettings({ interface: { ...s.interface, autoAdvance: autoAdvance } })\n      } catch {}\n    })()\n  }, [autoAdvance])\n\n  // Push-to-talk handlers (keyboard) - restored functionality\n  useEffect(() => {\n    const onKeyDown = (e: KeyboardEvent) => {\n      const key = e.code === 'Space' ? 'Space' : e.key\n      if (key !== 'KeyM' || pttActiveRef.current) return\n      pttActiveRef.current = true\n      console.log(' PTT started (keyboard)')\n      \n      // Attiva microfono se non  gi attivo\n      if (!audioState.microphone?.isEnabled) {\n        console.log(' Activating microphone for PTT')\n        toggleMicrophone() // Attiva automaticamente il microfono per il PTT\n      }\n      \n      // Salva volume originale e applica ducking\n      if (originalVolumeRef.current === null) {\n        // Calcola volume medio dei deck attivi\n        let totalVolume = 0\n        let activeDecks = 0\n        if (audioState.leftDeck.isPlaying) {\n          totalVolume += audioState.leftDeck.localVolume\n          activeDecks++\n        }\n        if (audioState.rightDeck.isPlaying) {\n          totalVolume += audioState.rightDeck.localVolume\n          activeDecks++\n        }\n        originalVolumeRef.current = activeDecks > 0 ? totalVolume / activeDecks : 1\n      }\n      \n      // Applica ducking (abbassa volume canzoni)\n      const duckedVolume = Math.max(0, originalVolumeRef.current * 0.3) // Abbassa al 30%\n      if (audioState.leftDeck.isPlaying) {\n        setLeftLocalVolume(duckedVolume)\n      }\n      if (audioState.rightDeck.isPlaying) {\n        setRightLocalVolume(duckedVolume)\n      }\n      \n      // Attiva ducking per lo streaming\n      setStreamDucking(true)\n    }\n    \n    const onKeyUp = (e: KeyboardEvent) => {\n      const key = e.code === 'Space' ? 'Space' : e.key\n      if (key !== 'KeyM') return\n      pttActiveRef.current = false\n      console.log(' PTT stopped (keyboard)')\n      \n      // Ripristina volume originale\n      if (originalVolumeRef.current !== null) {\n        if (audioState.leftDeck.isPlaying) {\n          setLeftLocalVolume(originalVolumeRef.current)\n        }\n        if (audioState.rightDeck.isPlaying) {\n          setRightLocalVolume(originalVolumeRef.current)\n        }\n        originalVolumeRef.current = null\n      }\n      \n      // Disattiva ducking per lo streaming\n      setStreamDucking(false)\n    }\n    \n    window.addEventListener('keydown', onKeyDown)\n    window.addEventListener('keyup', onKeyUp)\n    return () => {\n      window.removeEventListener('keydown', onKeyDown)\n      window.removeEventListener('keyup', onKeyUp)\n    }\n  }, [audioState.leftDeck, audioState.rightDeck, setLeftLocalVolume, setRightLocalVolume, setStreamDucking, toggleMicrophone])\n\n  // Gestisce il mount del componente - SOLO UNA VOLTA\n  const hasMounted = useRef(false)\n  useEffect(() => {\n    if (!hasStabilized.current) {\n      console.log(' DJConsole not yet permanently stabilized, skipping mount logic')\n      return\n    }\n    \n    if (hasMounted.current) {\n      console.log(' DJConsole already mounted, preventing re-mount')\n      return\n    }\n    \n    console.log(' DJConsole mounted, current audio state:', audioState)\n    \n    // Dispatch dell'evento solo se non  gi stato fatto\n    if (!hasMounted.current) {\n      hasMounted.current = true\n      const event = new CustomEvent('djconsole:console-mounted')\n      window.dispatchEvent(event)\n    } else {\n      // Se  gi stato montato, NON fare nulla - i controlli globali gestiscono tutto\n      console.log(' DJConsole re-mounted - global controls handle everything')\n    }\n  }, [audioState])\n\n  // Gestisce l'unmount del componente - NON FARE NULLA\n  useEffect(() => {\n    return () => {\n      console.log(' [DJConsole] Component re-rendered (no unmount)')\n      // NON dispatchare eventi di unmount - i controlli globali rimangono attivi\n      // NON resettare hasMounted - mantieni lo stato\n      // NON resettare isStable - mantieni la stabilit\n      // NON resettare hasStabilized - mantieni la stabilit PERMANENTE\n    }\n  }, [])\n\n  // NUOVO: Listener per il ripristino dei controlli audio\n  useEffect(() => {\n    const handleAudioControlsRestored = () => {\n      console.log(' Audio controls restored event received - ensuring UI controls work')\n      \n      // Forza il refresh dello stato per garantire che i controlli UI funzionino\n      if (leftTrack) {\n        console.log(' Refreshing left deck state after controls restoration')\n        // Forza un re-render per sincronizzare i controlli UI\n        setLeftTrack({ ...leftTrack })\n      }\n      \n      if (rightTrack) {\n        console.log(' Refreshing right deck state after controls restoration')\n        // Forza un re-render per sincronizzare i controlli UI\n        setRightTrack({ ...rightTrack })\n      }\n      \n      // Forza anche il refresh dello stato attivo\n      // RIMOSSO: setLeftDeckActive(audioState.leftDeck.isActive)\n      // RIMOSSO: setRightDeckActive(audioState.rightDeck.isActive)\n    }\n\n    // NUOVO: Listener per il ripristino del database\n    const handleDatabaseRestored = () => {\n      console.log(' Database restored event received - refreshing console state')\n      \n      // Forza il refresh dello stato della console\n      if (leftTrack) {\n        setLeftTrack({ ...leftTrack })\n      }\n      if (rightTrack) {\n        setRightTrack({ ...rightTrack })\n      }\n      \n      // Forza anche il refresh dello stato attivo\n      // RIMOSSO: setLeftDeckActive(audioState.leftDeck.isActive)\n      // RIMOSSO: setRightDeckActive(audioState.rightDeck.isActive)\n    }\n\n    // NUOVO: Listener per la sincronizzazione quando una traccia viene eliminata\n    const handleTrackDeleted = (event: CustomEvent) => {\n      const { trackId, updatedPlaylists } = event.detail\n      console.log(' Track deleted event received - syncing console state', { trackId })\n      \n      // Se la traccia eliminata  attualmente caricata in uno dei deck, rimuovila\n      if (leftTrack && leftTrack.id === trackId) {\n        console.log(' Left deck track was deleted - clearing deck')\n        setLeftTrack(null)\n        // Forza anche la rimozione dal deck audio\n        window.dispatchEvent(new CustomEvent('djconsole:force-audio-recreation'))\n      }\n      \n      if (rightTrack && rightTrack.id === trackId) {\n        console.log(' Right deck track was deleted - clearing deck')\n        setRightTrack(null)\n        // Forza anche la rimozione dal deck audio\n        window.dispatchEvent(new CustomEvent('djconsole:force-audio-recreation'))\n      }\n      \n      // Aggiorna anche lo stato delle playlist se necessario\n      if (updatedPlaylists) {\n        console.log(' Updating playlist state after track deletion')\n        // Forza un refresh delle playlist\n        window.dispatchEvent(new CustomEvent('djconsole:playlists-updated', { \n          detail: { updatedPlaylists } \n        }))\n      }\n    }\n\n    window.addEventListener('djconsole:audio-controls-restored', handleAudioControlsRestored)\n    window.addEventListener('djconsole:db-restored', handleDatabaseRestored)\n    window.addEventListener('djconsole:track-deleted', handleTrackDeleted as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:audio-controls-restored', handleAudioControlsRestored)\n      window.removeEventListener('djconsole:db-restored', handleDatabaseRestored)\n      window.removeEventListener('djconsole:track-deleted', handleTrackDeleted as EventListener)\n    }\n  }, [leftTrack, rightTrack, audioState.leftDeck.isActive, audioState.rightDeck.isActive])\n\n  // Mouse/touch push-to-talk on mic button - HOLD ONLY\n  const startPTT = (e: React.MouseEvent) => {\n    pttActiveRef.current = true\n    console.log(' PTT activated (hold)')\n    \n    // Salva lo stato del microfono prima del PTT\n    micWasActiveBeforePTTRef.current = audioState.microphone?.isEnabled || false\n    console.log(' Microphone was active before PTT:', micWasActiveBeforePTTRef.current)\n    \n    // Attiva microfono se non  gi attivo\n    if (!audioState.microphone?.isEnabled) {\n      console.log(' Activating microphone for PTT')\n      if (typeof toggleMicrophone === 'function') {\n        toggleMicrophone()\n      } else {\n        console.error(' toggleMicrophone is not a function!', typeof toggleMicrophone)\n      }\n    }\n    \n    // Applica ducking durante PTT\n    applyDucking()\n  }\n  \n  const applyDucking = () => {\n    \n    // Salva volume originale e applica ducking\n    if (originalVolumeRef.current === null) {\n      // Calcola volume medio dei deck attivi\n      let totalVolume = 0\n      let activeDecks = 0\n      if (audioState.leftDeck.isPlaying) {\n        totalVolume += audioState.leftDeck.localVolume\n        activeDecks++\n      }\n      if (audioState.rightDeck.isPlaying) {\n        totalVolume += audioState.rightDeck.localVolume\n        activeDecks++\n      }\n      originalVolumeRef.current = activeDecks > 0 ? totalVolume / activeDecks : 1\n    }\n    \n    // Applica ducking (abbassa volume canzoni)\n    const duckedVolume = Math.max(0, originalVolumeRef.current * 0.3) // Abbassa al 30%\n    if (audioState.leftDeck.isPlaying) {\n      setLeftLocalVolume(duckedVolume)\n    }\n    if (audioState.rightDeck.isPlaying) {\n      setRightLocalVolume(duckedVolume)\n    }\n    \n    // Attiva ducking per lo streaming\n    setStreamDucking(true)\n  }\n  \n  const stopPTT = () => {\n    if (!pttActiveRef.current) return // Evita chiamate multiple\n    \n    pttActiveRef.current = false\n    console.log(' PTT deactivated (release)')\n    \n    // Disattiva microfono SOLO se non era attivo prima del PTT\n    // Se era gi attivo prima del PTT, lo lasciamo attivo\n    const shouldDeactivateMic = audioState.microphone?.isEnabled && !micWasActiveBeforePTTRef.current\n    console.log(' Should deactivate mic:', shouldDeactivateMic, {\n      micCurrentlyEnabled: audioState.microphone?.isEnabled,\n      wasActiveBeforePTT: micWasActiveBeforePTTRef.current\n    })\n    \n    if (shouldDeactivateMic) {\n      console.log(' Deactivating microphone after PTT')\n      if (typeof toggleMicrophone === 'function') {\n        toggleMicrophone()\n      } else {\n        console.error(' toggleMicrophone is not a function!', typeof toggleMicrophone)\n      }\n    }\n    \n    // Ripristina volume originale\n    if (originalVolumeRef.current !== null) {\n      if (audioState.leftDeck.isPlaying) {\n        setLeftLocalVolume(originalVolumeRef.current)\n      }\n      if (audioState.rightDeck.isPlaying) {\n        setRightLocalVolume(originalVolumeRef.current)\n      }\n      originalVolumeRef.current = null\n    }\n    \n    // Disattiva ducking per lo streaming\n    setStreamDucking(false)\n  }\n\n  // NUOVO: Funzione per rimuovere tracce dalle playlist e sincronizzare\n  const removeTrackFromPlaylist = useCallback(async (trackId: string, playlistId: string) => {\n    try {\n      console.log(' Removing track from playlist:', { trackId, playlistId })\n      \n      // Rimuovi la traccia dalla playlist nel database\n      const playlist = playlistState.library.playlists.find(p => p.id === playlistId)\n      if (playlist) {\n        const updatedTracks = playlist.tracks.filter(t => t.id !== trackId)\n        await localDatabase.updatePlaylist(playlistId, { tracks: updatedTracks.map(t => t.id) })\n        \n        // Aggiorna anche lo stato locale delle playlist\n        const updatedPlaylists = playlistState.library.playlists.map(p => \n          p.id === playlistId ? { ...p, tracks: updatedTracks } : p\n        )\n        \n        // Dispatch evento per aggiornare le playlist\n        window.dispatchEvent(new CustomEvent('djconsole:playlist-updated', { \n          detail: { playlistId, updatedTracks, updatedPlaylists } \n        }))\n        \n        console.log(' Track removed from playlist and synchronized')\n      }\n    } catch (error) {\n      console.error(' Error removing track from playlist:', error)\n    }\n  }, [playlistState.library.playlists])\n\n  // NUOVO: Funzione per sincronizzare le playlist quando vengono aggiornate\n  useEffect(() => {\n    const handlePlaylistUpdated = (event: CustomEvent) => {\n      const { playlistId, updatedTracks, updatedPlaylists } = event.detail\n      console.log(' Playlist updated event received:', { playlistId, trackCount: updatedTracks.length })\n      \n      // Forza il refresh dello stato delle playlist\n      if (updatedPlaylists) {\n        // Dispatch evento per aggiornare il context delle playlist\n        window.dispatchEvent(new CustomEvent('djconsole:force-playlist-refresh', { \n          detail: { updatedPlaylists } \n        }))\n      }\n    }\n\n    const handlePlaylistsUpdated = (event: CustomEvent) => {\n      const { updatedPlaylists } = event.detail\n      console.log(' Playlists updated event received:', { count: updatedPlaylists.length })\n      \n      // Forza il refresh globale delle playlist\n      window.dispatchEvent(new CustomEvent('djconsole:force-playlist-refresh', { \n        detail: { updatedPlaylists } \n      }))\n    }\n\n    window.addEventListener('djconsole:playlist-updated', handlePlaylistUpdated as EventListener)\n    window.addEventListener('djconsole:playlists-updated', handlePlaylistsUpdated as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:playlist-updated', handlePlaylistUpdated as EventListener)\n      window.removeEventListener('djconsole:playlists-updated', handlePlaylistsUpdated as EventListener)\n    }\n  }, [])\n\n  // NUOVO: Sincronizzazione completa con le playlist della libreria\n  useEffect(() => {\n    // Listener per aggiornamenti playlist dalla libreria\n    const handleLibraryPlaylistUpdated = (event: CustomEvent) => {\n      const { playlistId, updatedTracks, updatedPlaylists } = event.detail\n      console.log(' Library playlist updated - syncing console:', { playlistId, trackCount: updatedTracks.length })\n      \n      // Aggiorna lo stato delle playlist nella console\n      if (updatedPlaylists) {\n        // Forza il refresh delle playlist\n        window.dispatchEvent(new CustomEvent('djconsole:force-playlist-refresh', { \n          detail: { updatedPlaylists } \n        }))\n      }\n    }\n\n    // Listener per richieste di sincronizzazione dalla libreria\n    const handleLibraryPlaylistsSync = (event: CustomEvent) => {\n      const { playlists } = event.detail\n      console.log(' Library playlists sync request - updating console state:', { count: playlists.length })\n      \n      // Aggiorna lo stato delle playlist nella console\n      window.dispatchEvent(new CustomEvent('djconsole:force-playlist-refresh', { \n        detail: { updatedPlaylists: playlists } \n      }))\n    }\n\n    // Listener per cambiamenti nelle playlist della libreria\n    const handleLibraryPlaylistsChanged = (event: CustomEvent) => {\n      const { playlists } = event.detail\n      console.log(' Library playlists changed - syncing console:', { count: playlists.length })\n      \n      // Aggiorna lo stato delle playlist nella console\n      window.dispatchEvent(new CustomEvent('djconsole:force-playlist-refresh', { \n        detail: { updatedPlaylists: playlists } \n      }))\n    }\n\n    // Richiedi sincronizzazione iniziale con la libreria\n    const requestInitialSync = () => {\n      console.log(' Requesting initial sync with library playlists')\n      window.dispatchEvent(new CustomEvent('djconsole:request-playlists-sync'))\n    }\n\n    // Richiedi sincronizzazione dopo un breve delay\n    setTimeout(requestInitialSync, 1000)\n\n    window.addEventListener('djconsole:library-playlist-updated', handleLibraryPlaylistUpdated as EventListener)\n    window.addEventListener('djconsole:library-playlists-sync', handleLibraryPlaylistsSync as EventListener)\n    window.addEventListener('djconsole:library-playlists-changed', handleLibraryPlaylistsChanged as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:library-playlist-updated', handleLibraryPlaylistUpdated as EventListener)\n      window.removeEventListener('djconsole:library-playlists-sync', handleLibraryPlaylistsSync as EventListener)\n      window.removeEventListener('djconsole:library-playlists-changed', handleLibraryPlaylistsChanged as EventListener)\n    }\n  }, [])\n\n  // NUOVO: Funzione per forzare la sincronizzazione con la libreria\n  const forceLibrarySync = useCallback(() => {\n    console.log(' Forcing library sync from console')\n    window.dispatchEvent(new CustomEvent('djconsole:request-playlists-sync'))\n  }, [])\n\n  // RIMOSSA: Funzione locale non pi necessaria - ora usa AudioContext definitivo\n\n  // SOLUZIONE SEMPLICE: Sincronizzazione base con libreria\n  useEffect(() => {\n    const syncWithLibrary = () => {\n      console.log(' Syncing with library playlists')\n      // Richiedi sincronizzazione semplice\n      window.dispatchEvent(new CustomEvent('djconsole:simple-sync-request'))\n    }\n\n    // Sincronizza ogni 30 secondi (ridotto per evitare loop)\n    const syncInterval = setInterval(syncWithLibrary, 30000)\n    \n    // Sincronizza anche all'avvio\n    setTimeout(syncWithLibrary, 2000)\n    \n    return () => clearInterval(syncInterval)\n  }, [])\n\n  return (\n    <div className=\"min-h-screen bg-dj-dark text-white overflow-y-auto dj-console\" data-djconsole=\"true\">\n      {/* Header semplificato, nessuna icona di navigazione */}\n      <header className=\"bg-dj-primary border-b border-dj-accent/30 p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <h1 className=\"text-2xl font-dj font-bold text-white\">DJ Console</h1>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-3 h-3 bg-dj-success rounded-full animate-pulse\"></div>\n              <span className=\"text-sm text-dj-light/60\">Live Ready</span>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            {/* Pulsante Toggle Microfono */}\n            <button\n              onClick={() => {\n                console.log(' Mic toggle clicked')\n                if (typeof toggleMicrophone === 'function') {\n                  toggleMicrophone()\n                } else {\n                  console.error(' toggleMicrophone is not a function!', typeof toggleMicrophone)\n                }\n              }}\n              className={`p-2 rounded-lg transition-all duration-200 ${\n                audioState.microphone?.isEnabled\n                  ? 'bg-dj-success text-white'\n                  : 'bg-dj-secondary text-dj-light hover:bg-dj-accent'\n              }`}\n              title=\"Toggle Microfono ON/OFF\"\n            >\n              {audioState.microphone?.isEnabled ? <Mic className=\"w-5 h-5\" /> : <MicOff className=\"w-5 h-5\" />}\n            </button>\n            \n            {/* Pulsante Push-to-Talk */}\n            <button\n              onMouseDown={startPTT}\n              onMouseUp={stopPTT}\n              onMouseLeave={stopPTT}\n              onTouchStart={(e) => { e.preventDefault(); startPTT(e as any) }}\n              onTouchEnd={(e) => { e.preventDefault(); stopPTT() }}\n              className={`relative p-2 rounded-lg transition-all duration-200 ${\n                pttActiveRef.current\n                  ? 'bg-dj-error text-white'\n                  : 'bg-dj-secondary text-dj-light hover:bg-dj-accent'\n              }`}\n              title=\"Push-to-Talk (Hold)\"\n            >\n              <Mic className=\"w-5 h-5\" />\n            </button>\n            \n            {/* Pulsante di test per i controlli audio */}\n            <button\n              onClick={() => {\n                console.log(' Manual audio controls restoration requested')\n                window.dispatchEvent(new CustomEvent('djconsole:force-audio-recreation'))\n              }}\n              className=\"p-2 bg-dj-accent/20 hover:bg-dj-accent/30 rounded transition-all\"\n              title=\"Ripristina Controlli Audio\"\n            >\n              \n            </button>\n\n            {/* NUOVO: Pulsante per forzare la sincronizzazione con la libreria */}\n            <button\n              onClick={forceLibrarySync}\n              className=\"p-2 bg-green-600/20 hover:bg-green-600/30 rounded transition-all\"\n              title=\"Sincronizza con Libreria\"\n            >\n              \n            </button>\n            <span\n              className={`ml-2 px-2 py-1 rounded border text-[11px] font-semibold transition-opacity ${\n                audioState.microphone?.isEnabled || pttActiveRef.current\n                  ? 'bg-dj-error/15 text-dj-error border-dj-error/40 opacity-100 visible'\n                  : 'opacity-0 invisible'\n              }`}\n            >\n              MIC ON AIR\n            </span>\n            <label className=\"flex items-center space-x-2 text-sm text-dj-light/80\">\n              <input\n                type=\"checkbox\"\n                checked={autoAdvance}\n                onChange={(e) => setAutoAdvance(e.target.checked)}\n                className=\"rounded bg-dj-primary border-dj-accent/30\"\n              />\n              <span>Auto-advance</span>\n            </label>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Area ridisegnata: due deck compatti sopra, crossfader, playlist grande in basso */}\n      <div className=\"p-4\">\n        {/* RIGA DECKS */}\n        <div className=\"grid grid-cols-12 gap-3 mb-3\">\n          <div className=\"col-span-12 md:col-span-6\">\n            <AudioDeck\n              side=\"left\"\n              isActive={audioState.leftDeck.isPlaying}\n              onActivate={() => console.log('Left deck activated')}\n              track={leftTrack}\n            />\n          </div>\n          <div className=\"col-span-12 md:col-span-6\">\n            <AudioDeck\n              side=\"right\"\n              isActive={audioState.rightDeck.isPlaying}\n              onActivate={() => console.log('Right deck activated')}\n              track={rightTrack}\n            />\n          </div>\n        </div>\n\n        {/* RIGA CROSSFADER */}\n        <div className=\"bg-dj-primary border border-dj-accent/30 rounded-xl p-3 mb-3\">\n          <Crossfader \n            leftVolume={audioState.leftDeck.localVolume}\n            rightVolume={audioState.rightDeck.localVolume}\n            onLeftVolumeChange={setLeftLocalVolume}\n            onRightVolumeChange={setRightLocalVolume}\n            crossfadeValue={audioState.crossfader}\n            onCrossfadeChange={setCrossfader}\n          />\n        </div>\n\n        {/* PLAYLIST GRANDE CON TABS + LIVE BTN */}\n        <div className=\"bg-dj-secondary rounded-xl border border-dj-accent/20 p-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"text-sm text-dj-light/60\">Playlist</div>\n            <a href=\"#live\" className=\"px-3 py-2 bg-dj-highlight hover:bg-dj-accent text-white rounded-lg text-sm transition-colors\">Go Live</a>\n          </div>\n          <div className=\"flex items-center space-x-2 mb-4 overflow-x-auto\">\n            {playlistState.library.playlists.map((pl) => (\n              <button\n                key={pl.id}\n                onClick={() => setActivePlaylistId(pl.id)}\n                className={`px-3 py-2 rounded-md text-sm transition-colors ${\n                  activePlaylistId === pl.id ? 'bg-dj-accent text-white' : 'bg-dj-primary text-dj-light/80 hover:bg-dj-accent/20 hover:text-white'\n                }`}\n              >\n                {pl.name}\n              </button>\n            ))}\n          </div>\n          <div className=\"max-h-[40vh] md:max-h-[52vh] overflow-y-auto divide-y divide-dj-accent/10\">\n            {activePlaylistId === null && (\n              <div className=\"py-6 text-center text-dj-light/60\">\n                Seleziona una playlist\n              </div>\n            )}\n            {(playlistState.library.playlists.find(pl => pl.id === activePlaylistId)?.tracks || []).map((t, idx, arr) => {\n              return (\n                <div\n                  key={t.id}\n                  draggable\n                  onDragStart={(e) => {\n                    e.dataTransfer.setData('text/plain', String(idx))\n                  }}\n                  onDragOver={(e) => e.preventDefault()}\n                  onDrop={(e) => {\n                    e.preventDefault()\n                    const fromIndexStr = e.dataTransfer.getData('text/plain')\n                    const fromIndex = Number(fromIndexStr)\n                    if (Number.isNaN(fromIndex) || fromIndex === idx || activePlaylistId === null) return\n                    const newOrder = [...arr]\n                    const [moved] = newOrder.splice(fromIndex, 1)\n                    newOrder.splice(idx, 0, moved)\n                    reorderPlaylist(activePlaylistId, newOrder.map(tr => tr.id))\n                  }}\n                  onDoubleClick={() => {\n                    // Doppio click: carica automaticamente nel deck libero\n                    if (!audioState.leftDeck.track || !audioState.leftDeck.isPlaying) {\n                      memoizedOnLoad('left', t) // Deck A libero\n                    } else if (!audioState.rightDeck.track || !audioState.rightDeck.isPlaying) {\n                      memoizedOnLoad('right', t) // Deck B libero\n                    } else {\n                      memoizedOnLoad('left', t) // Default a deck A se entrambi occupati\n                    }\n                  }}\n                  className=\"flex items-center justify-between py-2 px-2 hover:bg-dj-accent/10 cursor-pointer\"\n                >\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"w-2 h-2 bg-dj-highlight rounded-full\" />\n                    <div className=\"text-white text-sm\">{t.title}</div>\n                    <div className=\"text-xs text-dj-light/60\">{t.artist}</div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={(e) => { e.stopPropagation(); memoizedOnLoad('left', t) }}\n                      className=\"px-2 py-1 bg-dj-primary hover:bg-dj-accent/30 rounded text-xs text-white\"\n                    >\n                      {activeDeck === 'left' && audioState.leftDeck.isPlaying ? 'Pause A' : 'Load A'}\n                    </button>\n                    <button\n                      onClick={(e) => { e.stopPropagation(); memoizedOnLoad('right', t) }}\n                      className=\"px-2 py-1 bg-dj-primary hover:bg-dj-accent/30 rounded text-xs text-white\"\n                    >\n                      {activeDeck === 'right' && audioState.rightDeck.isPlaying ? 'Pause B' : 'Load B'}\n                    </button>\n                    <button\n                      onClick={(e) => { \n                        e.stopPropagation(); \n                        // Rimuovi dalla playlist\n                        if (activePlaylistId) {\n                          removeTrackFromPlaylist(t.id, activePlaylistId)\n                        }\n                      }}\n                      className=\"px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-xs text-white\"\n                      title=\"Rimuovi dalla playlist\"\n                    >\n                      \n                    </button>\n                    <div className=\"text-xs text-dj-light/60\">{Math.floor(t.duration/60)}:{String(Math.floor(t.duration%60)).padStart(2,'0')}</div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n          <div className=\"mt-3 text-right text-xs text-dj-light/70\">\n            Totale: {\n              (() => {\n                const pl = playlistState.library.playlists.find(pl => pl.id === activePlaylistId)\n                const total = (pl?.tracks || []).reduce((s, tr) => s + tr.duration, 0)\n                const m = Math.floor(total/60)\n                const s = Math.floor(total%60)\n                return `${m}:${String(s).padStart(2,'0')}`\n              })()\n            }\n          </div>\n        </div>\n        {/* LIVE SECTION */}\n        <div id=\"live\" className=\"mt-4\">\n          <StreamingControl />\n        </div>\n      </div>\n\n      {/* Nessun pannello inferiore: layout semplificato come richiesto */}\n    </div>\n  )\n})\n\nDJConsole.displayName = 'DJConsole'\n\nexport default DJConsole\n","// AudioManager semplificato - senza AudioRouter complesso\n\ninterface Track {\n  id: string\n  title: string\n  artist: string\n  duration: number\n  url: string\n}\n\ninterface DeckState {\n  id: 'A' | 'B'\n  track: Track | null\n  isPlaying: boolean\n  currentTime: number\n  duration: number\n  volume: number\n  isActive: boolean\n  isMuted: boolean\n  volumeBeforeMute: number\n}\n\ninterface AudioManagerState {\n  deckA: DeckState\n  deckB: DeckState\n  crossfader: number\n  masterVolume: number\n  micEnabled: boolean\n  micVolume: number\n  cueEnabled: boolean\n}\n\ntype AudioEventType = \n  | 'stateChanged'\n  | 'trackLoaded'\n  | 'trackEnded'\n  | 'playbackStarted'\n  | 'playbackPaused'\n  | 'volumeChanged'\n  | 'crossfaderChanged'\n  | 'muteChanged'\n  | 'micVolumeChanged'\n\ninterface AudioEvent {\n  type: AudioEventType\n  deckId?: 'A' | 'B'\n  data?: any\n}\n\ntype AudioEventListener = (event: AudioEvent) => void\n\nexport class AudioManager {\n  private static instance: AudioManager | null = null\n  private state: AudioManagerState\n  private listeners: Map<AudioEventType, AudioEventListener[]> = new Map()\n  private persistenceKey = 'djconsole_audio_state'\n  private persistenceTimeout: NodeJS.Timeout | null = null\n  \n  // Audio elements globali\n  private deckAAudio: HTMLAudioElement | null = null\n  private deckBAudio: HTMLAudioElement | null = null\n  private timeUpdateInterval: NodeJS.Timeout | null = null\n  \n  // Stream del microfono\n  private microphoneStream: MediaStream | null = null\n  \n  // Web Audio per streaming\n  private audioContext: AudioContext | null = null\n  private streamDestination: MediaStreamAudioDestinationNode | null = null\n  private isStreaming = false\n  \n  private constructor() {\n    this.state = this.getInitialState()\n    this.initializeGlobalAudio()\n    this.setupAudioEventListeners()\n    this.loadPersistedState()\n    \n    // Salva lo stato ogni volta che cambia\n    this.addEventListener('stateChanged', () => {\n      this.persistState()\n    })\n    \n    // Gestisce la persistenza quando la pagina viene chiusa\n    window.addEventListener('beforeunload', () => {\n      this.persistState()\n    })\n    \n    // Ripristina lo stato quando si torna alla pagina\n    window.addEventListener('focus', () => {\n      this.loadPersistedState()\n    })\n    \n    console.log(' AudioManager initialized with simple audio system')\n  }\n  \n  public static getInstance(): AudioManager {\n    if (!AudioManager.instance) {\n      AudioManager.instance = new AudioManager()\n    }\n    return AudioManager.instance\n  }\n  \n  private getInitialState(): AudioManagerState {\n    return {\n      deckA: {\n        id: 'A',\n        track: null,\n        isPlaying: false,\n        currentTime: 0,\n        duration: 0,\n        volume: 0.8,\n        isActive: false,\n        isMuted: false,\n        volumeBeforeMute: 0.8\n      },\n      deckB: {\n        id: 'B',\n        track: null,\n        isPlaying: false,\n        currentTime: 0,\n        duration: 0,\n        volume: 0.8,\n        isActive: false,\n        isMuted: false,\n        volumeBeforeMute: 0.8\n      },\n      crossfader: 0.5,\n      masterVolume: 0.8,\n      micEnabled: false,\n      micVolume: 0.7,\n      cueEnabled: false\n    }\n  }\n  \n  private initializeGlobalAudio(): void {\n    // Crea elementi audio globali\n    this.deckAAudio = document.createElement('audio')\n    this.deckAAudio.setAttribute('data-deck', 'A')\n    this.deckAAudio.volume = this.state.deckA.volume\n    this.deckAAudio.preload = 'metadata'\n    \n    this.deckBAudio = document.createElement('audio')\n    this.deckBAudio.setAttribute('data-deck', 'B')\n    this.deckBAudio.volume = this.state.deckB.volume\n    this.deckBAudio.preload = 'metadata'\n    \n    // Aggiungi al DOM\n    document.body.appendChild(this.deckAAudio)\n    document.body.appendChild(this.deckBAudio)\n    \n    // Avvia timer per aggiornamenti\n    this.startTimeUpdateTimer()\n    \n    console.log(' Global audio elements created and attached to DOM')\n  }\n  \n  private setupAudioEventListeners(): void {\n    if (this.deckAAudio) {\n      this.deckAAudio.addEventListener('play', () => {\n        this.state.deckA.isPlaying = true\n        this.emitEvent('playbackStarted', { deckId: 'A' })\n        this.emitEvent('stateChanged')\n      })\n      \n      this.deckAAudio.addEventListener('pause', () => {\n        this.state.deckA.isPlaying = false\n        this.emitEvent('playbackPaused', { deckId: 'A' })\n        this.emitEvent('stateChanged')\n      })\n      \n      this.deckAAudio.addEventListener('ended', () => {\n        this.state.deckA.isPlaying = false\n        this.state.deckA.currentTime = 0\n        this.emitEvent('trackEnded', { deckId: 'A' })\n        this.emitEvent('stateChanged')\n      })\n    }\n    \n    if (this.deckBAudio) {\n      this.deckBAudio.addEventListener('play', () => {\n        this.state.deckB.isPlaying = true\n        this.emitEvent('playbackStarted', { deckId: 'B' })\n        this.emitEvent('stateChanged')\n      })\n      \n      this.deckBAudio.addEventListener('pause', () => {\n        this.state.deckB.isPlaying = false\n        this.emitEvent('playbackPaused', { deckId: 'B' })\n        this.emitEvent('stateChanged')\n      })\n      \n      this.deckBAudio.addEventListener('ended', () => {\n        this.state.deckB.isPlaying = false\n        this.state.deckB.currentTime = 0\n        this.emitEvent('trackEnded', { deckId: 'B' })\n        this.emitEvent('stateChanged')\n      })\n    }\n  }\n  \n  private startTimeUpdateTimer(): void {\n    this.timeUpdateInterval = setInterval(() => {\n      if (this.deckAAudio && this.state.deckA.isPlaying) {\n        this.state.deckA.currentTime = this.deckAAudio.currentTime\n      }\n      if (this.deckBAudio && this.state.deckB.isPlaying) {\n        this.state.deckB.currentTime = this.deckBAudio.currentTime\n      }\n      \n      // Emetti evento di aggiornamento\n      this.emitEvent('stateChanged')\n    }, 100)\n  }\n  \n  // === METODI PUBBLICI ===\n  \n  public loadTrack(deckId: 'A' | 'B', track: Track): void {\n    const deck = deckId === 'A' ? this.state.deckA : this.state.deckB\n    const audioElement = deckId === 'A' ? this.deckAAudio : this.deckBAudio\n    \n    if (!audioElement) {\n      console.error(` Audio element not found for deck ${deckId}`)\n      return\n    }\n    \n    // Carica la traccia\n    audioElement.src = track.url\n      audioElement.load()\n    \n    // Aggiorna stato\n    deck.track = track\n    deck.duration = track.duration\n    deck.currentTime = 0\n    deck.isPlaying = false\n    \n    // Notifica\n    this.emitEvent('trackLoaded', { deckId, data: track })\n    this.emitEvent('stateChanged')\n    \n    console.log(` Track loaded on deck ${deckId}: ${track.title}`)\n  }\n  \n  public play(deckId: 'A' | 'B'): boolean {\n    const audioElement = deckId === 'A' ? this.deckAAudio : this.deckBAudio\n    \n    if (!audioElement || !audioElement.src) {\n      console.warn(` No track loaded on deck ${deckId}`)\n      return false\n    }\n    \n    try {\n      audioElement.play()\n    return true\n    } catch (error) {\n      console.error(` Error playing deck ${deckId}:`, error)\n      return false\n    }\n  }\n  \n  public pause(deckId: 'A' | 'B'): void {\n    const audioElement = deckId === 'A' ? this.deckAAudio : this.deckBAudio\n    \n    if (audioElement) {\n      audioElement.pause()\n    }\n  }\n  \n  public setDeckVolume(deckId: 'A' | 'B', volume: number): void {\n    const deck = deckId === 'A' ? this.state.deckA : this.state.deckB\n    const audioElement = deckId === 'A' ? this.deckAAudio : this.deckBAudio\n    \n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    deck.volume = clampedVolume\n    \n    if (audioElement) {\n      audioElement.volume = clampedVolume\n    }\n    \n    this.emitEvent('volumeChanged', { deckId, data: { volume: clampedVolume } })\n    this.emitEvent('stateChanged')\n  }\n  \n  public setMasterVolume(volume: number): void {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    this.state.masterVolume = clampedVolume\n    \n    // Applica il volume master agli elementi audio\n    if (this.deckAAudio) {\n      this.deckAAudio.volume = this.state.deckA.volume * clampedVolume\n    }\n    if (this.deckBAudio) {\n      this.deckBAudio.volume = this.state.deckB.volume * clampedVolume\n    }\n    \n    this.emitEvent('volumeChanged', { data: { masterVolume: clampedVolume } })\n    this.emitEvent('stateChanged')\n  }\n  \n  public setCrossfader(value: number): void {\n    const clampedValue = Math.max(0, Math.min(1, value))\n    this.state.crossfader = clampedValue\n    \n    // Applica crossfader agli elementi audio\n    if (this.deckAAudio) {\n      this.deckAAudio.volume = this.state.deckA.volume * (1 - clampedValue) * this.state.masterVolume\n    }\n    if (this.deckBAudio) {\n      this.deckBAudio.volume = this.state.deckB.volume * clampedValue * this.state.masterVolume\n    }\n    \n    this.emitEvent('crossfaderChanged', { data: { crossfader: clampedValue } })\n    this.emitEvent('stateChanged')\n  }\n  \n  public toggleDeckMute(deckId: 'A' | 'B'): void {\n    const deck = deckId === 'A' ? this.state.deckA : this.state.deckB\n    const audioElement = deckId === 'A' ? this.deckAAudio : this.deckBAudio\n    \n    if (deck.isMuted) {\n      // Unmute\n      deck.isMuted = false\n      deck.volume = deck.volumeBeforeMute\n      if (audioElement) {\n        audioElement.volume = deck.volume * this.state.masterVolume\n        audioElement.muted = false\n      }\n    } else {\n      // Mute\n      deck.isMuted = true\n      deck.volumeBeforeMute = deck.volume\n      deck.volume = 0\n      if (audioElement) {\n        audioElement.volume = 0\n        audioElement.muted = true\n      }\n    }\n    \n    this.emitEvent('muteChanged', { deckId, data: { muted: deck.isMuted } })\n    this.emitEvent('stateChanged')\n  }\n  \n  public setMicrophoneEnabled(enabled: boolean): void {\n    this.state.micEnabled = enabled\n    \n    if (enabled) {\n      this.enableMicrophone()\n      } else {\n      this.disableMicrophone()\n    }\n    \n    this.emitEvent('stateChanged')\n  }\n  \n  public setMicrophoneVolume(volume: number): void {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    this.state.micVolume = clampedVolume\n    \n    this.emitEvent('micVolumeChanged', { data: { micVolume: clampedVolume } })\n    this.emitEvent('stateChanged')\n  }\n  \n  private async enableMicrophone(): Promise<void> {\n    try {\n      this.microphoneStream = await navigator.mediaDevices.getUserMedia({ audio: true })\n      console.log(' Microphone enabled')\n    } catch (error) {\n      console.error(' Error enabling microphone:', error)\n    }\n  }\n  \n  private disableMicrophone(): void {\n    if (this.microphoneStream) {\n      this.microphoneStream.getTracks().forEach(track => track.stop())\n      this.microphoneStream = null\n      console.log(' Microphone disabled')\n    }\n  }\n  \n  // === STREAMING ===\n  \n  public startStreaming(): MediaStream | null {\n    if (this.isStreaming) {\n      console.warn(' Streaming already active')\n      return this.streamDestination?.stream || null\n    }\n    \n    try {\n      // Crea AudioContext se non esiste\n      if (!this.audioContext) {\n        this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\n      }\n      \n      // Crea destination per streaming\n      this.streamDestination = this.audioContext.createMediaStreamDestination()\n      \n      // Connessioni per streaming\n      if (this.deckAAudio) {\n        const sourceA = this.audioContext.createMediaElementSource(this.deckAAudio)\n        sourceA.connect(this.streamDestination)\n      }\n      \n      if (this.deckBAudio) {\n        const sourceB = this.audioContext.createMediaElementSource(this.deckBAudio)\n        sourceB.connect(this.streamDestination)\n      }\n      \n      // Microfono se abilitato\n      if (this.microphoneStream && this.state.micEnabled) {\n        const micSource = this.audioContext.createMediaStreamSource(this.microphoneStream)\n        micSource.connect(this.streamDestination)\n      }\n      \n      this.isStreaming = true\n      console.log(' Streaming started')\n      \n      return this.streamDestination.stream\n    } catch (error) {\n      console.error(' Error starting streaming:', error)\n    return null\n  }\n  }\n  \n  public stopStreaming(): void {\n    if (this.streamDestination) {\n      this.streamDestination = null\n    }\n    this.isStreaming = false\n    console.log(' Streaming stopped')\n  }\n  \n  public isStreamingActive(): boolean {\n    return this.isStreaming\n  }\n  \n  public getStreamDestination(): MediaStream | null {\n    return this.streamDestination?.stream || null\n  }\n  \n  // === EVENTI ===\n  \n  public addEventListener(type: AudioEventType, listener: AudioEventListener): void {\n    if (!this.listeners.has(type)) {\n      this.listeners.set(type, [])\n    }\n    this.listeners.get(type)!.push(listener)\n  }\n  \n  public removeEventListener(type: AudioEventType, listener: AudioEventListener): void {\n    const listeners = this.listeners.get(type)\n    if (listeners) {\n      const index = listeners.indexOf(listener)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }\n  \n  private emitEvent(type: AudioEventType, data?: any): void {\n    const event: AudioEvent = { type, ...data }\n    const listeners = this.listeners.get(type) || []\n    listeners.forEach(listener => listener(event))\n  }\n  \n  // === PERSISTENZA ===\n  \n  private persistState(): void {\n    if (this.persistenceTimeout) {\n      clearTimeout(this.persistenceTimeout)\n    }\n    \n    this.persistenceTimeout = setTimeout(() => {\n      try {\n        localStorage.setItem(this.persistenceKey, JSON.stringify(this.state))\n        console.log(' Audio state persisted')\n      } catch (error) {\n        console.error(' Error persisting audio state:', error)\n      }\n    }, 1000)\n  }\n  \n  private loadPersistedState(): void {\n    try {\n      const saved = localStorage.getItem(this.persistenceKey)\n      if (saved) {\n        const parsedState = JSON.parse(saved)\n        this.state = { ...this.state, ...parsedState }\n        \n        // Applica lo stato agli elementi audio\n        if (this.deckAAudio) {\n          this.deckAAudio.volume = this.state.deckA.volume * this.state.masterVolume\n        }\n        if (this.deckBAudio) {\n          this.deckBAudio.volume = this.state.deckB.volume * this.state.masterVolume\n        }\n        \n        console.log(' Audio state restored from persistence')\n      }\n    } catch (error) {\n      console.error(' Error loading persisted state:', error)\n    }\n  }\n  \n  // === UTILITY ===\n  \n  public getState(): AudioManagerState {\n    return { ...this.state }\n  }\n  \n  public getDeckState(deckId: 'A' | 'B'): DeckState {\n    return deckId === 'A' ? { ...this.state.deckA } : { ...this.state.deckB }\n  }\n  \n  public destroy(): void {\n    console.log(' Destroying audio manager')\n    \n    // Ferma timer\n    if (this.timeUpdateInterval) {\n      clearInterval(this.timeUpdateInterval)\n    }\n    \n    // Ferma streaming\n    this.stopStreaming()\n    \n    // Disabilita microfono\n    this.disableMicrophone()\n    \n    // Rimuovi elementi audio\n    if (this.deckAAudio) {\n      this.deckAAudio.remove()\n    }\n    if (this.deckBAudio) {\n      this.deckBAudio.remove()\n    }\n    \n    // Chiudi AudioContext\n    if (this.audioContext) {\n      this.audioContext.close()\n    }\n    \n    // Pulisci listeners\n    this.listeners.clear()\n    \n    // Pulisci istanza\n    AudioManager.instance = null\n  }\n}\n\nexport default AudioManager","import React, { useState, useRef, useEffect, useCallback } from 'react'\nimport { \n  Play, \n  Pause, \n  SkipBack, \n  SkipForward, \n  Volume2, \n  VolumeX,\n  Disc,\n  Clock,\n  RotateCcw,\n  Square\n} from 'lucide-react'\nimport DynamicWaveform from './DynamicWaveform'\nimport { localDatabase } from '../database/LocalDatabase'\nimport AudioManager from '../audio/AudioManager'\n\ninterface Track {\n  id: string\n  title: string\n  artist: string\n  duration: number\n  url: string\n}\n\ninterface DeckPlayerProps {\n  deckId: 'A' | 'B'\n  track: Track | null\n  isActive: boolean\n  volume: number\n  isMuted: boolean\n  onVolumeChange: (volume: number) => void\n  onActivate: () => void\n  onTrackEnd?: () => void\n}\n\nconst DeckPlayer: React.FC<DeckPlayerProps> = ({\n  deckId,\n  track,\n  isActive,\n  volume,\n  isMuted,\n  onVolumeChange,\n  onActivate,\n  onTrackEnd\n}) => {\n  // Stati locali del deck\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [currentTime, setCurrentTime] = useState(0)\n  const [duration, setDuration] = useState(0)\n  const [isLoading, setIsLoading] = useState(false)\n  const [showWaveform, setShowWaveform] = useState(true)\n  \n  // Riferimenti\n  const progressRef = useRef<HTMLInputElement>(null)\n  const timeUpdateInterval = useRef<NodeJS.Timeout | null>(null)\n  \n  // Audio Manager\n  const audioManager = AudioManager.getInstance()\n  \n  // Formattazione tempo\n  const formatTime = (seconds: number): string => {\n    const mins = Math.floor(seconds / 60)\n    const secs = Math.floor(seconds % 60)\n    return `${mins}:${secs.toString().padStart(2, '0')}`\n  }\n  \n  // Tempo rimanente\n  const remainingTime = duration - currentTime\n  \n  // Aggiorna il tempo corrente\n  const updateCurrentTime = useCallback(() => {\n    if (audioRef.current && !audioRef.current.paused) {\n      const newTime = audioRef.current.currentTime\n      setCurrentTime(newTime)\n      \n      // Aggiorna la barra di progresso visualmente\n      if (progressRef.current) {\n        const progress = duration > 0 ? (newTime / duration) * 100 : 0\n        progressRef.current.style.background = `linear-gradient(to right, #10b981 0%, #10b981 ${progress}%, #374151 ${progress}%, #374151 100%)`\n      }\n    }\n  }, [duration])\n  \n  // Avvia il timer di aggiornamento\n  const startTimeUpdate = useCallback(() => {\n    if (timeUpdateInterval.current) {\n      clearInterval(timeUpdateInterval.current)\n    }\n    timeUpdateInterval.current = setInterval(updateCurrentTime, 100)\n  }, [updateCurrentTime])\n  \n  // Ferma il timer di aggiornamento\n  const stopTimeUpdate = useCallback(() => {\n    if (timeUpdateInterval.current) {\n      clearInterval(timeUpdateInterval.current)\n      timeUpdateInterval.current = null\n    }\n  }, [])\n  \n  // Sincronizza stato con AudioManager (non usa pi elementi audio locali)\n  useEffect(() => {\n    if (track) {\n      console.log(` [DECK ${deckId}] Track loaded: ${track.title}`)\n      setIsLoading(false)\n      setDuration(track.duration)\n    } else {\n      console.log(` [DECK ${deckId}] No track`)\n      setIsLoading(false)\n      setIsPlaying(false)\n      setCurrentTime(0)\n      setDuration(0)\n    }\n  }, [track, deckId])\n  \n  // Il DeckPlayer ora  solo UI - la logica audio  gestita dall'AudioManager\n  // Sincronizziamo solo lo stato visuale\n  \n  // Carica settings per il waveform\n  useEffect(() => {\n    const loadWaveformSettings = async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const settings = await localDatabase.getSettings()\n        setShowWaveform(settings.ui?.showWaveform ?? true)\n      } catch (error) {\n        console.warn('Could not load waveform settings:', error)\n      }\n    }\n    loadWaveformSettings()\n  }, [])\n  \n  // Cleanup al dismount\n  useEffect(() => {\n    return () => {\n      stopTimeUpdate()\n    }\n  }, [stopTimeUpdate])\n  \n  // Volume ora gestito dall'AudioManager\n  useEffect(() => {\n    console.log(` [DECK ${deckId}] Volume set to ${Math.round(volume * 100)}%`)\n  }, [volume, deckId])\n  \n  // Sincronizza stato con AudioManager\n  useEffect(() => {\n    const handleStateChange = () => {\n      const deckState = audioManager.getDeck(deckId)\n      setIsPlaying(deckState.isPlaying)\n      setCurrentTime(deckState.currentTime)\n      setDuration(deckState.duration)\n      \n      // Aggiorna la barra di progresso\n      if (progressRef.current && deckState.duration > 0) {\n        const progress = (deckState.currentTime / deckState.duration) * 100\n        progressRef.current.style.background = `linear-gradient(to right, #10b981 0%, #10b981 ${progress}%, #374151 ${progress}%, #374151 100%)`\n      }\n    }\n    \n    audioManager.addEventListener('stateChanged', handleStateChange)\n    handleStateChange() // Stato iniziale\n    \n    return () => {\n      audioManager.removeEventListener('stateChanged', handleStateChange)\n    }\n  }, [audioManager, deckId])\n  \n  // Controlli di riproduzione - ora comunicano con AudioManager\n  const handlePlayPause = useCallback(() => {\n    if (!track) return\n    \n    try {\n      if (isPlaying) {\n        console.log(` [DECK ${deckId}] Pausing via AudioManager...`)\n        audioManager.pause(deckId)\n      } else {\n        console.log(` [DECK ${deckId}] Playing via AudioManager...`)\n        \n        // Attiva il deck se non  gi attivo\n        if (!isActive) {\n          onActivate()\n        }\n        \n        audioManager.play(deckId)\n      }\n    } catch (error) {\n      console.error(` [DECK ${deckId}] Play/Pause error:`, error)\n    }\n  }, [isPlaying, track, deckId, isActive, onActivate, audioManager])\n  \n  const handleStop = useCallback(() => {\n    console.log(` [DECK ${deckId}] Stopping via AudioManager...`)\n    audioManager.stop(deckId)\n  }, [deckId, audioManager])\n  \n  const handleSkip = useCallback((seconds: number) => {\n    if (!track) return\n    \n    const newTime = Math.max(0, Math.min(duration, currentTime + seconds))\n    audioManager.seek(deckId, newTime)\n    \n    console.log(` [DECK ${deckId}] Skipped ${seconds}s to ${formatTime(newTime)}`)\n  }, [currentTime, duration, track, deckId, audioManager])\n  \n  const handleSeek = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!track) return\n    \n    const newTime = parseFloat(e.target.value)\n    audioManager.seek(deckId, newTime)\n    \n    // Aggiorna immediatamente la barra di progresso\n    const progress = duration > 0 ? (newTime / duration) * 100 : 0\n    e.target.style.background = `linear-gradient(to right, #10b981 0%, #10b981 ${progress}%, #374151 ${progress}%, #374151 100%)`\n  }, [track, duration, deckId, audioManager])\n  \n  const handleVolumeChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const newVolume = parseFloat(e.target.value)\n    onVolumeChange(newVolume)\n  }, [onVolumeChange])\n  \n  // Reset alla posizione 0\n  const handleReset = useCallback(() => {\n    audioManager.seek(deckId, 0)\n    console.log(` [DECK ${deckId}] Reset to start`)\n  }, [deckId, audioManager])\n  \n  return (\n    <div className={`bg-gray-900 rounded-lg p-4 border-2 transition-all duration-200 ${\n      isActive \n        ? 'border-green-500 shadow-lg shadow-green-500/20' \n        : 'border-gray-700 hover:border-gray-600'\n    }`}>\n      \n      {/* Header del deck */}\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center space-x-2\">\n          <h3 className=\"text-lg font-bold text-white\">Deck {deckId}</h3>\n          {isLoading && (\n            <div className=\"w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full animate-spin\" />\n          )}\n        </div>\n        \n        <button\n          onClick={onActivate}\n          className={`px-3 py-1 rounded text-sm font-medium transition-all duration-200 ${\n            isActive \n              ? 'bg-green-500 text-white shadow-lg' \n              : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n          }`}\n        >\n          {isActive ? 'ACTIVE' : 'ACTIVATE'}\n        </button>\n      </div>\n      \n                  {/* Waveform dinamico - SOPRA il titolo */}\n            {track && showWaveform && (\n              <div className=\"mb-3\">\n                <DynamicWaveform\n                  waveformData={Array.from({ length: 120 }, () => 0.3 + Math.random() * 0.4)}\n                  currentTime={currentTime}\n                  duration={duration}\n                  isPlaying={isPlaying}\n                  deck={deckId}\n                  className=\"h-16 bg-gray-800 rounded cursor-pointer\"\n                  onSeek={handleSeek}\n                />\n              </div>\n            )}\n      \n      {/* Info traccia */}\n      <div className=\"bg-gray-800 rounded-lg p-3 mb-3\">\n        <div className=\"flex items-center space-x-3\">\n          <div className={`p-2 rounded-full ${isPlaying ? 'bg-green-500/20' : 'bg-gray-700'}`}>\n            <Disc className={`w-5 h-5 ${isPlaying ? 'text-green-500 animate-spin' : 'text-gray-400'}`} />\n          </div>\n          \n          <div className=\"flex-1 min-w-0\">\n            <h4 className=\"font-semibold text-white truncate\">\n              {track?.title || 'No Track Loaded'}\n            </h4>\n            <p className=\"text-sm text-gray-400 truncate\">\n              {track?.artist || 'Unknown Artist'}\n            </p>\n          </div>\n          \n          {track && (\n            <div className=\"text-right\">\n              <div className=\"flex items-center space-x-1 text-sm text-gray-400\">\n                <Clock className=\"w-4 h-4\" />\n                <span>{formatTime(duration)}</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Barra di progresso */}\n      {track && (\n        <div className=\"mb-3\">\n          <div className=\"flex items-center justify-between text-xs text-gray-400 mb-1\">\n            <span>{formatTime(currentTime)}</span>\n            <span>-{formatTime(remainingTime)}</span>\n          </div>\n          \n          <input\n            ref={progressRef}\n            type=\"range\"\n            min={0}\n            max={duration || 0.1}\n            step={0.1}\n            value={currentTime}\n            onChange={handleSeek}\n            className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n            aria-label={`Seek control for Deck ${deckId}`}\n            title={`Seek control for Deck ${deckId}`}\n            style={{\n              background: `linear-gradient(to right, #10b981 0%, #10b981 ${duration > 0 ? (currentTime / duration) * 100 : 0}%, #374151 ${duration > 0 ? (currentTime / duration) * 100 : 0}%, #374151 100%)`\n            }}\n          />\n        </div>\n      )}\n      \n\n      \n      {/* Controlli di trasporto */}\n      <div className=\"flex items-center justify-center space-x-2 mb-4\">\n        <button\n          onClick={handleReset}\n          disabled={!track}\n          className=\"w-8 h-8 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded flex items-center justify-center transition-all duration-200\"\n          title=\"Reset to start\"\n        >\n          <RotateCcw className=\"w-4 h-4\" />\n        </button>\n        \n        <button\n          onClick={() => handleSkip(-10)}\n          disabled={!track}\n          className=\"w-8 h-8 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded flex items-center justify-center transition-all duration-200\"\n          title=\"Skip backward 10s\"\n        >\n          <SkipBack className=\"w-4 h-4\" />\n        </button>\n        \n        <button\n          onClick={handlePlayPause}\n          disabled={!track || isLoading}\n          className={`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 ${\n            isPlaying\n              ? 'bg-yellow-500 hover:bg-yellow-400 text-gray-900'\n              : 'bg-green-500 hover:bg-green-400 text-white'\n          } disabled:bg-gray-800 disabled:text-gray-600`}\n          title={isPlaying ? 'Pause' : 'Play'}\n        >\n          {isPlaying ? <Pause className=\"w-5 h-5\" /> : <Play className=\"w-5 h-5 ml-0.5\" />}\n        </button>\n        \n        <button\n          onClick={() => handleSkip(10)}\n          disabled={!track}\n          className=\"w-8 h-8 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 rounded flex items-center justify-center transition-all duration-200\"\n          title=\"Skip forward 10s\"\n        >\n          <SkipForward className=\"w-4 h-4\" />\n        </button>\n        \n        <button\n          onClick={handleStop}\n          disabled={!track}\n          className=\"w-8 h-8 bg-red-600 hover:bg-red-500 disabled:bg-gray-800 disabled:text-gray-600 rounded flex items-center justify-center transition-all duration-200\"\n          title=\"Stop\"\n        >\n          <Square className=\"w-4 h-4\" />\n        </button>\n        \n        <button\n          onClick={() => audioManager.toggleDeckMute(deckId)}\n          disabled={!track}\n          className={`w-8 h-8 rounded flex items-center justify-center transition-all duration-200 ${\n            isMuted\n              ? 'bg-red-500 hover:bg-red-400 text-white' \n              : 'bg-gray-600 hover:bg-gray-500 text-white'\n          } disabled:bg-gray-800 disabled:text-gray-600`}\n          title={isMuted ? 'Unmute' : 'Mute'}\n        >\n          {isMuted ? (\n            <VolumeX className=\"w-4 h-4\" />\n          ) : (\n            <Volume2 className=\"w-4 h-4\" />\n          )}\n        </button>\n      </div>\n      \n      {/* Controllo volume */}\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <Volume2 className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-sm text-gray-400\">Volume</span>\n          </div>\n          <span className=\"text-sm text-white font-medium\">\n            {Math.round(volume * 100)}%\n          </span>\n        </div>\n        \n        <input\n          type=\"range\"\n          min={0}\n          max={1}\n          step={0.01}\n          value={volume}\n          onChange={handleVolumeChange}\n          className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n          aria-label={`Volume control for Deck ${deckId}`}\n          title={`Volume control for Deck ${deckId}`}\n          style={{\n            background: `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${volume * 100}%, #374151 ${volume * 100}%, #374151 100%)`\n          }}\n        />\n      </div>\n      \n      {/* Indicatori di stato */}\n      <div className=\"flex items-center justify-between mt-3 text-xs\">\n        <div className=\"flex items-center space-x-2\">\n          <div className={`w-2 h-2 rounded-full ${isPlaying ? 'bg-green-500' : 'bg-gray-600'}`} />\n          <span className=\"text-gray-400\">\n            {isPlaying ? 'PLAYING' : isLoading ? 'LOADING' : 'READY'}\n          </span>\n        </div>\n        \n        {track && (\n          <div className=\"text-gray-400\">\n            BPM: --\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default DeckPlayer\n","import React, { useState, useCallback } from 'react'\nimport { Volume2, VolumeX, Headphones, Mic, MicOff } from 'lucide-react'\n\ninterface MixerControlsProps {\n  // Volumi individuali deck\n  deckAVolume: number\n  deckBVolume: number\n  onDeckAVolumeChange: (volume: number) => void\n  onDeckBVolumeChange: (volume: number) => void\n  \n  // Mute deck\n  deckAMuted: boolean\n  deckBMuted: boolean\n  onDeckAMuteToggle: () => void\n  onDeckBMuteToggle: () => void\n  \n  // Crossfader\n  crossfaderValue: number\n  onCrossfaderChange: (value: number) => void\n  \n  // Volume master\n  masterVolume: number\n  onMasterVolumeChange: (volume: number) => void\n  \n  // Microfono\n  micEnabled: boolean\n  micVolume: number\n  onMicToggle: () => void\n  onMicVolumeChange: (volume: number) => void\n  \n  // Cue/Monitor\n  cueEnabled: boolean\n  onCueToggle: () => void\n}\n\nconst MixerControls: React.FC<MixerControlsProps> = ({\n  deckAVolume,\n  deckBVolume,\n  onDeckAVolumeChange,\n  onDeckBVolumeChange,\n  deckAMuted,\n  deckBMuted,\n  onDeckAMuteToggle,\n  onDeckBMuteToggle,\n  crossfaderValue,\n  onCrossfaderChange,\n  masterVolume,\n  onMasterVolumeChange,\n  micEnabled,\n  micVolume,\n  onMicToggle,\n  onMicVolumeChange,\n  cueEnabled,\n  onCueToggle\n}) => {\n  // Stati locali per master mute\n  const [masterMuted, setMasterMuted] = useState(false)\n  \n  // Gestione mute master\n  const handleMasterMute = useCallback(() => {\n    setMasterMuted(!masterMuted)\n    onMasterVolumeChange(masterMuted ? masterVolume : 0)\n  }, [masterMuted, masterVolume, onMasterVolumeChange])\n  \n  // Calcolo del crossfader per visualizzazione\n  const crossfaderPosition = crossfaderValue * 100\n  \n  return (\n    <div className=\"bg-gray-900 rounded-lg p-6 border border-gray-700\">\n      <h2 className=\"text-lg font-bold text-white mb-4 text-center\">MIXER</h2>\n      \n      <div className=\"grid grid-cols-5 gap-4\">\n        {/* Deck A Channel */}\n        <div className=\"space-y-4\">\n          <div className=\"text-center\">\n            <h3 className=\"text-sm font-semibold text-white mb-2\">DECK A</h3>\n          </div>\n          \n          {/* Volume Deck A */}\n          <div className=\"flex flex-col items-center space-y-2\">\n            <button\n              onClick={onDeckAMuteToggle}\n              className={`w-8 h-8 rounded flex items-center justify-center transition-all duration-200 ${\n                deckAMuted ? 'bg-red-500 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title=\"Mute Deck A\"\n            >\n              {deckAMuted ? <VolumeX className=\"w-4 h-4\" /> : <Volume2 className=\"w-4 h-4\" />}\n            </button>\n            \n            <div className=\"flex flex-col items-center h-32\">\n              <input\n                type=\"range\"\n                min={0}\n                max={1}\n                step={0.01}\n                value={deckAVolume}\n                onChange={(e) => onDeckAVolumeChange(parseFloat(e.target.value))}\n                className=\"h-full w-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider vertical-slider\"\n                aria-label=\"Deck A Volume\"\n                title=\"Deck A Volume\"\n                orient=\"vertical\"\n                style={{\n                  writingMode: 'bt-lr',\n                  WebkitAppearance: 'slider-vertical',\n                  background: deckAMuted \n                    ? `linear-gradient(to top, #ef4444 0%, #ef4444 ${deckAVolume * 100}%, #374151 ${deckAVolume * 100}%, #374151 100%)`\n                    : `linear-gradient(to top, #10b981 0%, #10b981 ${deckAVolume * 100}%, #374151 ${deckAVolume * 100}%, #374151 100%)`\n                }}\n              />\n            </div>\n            \n            <div className=\"text-xs text-center\">\n              <div className={deckAMuted ? 'text-red-400' : 'text-gray-400'}>\n                {Math.round(deckAVolume * 100)}%\n              </div>\n              {deckAMuted && (\n                <div className=\"text-xs text-red-500 font-bold\">\n                  MUTED\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Cue Deck A */}\n          <button\n            className={`w-full py-2 rounded text-xs font-medium transition-all duration-200 ${\n              cueEnabled ? 'bg-yellow-500 text-black' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}\n            title=\"Cue Deck A\"\n          >\n            CUE\n          </button>\n        </div>\n        \n        {/* Crossfader */}\n        <div className=\"col-span-3 space-y-4\">\n          <div className=\"text-center\">\n            <h3 className=\"text-sm font-semibold text-white mb-2\">CROSSFADER</h3>\n          </div>\n          \n          <div className=\"space-y-2\">\n            {/* Indicatori A/B */}\n            <div className=\"flex justify-between text-xs text-gray-400\">\n              <span className={crossfaderValue < 0.3 ? 'text-green-400' : ''}>A</span>\n              <span className={crossfaderValue > 0.7 ? 'text-blue-400' : ''}>B</span>\n            </div>\n            \n            {/* Crossfader slider */}\n            <div className=\"relative\">\n              <input\n                type=\"range\"\n                min={0}\n                max={1}\n                step={0.01}\n                value={crossfaderValue}\n                onChange={(e) => onCrossfaderChange(parseFloat(e.target.value))}\n                className=\"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider crossfader\"\n                aria-label=\"Crossfader\"\n                title=\"Crossfader\"\n                style={{\n                  background: `linear-gradient(to right, #10b981 0%, #10b981 ${crossfaderPosition}%, #3b82f6 ${crossfaderPosition}%, #3b82f6 100%)`\n                }}\n              />\n              \n              {/* Indicatore posizione crossfader */}\n              <div \n                className=\"absolute top-0 w-1 h-3 bg-white rounded shadow-lg pointer-events-none\"\n                style={{ left: `calc(${crossfaderPosition}% - 2px)` }}\n              />\n            </div>\n            \n            <div className=\"text-center text-xs text-gray-400\">\n              {crossfaderValue < 0.3 ? 'DECK A' : crossfaderValue > 0.7 ? 'DECK B' : 'CENTER'}\n            </div>\n          </div>\n          \n          {/* Curve selector */}\n          <div className=\"flex justify-center space-x-2 mt-4\">\n            <button className=\"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-xs rounded\">\n              SMOOTH\n            </button>\n            <button className=\"px-2 py-1 bg-blue-600 text-xs rounded\">\n              SHARP\n            </button>\n          </div>\n        </div>\n        \n        {/* Deck B Channel */}\n        <div className=\"space-y-4\">\n          <div className=\"text-center\">\n            <h3 className=\"text-sm font-semibold text-white mb-2\">DECK B</h3>\n          </div>\n          \n          {/* Volume Deck B */}\n          <div className=\"flex flex-col items-center space-y-2\">\n            <button\n              onClick={onDeckBMuteToggle}\n              className={`w-8 h-8 rounded flex items-center justify-center transition-all duration-200 ${\n                deckBMuted ? 'bg-red-500 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title=\"Mute Deck B\"\n            >\n              {deckBMuted ? <VolumeX className=\"w-4 h-4\" /> : <Volume2 className=\"w-4 h-4\" />}\n            </button>\n            \n            <div className=\"flex flex-col items-center h-32\">\n              <input\n                type=\"range\"\n                min={0}\n                max={1}\n                step={0.01}\n                value={deckBVolume}\n                onChange={(e) => onDeckBVolumeChange(parseFloat(e.target.value))}\n                className=\"h-full w-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider vertical-slider\"\n                aria-label=\"Deck B Volume\"\n                title=\"Deck B Volume\"\n                orient=\"vertical\"\n                style={{\n                  writingMode: 'bt-lr',\n                  WebkitAppearance: 'slider-vertical',\n                  background: deckBMuted \n                    ? `linear-gradient(to top, #ef4444 0%, #ef4444 ${deckBVolume * 100}%, #374151 ${deckBVolume * 100}%, #374151 100%)`\n                    : `linear-gradient(to top, #3b82f6 0%, #3b82f6 ${deckBVolume * 100}%, #374151 ${deckBVolume * 100}%, #374151 100%)`\n                }}\n              />\n            </div>\n            \n            <div className=\"text-xs text-center\">\n              <div className={deckBMuted ? 'text-red-400' : 'text-gray-400'}>\n                {Math.round(deckBVolume * 100)}%\n              </div>\n              {deckBMuted && (\n                <div className=\"text-xs text-red-500 font-bold\">\n                  MUTED\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Cue Deck B */}\n          <button\n            className={`w-full py-2 rounded text-xs font-medium transition-all duration-200 ${\n              cueEnabled ? 'bg-yellow-500 text-black' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}\n            title=\"Cue Deck B\"\n          >\n            CUE\n          </button>\n        </div>\n      </div>\n      \n      {/* Sezione Master e Microfono */}\n      <div className=\"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-700\">\n        {/* Microfono */}\n        <div className=\"space-y-3\">\n          <div className=\"text-center\">\n            <h3 className=\"text-sm font-semibold text-white mb-2\">MIC</h3>\n          </div>\n          \n          <div className=\"flex flex-col items-center space-y-2\">\n            <button\n              onClick={onMicToggle}\n              className={`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${\n                micEnabled ? 'bg-red-500 text-white shadow-lg animate-pulse' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title={micEnabled ? 'Disable Microphone' : 'Enable Microphone'}\n            >\n              {micEnabled ? <Mic className=\"w-5 h-5\" /> : <MicOff className=\"w-5 h-5\" />}\n            </button>\n            \n            <div className=\"w-full\">\n              <input\n                type=\"range\"\n                min={0}\n                max={2}\n                step={0.01}\n                value={micVolume}\n                onChange={(e) => onMicVolumeChange(parseFloat(e.target.value))}\n                disabled={!micEnabled}\n                className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider disabled:opacity-50\"\n                aria-label=\"Microphone Volume\"\n                title=\"Microphone Volume\"\n                style={{\n                  background: `linear-gradient(to right, #ef4444 0%, #ef4444 ${(micVolume / 2) * 100}%, #374151 ${(micVolume / 2) * 100}%, #374151 100%)`\n                }}\n              />\n            </div>\n            \n            <div className=\"text-xs text-gray-400 text-center\">\n              {micVolume === 0 ? '- dB' : `${(20 * Math.log10(micVolume)).toFixed(1)} dB`}\n            </div>\n          </div>\n        </div>\n        \n        {/* Monitor/Cue */}\n        <div className=\"space-y-3\">\n          <div className=\"text-center\">\n            <h3 className=\"text-sm font-semibold text-white mb-2\">MONITOR</h3>\n          </div>\n          \n          <div className=\"flex flex-col items-center space-y-2\">\n            <button\n              onClick={onCueToggle}\n              className={`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${\n                cueEnabled ? 'bg-yellow-500 text-black shadow-lg' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title={cueEnabled ? 'Disable Monitor' : 'Enable Monitor'}\n            >\n              <Headphones className=\"w-5 h-5\" />\n            </button>\n            \n            <div className=\"text-xs text-gray-400 text-center\">\n              {cueEnabled ? 'ON' : 'OFF'}\n            </div>\n          </div>\n        </div>\n        \n        {/* Master Volume */}\n        <div className=\"space-y-3\">\n          <div className=\"text-center\">\n            <h3 className=\"text-sm font-semibold text-white mb-2\">MASTER</h3>\n          </div>\n          \n          <div className=\"flex flex-col items-center space-y-2\">\n            <button\n              onClick={handleMasterMute}\n              className={`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${\n                masterMuted ? 'bg-red-500 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title=\"Mute Master\"\n            >\n              {masterMuted ? <VolumeX className=\"w-5 h-5\" /> : <Volume2 className=\"w-5 h-5\" />}\n            </button>\n            \n            <div className=\"w-full\">\n              <input\n                type=\"range\"\n                min={0}\n                max={1}\n                step={0.01}\n                value={masterVolume}\n                onChange={(e) => onMasterVolumeChange(parseFloat(e.target.value))}\n                className=\"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n                aria-label=\"Master Volume\"\n                title=\"Master Volume\"\n                style={{\n                  background: `linear-gradient(to right, #f59e0b 0%, #f59e0b ${masterVolume * 100}%, #374151 ${masterVolume * 100}%, #374151 100%)`\n                }}\n              />\n            </div>\n            \n            <div className=\"text-xs text-gray-400 text-center font-bold\">\n              {Math.round(masterVolume * 100)}%\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* VU Meter simulato */}\n      <div className=\"mt-6 pt-4 border-t border-gray-700\">\n        <div className=\"text-center text-xs text-gray-400 mb-2\">OUTPUT LEVEL</div>\n        <div className=\"flex justify-center space-x-1\">\n          {Array.from({ length: 10 }, (_, i) => (\n            <div\n              key={i}\n              className={`w-2 h-6 rounded ${\n                i < Math.floor(masterVolume * 10)\n                  ? i < 6 ? 'bg-green-500' : i < 8 ? 'bg-yellow-500' : 'bg-red-500'\n                  : 'bg-gray-700'\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default MixerControls\n","import AudioManager from './AudioManager'\r\n\r\nclass GlobalAudioPersistence {\r\n  private static instance: GlobalAudioPersistence | null = null\r\n  private audioManager: AudioManager\r\n  private isInitialized = false\r\n  \r\n  private constructor() {\r\n    this.audioManager = AudioManager.getInstance()\r\n    this.initialize()\r\n  }\r\n  \r\n  public static getInstance(): GlobalAudioPersistence {\r\n    if (!GlobalAudioPersistence.instance) {\r\n      GlobalAudioPersistence.instance = new GlobalAudioPersistence()\r\n    }\r\n    return GlobalAudioPersistence.instance\r\n  }\r\n  \r\n  private initialize(): void {\r\n    if (this.isInitialized) return\r\n    \r\n    console.log(' Initializing Global Audio Persistence')\r\n    \r\n    // Listener per quando si cambia pagina\r\n    window.addEventListener('beforeunload', this.handleBeforeUnload.bind(this))\r\n    window.addEventListener('unload', this.handleUnload.bind(this))\r\n    \r\n    // Listener per quando si torna alla pagina\r\n    window.addEventListener('focus', this.handleWindowFocus.bind(this))\r\n    window.addEventListener('pageshow', this.handlePageShow.bind(this))\r\n    \r\n    // Listener per eventi di navigazione\r\n    window.addEventListener('popstate', this.handlePopState.bind(this))\r\n    \r\n    // Mantieni l'audio attivo durante la navigazione\r\n    this.setupNavigationPersistence()\r\n    \r\n    this.isInitialized = true\r\n    console.log(' Global Audio Persistence initialized')\r\n  }\r\n  \r\n  private handleBeforeUnload(): void {\r\n    console.log(' Page unloading - preserving audio state')\r\n    this.saveCurrentState()\r\n  }\r\n  \r\n  private handleUnload(): void {\r\n    console.log(' Page unloaded - audio state preserved')\r\n  }\r\n  \r\n  private handleWindowFocus(): void {\r\n    console.log(' Window focused - checking audio state')\r\n    this.restoreAudioIfNeeded()\r\n  }\r\n  \r\n  private handlePageShow(event: PageTransitionEvent): void {\r\n    console.log(' Page shown - restoring audio state')\r\n    if (event.persisted) {\r\n      // Pagina ripristinata dalla cache del browser\r\n      this.restoreAudioIfNeeded()\r\n    }\r\n  }\r\n  \r\n  private handlePopState(): void {\r\n    console.log(' Navigation detected - maintaining audio state')\r\n    // Non fare nulla - l'audio deve continuare\r\n  }\r\n  \r\n  private setupNavigationPersistence(): void {\r\n    // Override del comportamento di navigazione per mantenere l'audio\r\n    const originalPushState = history.pushState\r\n    const originalReplaceState = history.replaceState\r\n    \r\n    history.pushState = function(...args) {\r\n      console.log(' Navigation (pushState) - preserving audio')\r\n      return originalPushState.apply(history, args)\r\n    }\r\n    \r\n    history.replaceState = function(...args) {\r\n      console.log(' Navigation (replaceState) - preserving audio')\r\n      return originalReplaceState.apply(history, args)\r\n    }\r\n  }\r\n  \r\n  private saveCurrentState(): void {\r\n    try {\r\n      const state = this.audioManager.getState()\r\n      const persistentState = {\r\n        deckA: {\r\n          track: state.deckA.track,\r\n          isPlaying: state.deckA.isPlaying,\r\n          currentTime: state.deckA.currentTime,\r\n          volume: state.deckA.volume\r\n        },\r\n        deckB: {\r\n          track: state.deckB.track,\r\n          isPlaying: state.deckB.isPlaying,\r\n          currentTime: state.deckB.currentTime,\r\n          volume: state.deckB.volume\r\n        },\r\n        crossfader: state.crossfader,\r\n        masterVolume: state.masterVolume,\r\n        timestamp: Date.now()\r\n      }\r\n      \r\n      sessionStorage.setItem('dj_audio_persistent_state', JSON.stringify(persistentState))\r\n      console.log(' Audio state saved for persistence')\r\n      \r\n    } catch (error) {\r\n      console.error(' Error saving persistent audio state:', error)\r\n    }\r\n  }\r\n  \r\n  private restoreAudioIfNeeded(): void {\r\n    try {\r\n      const savedState = sessionStorage.getItem('dj_audio_persistent_state')\r\n      if (!savedState) return\r\n      \r\n      const persistentState = JSON.parse(savedState)\r\n      \r\n      // Controlla se lo stato  recente (meno di 5 minuti)\r\n      const maxAge = 5 * 60 * 1000 // 5 minuti\r\n      if (Date.now() - persistentState.timestamp > maxAge) {\r\n        console.log(' Persistent state is too old, skipping restore')\r\n        return\r\n      }\r\n      \r\n      console.log(' Restoring audio state from persistence')\r\n      \r\n      // Ripristina lo stato (ma non forzare la riproduzione)\r\n      if (persistentState.deckA.track) {\r\n        this.audioManager.loadTrack('A', persistentState.deckA.track)\r\n        this.audioManager.setDeckVolume('A', persistentState.deckA.volume)\r\n        \r\n        // Ripristina la riproduzione SOLO se era in corso\r\n        if (persistentState.deckA.isPlaying) {\r\n          setTimeout(() => {\r\n            this.audioManager.play('A')\r\n          }, 100)\r\n        }\r\n      }\r\n      \r\n      if (persistentState.deckB.track) {\r\n        this.audioManager.loadTrack('B', persistentState.deckB.track)\r\n        this.audioManager.setDeckVolume('B', persistentState.deckB.volume)\r\n        \r\n        // Ripristina la riproduzione SOLO se era in corso\r\n        if (persistentState.deckB.isPlaying) {\r\n          setTimeout(() => {\r\n            this.audioManager.play('B')\r\n          }, 100)\r\n        }\r\n      }\r\n      \r\n      // Ripristina controlli globali\r\n      this.audioManager.setCrossfader(persistentState.crossfader)\r\n      this.audioManager.setMasterVolume(persistentState.masterVolume)\r\n      \r\n      console.log(' Audio state restored from persistence')\r\n      \r\n    } catch (error) {\r\n      console.error(' Error restoring persistent audio state:', error)\r\n    }\r\n  }\r\n  \r\n  // Metodo pubblico per forzare il salvataggio\r\n  public forceSave(): void {\r\n    this.saveCurrentState()\r\n  }\r\n  \r\n  // Metodo pubblico per forzare il ripristino\r\n  public forceRestore(): void {\r\n    this.restoreAudioIfNeeded()\r\n  }\r\n  \r\n  // Cleanup\r\n  public destroy(): void {\r\n    window.removeEventListener('beforeunload', this.handleBeforeUnload.bind(this))\r\n    window.removeEventListener('unload', this.handleUnload.bind(this))\r\n    window.removeEventListener('focus', this.handleWindowFocus.bind(this))\r\n    window.removeEventListener('pageshow', this.handlePageShow.bind(this))\r\n    window.removeEventListener('popstate', this.handlePopState.bind(this))\r\n    \r\n    this.isInitialized = false\r\n    GlobalAudioPersistence.instance = null\r\n    console.log(' Global Audio Persistence destroyed')\r\n  }\r\n}\r\n\r\n// Auto-inizializzazione\r\nconst globalAudioPersistence = GlobalAudioPersistence.getInstance()\r\n\r\nexport default globalAudioPersistence\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport { Mic, MicOff, Settings, Radio, GripVertical } from 'lucide-react'\nimport { useNavigate } from 'react-router-dom'\nimport DeckPlayer from './DeckPlayer'\nimport MixerControls from './MixerControls'\nimport AudioManager from '../audio/AudioManager'\nimport '../audio/GlobalAudioPersistence' // Auto-inizializza la persistenza\nimport { usePlaylist } from '../contexts/PlaylistContext'\nimport { useSettings } from '../contexts/SettingsContext'\nimport { localDatabase } from '../database/LocalDatabase'\nimport { getBlob } from '../database/BlobStore'\nimport { StreamingManager } from '../audio/StreamingManager'\nimport { useAudio } from '../contexts/AudioContext'\n\ninterface Track {\n  id: string\n  title: string\n  artist: string\n  duration: number\n  url: string\n}\n\nconst NewDJConsole: React.FC = () => {\n  // Navigation\n  const navigate = useNavigate()\n  \n  // Audio Manager instance\n  const [audioManager] = useState(() => {\n    const manager = AudioManager.getInstance()\n    //  FIX: Make AudioManager globally available for AudioContext\n    ;(window as any).audioManager = manager\n    return manager\n  })\n  \n  // Streaming Manager instance\n  const [streamingManager] = useState(() => new StreamingManager())\n  \n  // Settings context\n  const { settings } = useSettings()\n  \n  // Audio context for mixed stream\n  const { getMixedStream } = useAudio()\n  \n  // Stati locali\n  const [deckATrack, setDeckATrack] = useState<Track | null>(null)\n  const [deckBTrack, setDeckBTrack] = useState<Track | null>(null)\n  const [deckAVolume, setDeckAVolume] = useState(0.8)\n  const [deckBVolume, setDeckBVolume] = useState(0.8)\n  const [masterVolume, setMasterVolume] = useState(0.8)\n  const [micEnabled, setMicEnabled] = useState(true)  //  CRITICAL FIX: Microfono SEMPRE abilitato di default\n     const [micVolume, setMicVolume] = useState(() => {\n     //  CRITICAL FIX: Microfono SEMPRE abilitato di default al 10% (udibile ma basso)\n     const savedVolume = (window as any).__micVolume__ || 0.1  // 10% di default invece di 70%\n     ;(window as any).__micVolume__ = savedVolume // Ensure it's set globally\n     console.log(' [INIT] Microphone initialized at', Math.round(savedVolume * 100), '% (always enabled)')\n     return savedVolume\n   })\n  const [cueEnabled, setCueEnabled] = useState(false)\n  const [activeDeck, setActiveDeck] = useState<'A' | 'B'>('A')\n  \n  // Stati streaming reali\n  const [isStreaming, setIsStreaming] = useState(false)\n  const [isStreamConnected, setIsStreamConnected] = useState(false)\n  const [streamStatus, setStreamStatus] = useState<'disconnected' | 'connecting' | 'connected' | 'streaming'>('disconnected')\n  const [streamError, setStreamError] = useState<string | null>(null)\n  const testOscillatorRef = useRef<OscillatorNode | null>(null)\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null)\n  const streamVerificationInterval = useRef<NodeJS.Timeout | null>(null)\n  const settingsLoadedRef = useRef(false)\n  \n  // Sistema pannello notifiche streaming (sostituisce i toast)\n  const [showNotificationPanel, setShowNotificationPanel] = useState(false)\n  const [notificationPanelHasNew, setNotificationPanelHasNew] = useState(false)\n  \n  // Debug log streaming\n  const [streamLogs, setStreamLogs] = useState<string[]>([])\n  const [showDebugPanel, setShowDebugPanel] = useState(false)\n  \n  // Stati per i deck attivi e mute\n  const [deckAActive, setDeckAActive] = useState(false)\n  const [deckBActive, setDeckBActive] = useState(false)\n  const [deckAMuted, setDeckAMuted] = useState(false)\n  const [deckBMuted, setDeckBMuted] = useState(false)\n  \n  // Playlist context\n  const { state: playlistState, dispatch: playlistDispatch } = usePlaylist()\n  const [activePlaylistId, setActivePlaylistId] = useState<string | null>(null)\n  \n  // Drag & Drop states\n  const [draggedTrack, setDraggedTrack] = useState<number | null>(null)\n  const [dragOverTrack, setDragOverTrack] = useState<number | null>(null)\n  const [doubleClickTimeout, setDoubleClickTimeout] = useState<NodeJS.Timeout | null>(null)\n  const lastClickTimeRef = useRef<number>(0)\n  const lastClickedTrackRef = useRef<string | null>(null)\n  \n  // Dialog per conferma traccia duplicata\n  const [duplicateTrackDialog, setDuplicateTrackDialog] = useState<{\n    show: boolean\n    track: any\n    targetDeck: 'A' | 'B'\n    sourceDeck: 'A' | 'B'\n  } | null>(null)\n  \n  //  CRITICAL FIX: Attiva automaticamente il microfono all'avvio\n  useEffect(() => {\n    console.log(' [STARTUP] Auto-enabling microphone at startup')\n    audioManager.setMicrophoneEnabled(true)\n    audioManager.setMicVolume(micVolume)\n    console.log(' [STARTUP] Microphone auto-enabled at', Math.round(micVolume * 100), '%')\n  }, [audioManager, micVolume])\n\n  // Sincronizza con Audio Manager\n  useEffect(() => {\n    const handleStateChange = () => {\n      const state = audioManager.getState()\n      \n      // Aggiorna stati locali\n      setDeckATrack(state.deckA.track)\n      setDeckBTrack(state.deckB.track)\n      setDeckAVolume(state.deckA.volume)\n      setDeckBVolume(state.deckB.volume)\n      setMasterVolume(state.masterVolume)\n      setMicEnabled(state.micEnabled)\n      setMicVolume(state.micVolume)\n      setCueEnabled(state.cueEnabled)\n      \n      // Aggiorna stati dei deck attivi e mute\n      setDeckAActive(state.deckA.isActive)\n      setDeckBActive(state.deckB.isActive)\n      setDeckAMuted(state.deckA.isMuted)\n      setDeckBMuted(state.deckB.isMuted)\n      \n      // Determina deck attivo - ora pu essere entrambi o nessuno\n      // Per la UI principale, mostra quello che suona per ultimo\n      if (state.deckA.isPlaying && state.deckB.isPlaying) {\n        // Se entrambi suonano, mantieni l'ultimo selezionato\n        // oppure usa A come default\n        setActiveDeck(activeDeck || 'A')\n      } else if (state.deckA.isPlaying) {\n        setActiveDeck('A')\n      } else if (state.deckB.isPlaying) {\n        setActiveDeck('B')\n      } else {\n        // Nessuno suona - usa il primo attivo o nessuno\n        if (state.deckA.isActive) setActiveDeck('A')\n        else if (state.deckB.isActive) setActiveDeck('B')\n        // Non cambiare se nessuno  attivo\n      }\n    }\n    \n    // Listener per cambiamenti di stato\n    audioManager.addEventListener('stateChanged', handleStateChange)\n    \n    // Listener specifico per cambiamenti di volume (per mute/unmute)\n    const handleVolumeChange = (event: any) => {\n      if (event.deckId) {\n        console.log(` Volume changed for Deck ${event.deckId}: ${Math.round(event.data * 100)}%`)\n        // Forza l'aggiornamento dello stato\n        handleStateChange()\n      }\n    }\n    \n    audioManager.addEventListener('volumeChanged', handleVolumeChange)\n    \n    // Carica stato iniziale\n    handleStateChange()\n    \n    return () => {\n      audioManager.removeEventListener('stateChanged', handleStateChange)\n      audioManager.removeEventListener('volumeChanged', handleVolumeChange)\n    }\n  }, [audioManager, activeDeck])\n  \n  // Seleziona automaticamente la prima playlist\n  useEffect(() => {\n    if (!activePlaylistId && playlistState.library.playlists.length > 0) {\n      setActivePlaylistId(playlistState.library.playlists[0].id)\n    }\n  }, [activePlaylistId, playlistState.library.playlists])\n  \n  // Gestori eventi deck\n  const handleDeckAVolumeChange = useCallback((volume: number) => {\n    // Only update local AudioManager for monitoring\n    audioManager.setDeckVolume('A', volume)\n    console.log(' Deck A volume updated to', volume, '(LIVE MIXER COMPLETELY UNAFFECTED)')\n    // Note: Live mixer uses fixed 100% volume regardless of this setting\n  }, [audioManager])\n  \n  const handleDeckBVolumeChange = useCallback((volume: number) => {\n    // Only update local AudioManager for monitoring\n    audioManager.setDeckVolume('B', volume)\n    console.log(' Deck B volume updated to', volume, '(LIVE MIXER COMPLETELY UNAFFECTED)')\n    // Note: Live mixer uses fixed 100% volume regardless of this setting\n  }, [audioManager])\n  \n  const handleDeckAActivate = useCallback(() => {\n    audioManager.setDeckActive('A', true)\n  }, [audioManager])\n  \n  const handleDeckBActivate = useCallback(() => {\n    audioManager.setDeckActive('B', true)\n  }, [audioManager])\n  \n  \n  const handleMasterVolumeChange = useCallback((volume: number) => {\n    console.log(` [MASTER VOLUME] Changing master volume to ${Math.round(volume * 100)}%`)\n    audioManager.setMasterVolume(volume)\n    \n    //  FIX: Sempre aggiorna il mixer gain quando cambia il master, anche senza PTT\n    if ((window as any).updatePTTVolumesOnly) {\n      const currentPTTState = (window as any).__pttActive__ ?? false\n      console.log(` [MASTER VOLUME] Updating mixer gain with PTT state: ${currentPTTState}`)\n      // Re-apply current mixer gain based on latest master and PTT (computed inside)\n      ;(window as any).updatePTTVolumesOnly(currentPTTState)\n    } else {\n      console.log(` [MASTER VOLUME] Warning: updatePTTVolumesOnly function not available yet`)\n    }\n  }, [audioManager])\n  \n  const handleMicToggle = useCallback(() => {\n    audioManager.toggleMicrophone()\n  }, [audioManager])\n  \n\n  \n  const handleCueToggle = useCallback(() => {\n    audioManager.toggleCue()\n  }, [audioManager])\n  \n  // Carica traccia nel deck\n  const loadTrackInDeck = useCallback(async (trackData: any, deckId: 'A' | 'B') => {\n    try {\n      console.log(` Loading track \"${trackData.title}\" in Deck ${deckId}`)\n      \n      // Ottieni il blob della traccia\n      const blob = await getBlob(trackData.blobId)\n      if (!blob) {\n        console.error(` Blob not found for track: ${trackData.title}`)\n        return\n      }\n      \n      // Crea URL per l'audio\n      const url = URL.createObjectURL(blob)\n      \n      // Crea oggetto Track\n      const track: Track = {\n        id: trackData.id,\n        title: trackData.title,\n        artist: trackData.artist,\n        duration: trackData.duration,\n        url: url\n      }\n      \n      // Carica nel manager\n      audioManager.loadTrack(deckId, track)\n      \n      console.log(` Track loaded in Deck ${deckId}`)\n      \n    } catch (error) {\n      console.error(` Error loading track in Deck ${deckId}:`, error)\n    }\n  }, [audioManager])\n  \n  // Funzione helper per aggiungere notifiche al pannello (no toast)\n  const addStreamingNotification = useCallback((\n    type: 'success' | 'error' | 'info' | 'warning',\n    title: string,\n    message: string\n  ) => {\n    const timestamp = new Date().toLocaleTimeString()\n    const logEntry = `[${timestamp}] ${type.toUpperCase()}: ${title} - ${message}`\n    \n    console.log(` ${logEntry}`)\n    \n    // Aggiungi al log di debug (mantieni solo gli ultimi 50)\n    setStreamLogs(prev => [logEntry, ...prev].slice(0, 50))\n    \n    // Segnala che ci sono nuove notifiche se il pannello  chiuso\n    if (!showNotificationPanel && type === 'error') {\n      setNotificationPanelHasNew(true)\n    }\n  }, [showNotificationPanel])\n  \n  // Inizializza StreamingManager\n  useEffect(() => {\n    // Setup listeners per lo streaming\n    streamingManager.onStatusChange = (status) => {\n      console.log(` Stream status changed: ${status}`)\n      setStreamStatus(status)\n      setIsStreamConnected(status === 'connected' || status === 'streaming')\n      setIsStreaming(status === 'streaming')\n      \n      // Mostra notifiche per i cambi di stato importanti\n      switch (status) {\n        case 'connected':\n          // NON diciamo \"Connesso\" qui -  solo la modalit diretta locale attiva\n          // Il vero successo sar mostrato dopo la verifica del server Icecast\n          console.log(' STATUS CHANGE: Connected - Direct mode initialized, waiting for server verification...')\n          addStreamingNotification('info', 'Modalit Diretta Attiva', 'ffmpeg inizializzato, verifica connessione server in corso...')\n        \n        // DIAGNOSTICA PROFONDA: Verifica stato ffmpeg dopo inizializzazione\n        console.log(' DIAGNOSTIC TIMER: Setting up 3-second diagnostic check...')\n        setTimeout(async () => {\n          try {\n            console.log(' DEEP DIAGNOSTIC: Starting ffmpeg connection status check...')\n            addStreamingNotification('info', 'Diagnostica Avviata', 'Verifica stato connessione ffmpeg in corso...')\n            \n            console.log(' DEEP DIAGNOSTIC: Calling streamingManager methods...')\n            \n            let isLocallyStreaming = false\n            let isConnectedToServer = false\n            \n            try {\n              isLocallyStreaming = streamingManager.isCurrentlyStreaming()\n              console.log(' DEEP DIAGNOSTIC: isCurrentlyStreaming() =', isLocallyStreaming)\n            } catch (streamingError) {\n              console.error(' DEEP DIAGNOSTIC: Error calling isCurrentlyStreaming():', streamingError)\n              addStreamingNotification('error', 'Errore Diagnostica', 'Errore nel controllo stato streaming locale')\n            }\n            \n            try {\n              isConnectedToServer = streamingManager.isConnectedToServer()\n              console.log(' DEEP DIAGNOSTIC: isConnectedToServer() =', isConnectedToServer)\n            } catch (serverError) {\n              console.error(' DEEP DIAGNOSTIC: Error calling isConnectedToServer():', serverError)\n              addStreamingNotification('error', 'Errore Diagnostica', 'Errore nel controllo connessione server')\n            }\n            \n            console.log(' DEEP DIAGNOSTIC: Final status:', {\n              locallyStreaming: isLocallyStreaming,\n              connectedToServer: isConnectedToServer\n            })\n            \n            addStreamingNotification('info', 'Status Diagnostica', \n              `Locale: ${isLocallyStreaming ? 'Attivo' : 'Inattivo'}, Server: ${isConnectedToServer ? 'Connesso' : 'Non Connesso'}`)\n            \n            if (!isLocallyStreaming) {\n              console.log(' DEEP DIAGNOSTIC: Local streaming process is NOT active!')\n              addStreamingNotification('error', 'Processo Locale Inattivo', \n                'Il processo di streaming locale (ffmpeg) non  attivo!')\n            }\n            \n            if (!isConnectedToServer) {\n              console.log(' DEEP DIAGNOSTIC: NOT connected to Icecast server!')\n              addStreamingNotification('error', 'Server Non Connesso', \n                'Non siamo connessi al server Icecast! Possibili cause: credenziali errate, server irraggiungibile.')\n              \n              // DIAGNOSTICA AVANZATA: Verifica se ffmpeg sta usando parametri sbagliati\n              console.log(' DEEP DIAGNOSTIC: Checking if ffmpeg is connecting to wrong server...')\n              \n              // Test se ffmpeg si sta connettendo a localhost invece del server remoto\n              try {\n                const localhostTest = await fetch('http://localhost:8000/status-json.xsl', { \n                  signal: AbortSignal.timeout(3000) \n                })\n                if (localhostTest.ok) {\n                  const localhostData = await localhostTest.json()\n                  const localhostSources = localhostData.icestats?.source || []\n                  const localhostArray = Array.isArray(localhostSources) ? localhostSources : [localhostSources]\n                  \n                  console.log(' DEEP DIAGNOSTIC: Localhost Icecast sources:', localhostArray)\n                  \n                  if (localhostArray.length > 0) {\n                    console.log(' DEEP DIAGNOSTIC: ffmpeg might be connecting to localhost instead of remote server!')\n                    addStreamingNotification('warning', 'ffmpeg Misdirected', \n                      'ffmpeg potrebbe essere connesso a localhost invece del server remoto. Verifica configurazione Electron.')\n                      \n                    // Mostra i mountpoint localhost trovati\n                    const localhostMounts = localhostArray.map(s => s.mount || s.listenurl || 'unknown')\n                    console.log(' DEEP DIAGNOSTIC: Localhost mountpoints found:', localhostMounts)\n                    addStreamingNotification('info', 'Localhost Mountpoints', \n                      `Trovati mountpoint su localhost: ${localhostMounts.join(', ')}`)\n                  } else {\n                    console.log(' DEEP DIAGNOSTIC: Localhost Icecast has no sources (this is expected)')\n                  }\n                }\n              } catch (localhostError) {\n                console.log(' DEEP DIAGNOSTIC: No localhost Icecast running (this is normal)')\n              }\n                \n              // Test connessione diretta al server\n              const settings = await localDatabase.getSettings()\n              const icecast = settings.streaming.icecast\n              const protocol = icecast.useSSL ? 'https' : 'http'\n              const testUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}/`\n              \n              try {\n                console.log(` DEEP DIAGNOSTIC: Testing direct connection to ${testUrl}`)\n                const testResponse = await fetch(testUrl, { \n                  method: 'GET',\n                  signal: AbortSignal.timeout(5000)\n                })\n                \n                if (testResponse.ok) {\n                  console.log(` DEEP DIAGNOSTIC: Server reachable, status ${testResponse.status}`)\n                  addStreamingNotification('warning', 'Server Raggiungibile', \n                    `Server ${icecast.host}:${icecast.port} risponde, ma ffmpeg non si connette. Verifica credenziali.`)\n                } else {\n                  console.log(` DEEP DIAGNOSTIC: Server error ${testResponse.status}`)\n                  addStreamingNotification('error', 'Server Error', \n                    `Server ${icecast.host}:${icecast.port} risponde con errore ${testResponse.status}.`)\n                }\n              } catch (testError) {\n                console.error(' DEEP DIAGNOSTIC: Connection test failed:', testError)\n                addStreamingNotification('error', 'Server Irraggiungibile', \n                  `Impossibile raggiungere ${icecast.host}:${icecast.port}. Verifica host e porta.`)\n              }\n            } else {\n              console.log(' DEEP DIAGNOSTIC: Connected to server, but mountpoint verification will follow...')\n              \n              // TEST DECISIVO: Se ffmpeg dice \"connesso\" ma il server non vede nulla,\n              // potrebbe essere connesso al posto sbagliato. Verifichiamo TUTTI i server possibili.\n              addStreamingNotification('warning', 'Connessione Anomala', \n                'ffmpeg dice di essere connesso ma il server remoto non mostra connessioni. Investigando...')\n              \n              // Test 1: Verifica se si  connesso a localhost invece del server remoto\n              console.log(' DECISIVE TEST: Checking if ffmpeg connected to wrong server...')\n              \n              try {\n                const localhostTest = await fetch('http://localhost:8000/status-json.xsl', { \n                  signal: AbortSignal.timeout(3000) \n                })\n                if (localhostTest.ok) {\n                  const localhostData = await localhostTest.json()\n                  const localhostSources = localhostData.icestats?.source || []\n                  const localhostArray = Array.isArray(localhostSources) ? localhostSources : [localhostSources]\n                  \n                  console.log(' DECISIVE TEST: Localhost Icecast sources:', localhostArray)\n                  \n                  if (localhostArray.length > 0) {\n                    console.log(' DECISIVE TEST: FOUND IT! ffmpeg is connected to LOCALHOST, not remote server!')\n                    addStreamingNotification('error', 'ffmpeg su Localhost', \n                      'PROBLEMA TROVATO: ffmpeg si  connesso a localhost:8000 invece del server remoto!')\n                      \n                    const localhostMounts = localhostArray.map(s => s.mount || s.listenurl || 'unknown')\n                    addStreamingNotification('info', 'Mountpoint Localhost', \n                      `Mountpoint trovati su localhost: ${localhostMounts.join(', ')}`)\n                  } else {\n                    console.log(' DECISIVE TEST: Localhost Icecast exists but no sources')\n                  }\n                } else {\n                  console.log(' DECISIVE TEST: Localhost Icecast not responding')\n                }\n              } catch (localhostError) {\n                console.log(' DECISIVE TEST: No localhost Icecast server running')\n              }\n              \n              // Test 2: Verifica altri possibili server locali\n              const commonPorts = [8000, 8001, 8004, 9000]\n              for (const port of commonPorts) {\n                if (port === 8000) continue // gi testato\n                try {\n                  const testResponse = await fetch(`http://localhost:${port}/status-json.xsl`, { \n                    signal: AbortSignal.timeout(2000) \n                  })\n                  if (testResponse.ok) {\n                    console.log(` DECISIVE TEST: Found Icecast on localhost:${port}!`)\n                    addStreamingNotification('warning', 'Icecast Locale Trovato', \n                      `Trovato server Icecast su localhost:${port} - potrebbe interferire!`)\n                  }\n                } catch {}\n              }\n            }\n            \n            console.log(' DEEP DIAGNOSTIC: Diagnostic check completed successfully')\n            addStreamingNotification('info', 'Diagnostica Completata', 'Controllo stato connessione terminato')\n            \n          } catch (diagError) {\n            console.error(' DEEP DIAGNOSTIC: Error during check:', diagError)\n            addStreamingNotification('error', 'Errore Diagnostica', `Errore durante controllo: ${diagError.message}`)\n          }\n        }, 2000) // Ridotto a 2 secondi per test pi rapido\n        \n        setStreamError(null)\n        break\n        case 'streaming':\n          // NON mostriamo subito \"Streaming Attivo\" - aspettiamo la verifica server\n          console.log(' Local streaming started, waiting for server verification...')\n          \n          // MONITORAGGIO DISCONNESSIONE: Controlla ogni 5 secondi se siamo ancora connessi\n          const disconnectionMonitor = setInterval(async () => {\n            try {\n              const stillStreaming = streamingManager.isCurrentlyStreaming()\n              const stillConnected = streamingManager.isConnectedToServer()\n              \n              console.log(' CONNECTION MONITOR:', {\n                streaming: stillStreaming,\n                connected: stillConnected,\n                timestamp: new Date().toISOString()\n              })\n              \n              if (!stillStreaming || !stillConnected) {\n                console.log(' CONNECTION LOST DETECTED!')\n                addStreamingNotification('warning', 'Connessione Persa', \n                  'La connessione al server si  interrotta. Tentativo di riconnessione...')\n                clearInterval(disconnectionMonitor)\n              }\n            } catch (monitorError) {\n              console.error(' CONNECTION MONITOR ERROR:', monitorError)\n              clearInterval(disconnectionMonitor)\n            }\n          }, 5000)\n          \n          // Pulisci il monitor quando lo streaming si ferma\n          const originalStopStreaming = streamingManager.stopStreaming.bind(streamingManager)\n          streamingManager.stopStreaming = () => {\n            clearInterval(disconnectionMonitor)\n            return originalStopStreaming()\n          }\n          \n          // Avvia verifica periodica dello stato streaming + monitoraggio connessioni rifiutate\n          if (streamVerificationInterval.current) {\n            clearInterval(streamVerificationInterval.current)\n          }\n          \n          let lastConnectionCount = 0\n          let connectionAttemptCount = 0\n          \n          streamVerificationInterval.current = setInterval(async () => {\n            const actuallyStreaming = streamingManager.isCurrentlyStreaming()\n            const actuallyConnected = streamingManager.isConnectedToServer()\n            \n            if (!actuallyStreaming || !actuallyConnected) {\n              console.log(' Periodic check: streaming lost!')\n              addStreamingNotification('error', 'Streaming Perso', \n                'La connessione di streaming si  interrotta. Riprova a connetterti.')\n              setStreamError('Streaming connection lost')\n              setStreamStatus('disconnected')\n              setIsStreaming(false)\n              setIsStreamConnected(false)\n              \n              if (streamVerificationInterval.current) {\n                clearInterval(streamVerificationInterval.current)\n                streamVerificationInterval.current = null\n              }\n              return\n            }\n            \n            // Monitora tentativi di connessione rifiutati controllando le statistiche del server\n            try {\n              const settings = await localDatabase.getSettings()\n              if (settings?.streaming?.icecast) {\n                const icecast = settings.streaming.icecast\n                const protocol = icecast.useSSL ? 'https' : 'http'\n                const statusUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}/admin/stats.xml`\n                \n                try {\n                  const response = await fetch(statusUrl, { \n                    signal: AbortSignal.timeout(3000),\n                    headers: {\n                      'Authorization': `Basic ${btoa(`${icecast.username}:${icecast.password}`)}`\n                    }\n                  })\n                  \n                  if (response.ok) {\n                    const xmlText = await response.text()\n                    \n                    // Cerca pattern di connessioni rifiutate nei log\n                    const rejectedMatches = xmlText.match(/source_connection_refused|source_already_connected|client_connection_refused/gi)\n                    const currentConnectionAttempts = rejectedMatches ? rejectedMatches.length : 0\n                    \n                    if (currentConnectionAttempts > connectionAttemptCount) {\n                      const newAttempts = currentConnectionAttempts - connectionAttemptCount\n                      console.log(` Detected ${newAttempts} rejected connection attempts`)\n                      addStreamingNotification('info', 'Server Occupato Confermato', \n                        `${newAttempts} tentativo/i di connessione rifiutato/i dal server. Il mountpoint  effettivamente occupato da te.`)\n                      connectionAttemptCount = currentConnectionAttempts\n                    }\n                  }\n                } catch (adminError) {\n                  // Admin endpoint potrebbe non essere accessibile, proviamo con status pubblico\n                  const publicStatusUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}/status-json.xsl`\n                  try {\n                    const publicResponse = await fetch(publicStatusUrl, { signal: AbortSignal.timeout(3000) })\n                    if (publicResponse.ok) {\n                      const statusData = await publicResponse.json()\n                      const sources = statusData.icestats?.source || []\n                      const sourcesArray = Array.isArray(sources) ? sources : [sources]\n                      \n                      // Controlla se ci sono pi sorgenti che tentano di connettersi allo stesso mountpoint\n                      const mountpoint = icecast.mount || '/live'\n                      const matchingSources = sourcesArray.filter(source => {\n                        const sourceMount = source.mount || ''\n                        const sourceUrl = source.listenurl || ''\n                        \n                        // Match diretto sul mount\n                        if (sourceMount === mountpoint) return true\n                        \n                        // Match sulla fine dell'URL (es. /live)\n                        if (sourceUrl.endsWith(mountpoint)) return true\n                        \n                        // Match flessibile: se il nostro mountpoint  /live, cerca qualsiasi URL che contiene \"live\"\n                        if (mountpoint && mountpoint.length > 1) {\n                          const mountName = mountpoint.replace('/', '') // rimuovi /\n                          if (sourceUrl.includes(mountName) || sourceMount.includes(mountName)) return true\n                        }\n                        \n                        return false\n                      })\n                      \n                      if (matchingSources.length > 1) {\n                        addStreamingNotification('warning', 'Conflitto Mountpoint', \n                          `Rilevate ${matchingSources.length} sorgenti per lo stesso mountpoint. Possibili connessioni concorrenti.`)\n                      }\n                    }\n                  } catch (publicError) {\n                    // Non possiamo monitorare, ma non  un errore critico\n                  }\n                }\n              }\n            } catch (monitorError) {\n              console.warn(' Monitoring error:', monitorError)\n            }\n          }, 15000) // Verifica ogni 15 secondi per non sovraccaricare il server\n          break\n        case 'disconnected':\n          if (streamError) {\n            addStreamingNotification('error', 'Disconnesso', `Connessione persa: ${streamError}`)\n          }\n          setStreamError(null)\n          \n          // Ferma verifica periodica\n          if (streamVerificationInterval.current) {\n            clearInterval(streamVerificationInterval.current)\n            streamVerificationInterval.current = null\n          }\n          break\n      }\n    }\n    \n    streamingManager.onDebug = (message) => {\n      console.log(` [STREAMING] ${message}`)\n      \n      // Rileva e notifica errori nei messaggi di debug\n      const lowerMsg = message.toLowerCase()\n      \n      if (lowerMsg.includes('error') || lowerMsg.includes('failed')) {\n        const errorMsg = `Debug: ${message}`\n        setStreamError(errorMsg)\n        setStreamStatus('disconnected')\n        setIsStreaming(false)\n        setIsStreamConnected(false)\n        \n        // Errori specifici con messaggi pi chiari\n        if (lowerMsg.includes('mountpoint') || lowerMsg.includes('already') || lowerMsg.includes('occupied') || lowerMsg.includes('in use')) {\n          addStreamingNotification('error', 'Server Occupato', \n            'Il mountpoint  gi in uso da un altro utente. Prova pi tardi o usa un mountpoint diverso.')\n        } else if (lowerMsg.includes('auth') || lowerMsg.includes('password') || lowerMsg.includes('credentials')) {\n          addStreamingNotification('error', 'Credenziali Errate', \n            'Username o password non corretti. Verifica le credenziali nelle impostazioni.')\n        } else if (lowerMsg.includes('connection') || lowerMsg.includes('connect')) {\n          addStreamingNotification('error', 'Connessione Fallita', \n            'Impossibile connettersi al server. Verifica URL e porta nelle impostazioni.')\n        } else {\n          addStreamingNotification('error', 'Errore Streaming', errorMsg)\n        }\n      } else if (lowerMsg.includes('connected')) {\n        addStreamingNotification('info', 'Debug', message)\n      } else if (lowerMsg.includes('rejected') || lowerMsg.includes('denied')) {\n        setStreamError('Connection rejected')\n        setStreamStatus('disconnected')\n        setIsStreaming(false)\n        setIsStreamConnected(false)\n        addStreamingNotification('error', 'Connessione Rifiutata', \n          'Il server ha rifiutato la connessione. Potrebbe essere gi occupato.')\n      }\n    }\n    \n    // Carica settings di streaming\n    const loadStreamingSettings = async () => {\n      console.log(' Loading streaming settings...')\n      try {\n        await localDatabase.waitForInitialization()\n        const settings = await localDatabase.getSettings()\n        console.log(' Raw settings loaded:', settings?.streaming)\n        \n        // Per la modalit diretta Icecast, non serve WebSocket bridge\n        // Il server URL  solo per fallback - la modalit diretta bypassa completamente WebSocket\n        if (settings.streaming?.bridgeUrl) {\n          // Solo se esplicitamente configurato un bridge WebSocket\n          streamingManager.setServerUrl(settings.streaming.bridgeUrl)\n          console.log(` WebSocket bridge URL set to: ${settings.streaming.bridgeUrl}`)\n        } else {\n          // Nessun bridge configurato - useremo solo modalit diretta Icecast\n          console.log(` No WebSocket bridge configured - using direct Icecast mode only`)\n        }\n        \n        // Verifica che le credenziali Icecast siano configurate (solo log, no toast)\n        if (!settings.streaming?.icecast?.host || !settings.streaming?.icecast?.password) {\n          console.warn(' Icecast credentials incomplete - streaming may not work')\n          // Non mostriamo toast all'avvio, solo quando l'utente tenta di streammare\n        }\n        \n        // Configura credenziali Icecast se presenti\n        if (settings.streaming?.icecast) {\n          const icecast = settings.streaming.icecast\n          console.log(' RAW ICECAST SETTINGS FROM DATABASE:', {\n            host: icecast.host,\n            port: icecast.port,\n            username: icecast.username,\n            password: icecast.password ? `[${icecast.password.length} chars]` : '[EMPTY]',\n            mount: icecast.mount,\n            useSSL: icecast.useSSL\n          })\n          \n          if (icecast.host && icecast.password) {\n            const credentials = {\n              host: icecast.host,\n              port: icecast.port,\n              username: icecast.username,\n              password: icecast.password,\n              mountpoint: icecast.mount,\n              useSSL: icecast.useSSL\n            }\n            streamingManager.setCredentials(credentials)\n            console.log(` Icecast credentials configured for ${icecast.host}:${icecast.port}${icecast.mount}`)\n            console.log(` Username being used: \"${icecast.username}\"`)\n          } else {\n            console.error(' MISSING REQUIRED CREDENTIALS:', {\n              hasHost: !!icecast.host,\n              hasPassword: !!icecast.password\n            })\n          }\n        } else {\n          console.error(' NO ICECAST SETTINGS FOUND IN DATABASE!')\n        }\n        \n        console.log(' Streaming settings loaded successfully', {\n          serverUrl,\n          hasIcecastConfig: !!settings.streaming?.icecast?.host,\n          icecastHost: settings.streaming?.icecast?.host || 'not set',\n          autoConnect: settings.streaming?.autoConnect || false\n        })\n        \n        // Log settings caricati senza toast automatico\n        const bridgeStatus = settings.streaming?.bridgeUrl ? `Bridge: ${settings.streaming.bridgeUrl}` : 'Direct mode'\n        console.log(` Settings loaded: ${bridgeStatus}${settings.streaming?.icecast?.host ? ` | Icecast: ${settings.streaming.icecast.host}` : ''}`)\n        \n        // Conferma che la configurazione  valida\n        if (settings.streaming?.icecast?.host && settings.streaming?.icecast?.password) {\n          addStreamingNotification('success', 'Configurazione OK', \n            `Server Icecast configurato: ${settings.streaming.icecast.host}:${settings.streaming.icecast.port || 8000}`)\n        }\n      } catch (error) {\n        console.error(' Error loading streaming settings:', error)\n        console.error(' Error details:', {\n          message: error instanceof Error ? error.message : 'Unknown error',\n          stack: error instanceof Error ? error.stack : 'No stack trace'\n        })\n        \n        // Solo mostra errore se realmente non abbiamo configurazione\n        try {\n          const fallbackSettings = await localDatabase.getSettings()\n          if (fallbackSettings?.streaming?.icecast?.host) {\n            console.log(' Settings actually loaded correctly on retry - ignoring previous error')\n            return // Non mostrare errore se i settings sono comunque disponibili\n          }\n        } catch (retryError) {\n          console.error(' Retry also failed:', retryError)\n        }\n        \n        // Solo ora mostra l'errore\n        console.log(' No valid streaming configuration - streaming will not be available')\n        addStreamingNotification('error', 'Errore Configurazione [LoadSettings]', \n          `Errore nel caricamento settings: ${error instanceof Error ? error.message : 'Errore sconosciuto'}`)\n      }\n    }\n    \n    // Carica settings solo una volta all'inizializzazione - CON DEBOUNCE\n    if (!settingsLoadedRef.current) {\n      settingsLoadedRef.current = true\n      // Ritarda il caricamento per non bloccare la navigazione\n      setTimeout(() => {\n        loadStreamingSettings()\n      }, 100)\n    }\n    \n    return () => {\n      // Cleanup: disconnetti se connesso\n      if (isStreamConnected) {\n        streamingManager.disconnect()\n      }\n      \n      // Cleanup verifica periodica\n      if (streamVerificationInterval.current) {\n        clearInterval(streamVerificationInterval.current)\n        streamVerificationInterval.current = null\n      }\n    }\n  }, [streamingManager, isStreamConnected, addStreamingNotification, streamError])\n  \n  // Funzione per controllare se una traccia  gi caricata nell'altro deck\n  const checkForDuplicateTrack = useCallback((track: any, targetDeck: 'A' | 'B'): { isDuplicate: boolean, sourceDeck?: 'A' | 'B' } => {\n    const deckAState = audioManager.getDeck('A')\n    const deckBState = audioManager.getDeck('B')\n    \n    if (targetDeck === 'A' && deckBState.track?.id === track.id) {\n      return { isDuplicate: true, sourceDeck: 'B' }\n    }\n    if (targetDeck === 'B' && deckAState.track?.id === track.id) {\n      return { isDuplicate: true, sourceDeck: 'A' }\n    }\n    \n    return { isDuplicate: false }\n  }, [audioManager])\n  \n  // Funzione per trovare la prossima traccia nella playlist\n  const getNextTrackInPlaylist = useCallback((currentTrack: any): any | null => {\n    if (!activePlaylistId) return null\n    \n    const currentPlaylist = playlistState.library.playlists.find(p => p.id === activePlaylistId)\n    if (!currentPlaylist?.tracks) return null\n    \n    const currentIndex = currentPlaylist.tracks.findIndex(t => t.id === currentTrack.id)\n    if (currentIndex === -1 || currentIndex >= currentPlaylist.tracks.length - 1) return null\n    \n    return currentPlaylist.tracks[currentIndex + 1]\n  }, [activePlaylistId, playlistState.library.playlists])\n  \n  // Gestione doppio click su traccia nella playlist\n  const handleTrackDoubleClick = useCallback(async (track: any, trackIndex: number, isAutoAdvance: boolean = false) => {\n    console.log(` Double-click on track: ${track.title} (autoAdvance: ${isAutoAdvance})`)\n    \n    // Pulisci timeout precedente se esiste\n    if (doubleClickTimeout) {\n      clearTimeout(doubleClickTimeout)\n    }\n    \n    // Imposta timeout per ripristinare draggable dopo il doppio click\n    const timeout = setTimeout(() => {\n      console.log(' Double-click timeout cleared')\n      setDoubleClickTimeout(null)\n    }, 1000)\n    setDoubleClickTimeout(timeout)\n    \n    // Determina il deck target\n    const deckAState = audioManager.getDeck('A')\n    const deckBState = audioManager.getDeck('B')\n    \n    let targetDeck: 'A' | 'B'\n    \n    if (!deckAState.track || !deckAState.isPlaying) {\n      targetDeck = 'A'\n    } else if (!deckBState.track || !deckBState.isPlaying) {\n      targetDeck = 'B'\n    } else {\n      // Se entrambi sono occupati, carica in quello non attivo\n      targetDeck = deckAState.isActive ? 'B' : 'A'\n    }\n    \n    // Controlla se la traccia  gi caricata nell'altro deck\n    const duplicateCheck = checkForDuplicateTrack(track, targetDeck)\n    \n    if (duplicateCheck.isDuplicate) {\n      console.log(` Track \"${track.title}\" already loaded in Deck ${duplicateCheck.sourceDeck}`)\n      \n      if (isAutoAdvance) {\n        // AUTOAVANZAMENTO: salta alla traccia successiva\n        console.log(' Auto-advance detected: skipping to next track')\n        const nextTrack = getNextTrackInPlaylist(track)\n        \n        if (nextTrack) {\n          console.log(` Loading next track: ${nextTrack.title}`)\n          const nextIndex = playlistState.library.playlists\n            .find(p => p.id === activePlaylistId)?.tracks\n            .findIndex(t => t.id === nextTrack.id) ?? -1\n          \n          // Ricorsione con la traccia successiva\n          await handleTrackDoubleClick(nextTrack, nextIndex, true)\n          return\n        } else {\n          console.log(' No more tracks in playlist')\n          return\n        }\n      } else {\n        // MANUALE: mostra dialog di conferma\n        console.log(' Manual load: showing confirmation dialog')\n        setDuplicateTrackDialog({\n          show: true,\n          track,\n          targetDeck,\n          sourceDeck: duplicateCheck.sourceDeck!\n        })\n        return\n      }\n    }\n    \n    console.log(` Loading track in Deck ${targetDeck}`)\n    \n    // Carica la traccia\n    await loadTrackInDeck(track, targetDeck)\n    \n    // Aspetta un momento che si carichi e poi avvia automaticamente\n    setTimeout(() => {\n      console.log(` Auto-starting playback in Deck ${targetDeck}`)\n      audioManager.play(targetDeck)\n    }, 500)\n    \n  }, [audioManager, loadTrackInDeck, doubleClickTimeout, checkForDuplicateTrack, getNextTrackInPlaylist, activePlaylistId, playlistState.library.playlists])\n\n  // Gestione doppio click semplificata e affidabile\n  const handleTrackClick = useCallback((track: any, trackIndex: number) => {\n    const now = Date.now()\n    const timeSinceLastClick = now - lastClickTimeRef.current\n    const isSameTrack = lastClickedTrackRef.current === track.id\n    \n    // Se  lo stesso track e sono passati meno di 400ms,  un doppio click\n    if (isSameTrack && timeSinceLastClick < 400) {\n      console.log(` Double click detected on track: ${track.title}`)\n      handleTrackDoubleClick(track, trackIndex)\n      // Reset per evitare tripli click\n      lastClickTimeRef.current = 0\n      lastClickedTrackRef.current = null\n    } else {\n      // Primo click o click su track diverso\n      console.log(` Single click on track: ${track.title}`)\n      lastClickTimeRef.current = now\n      lastClickedTrackRef.current = track.id\n    }\n  }, [handleTrackDoubleClick])\n\n  // Render playlist tracks function (senza useMemo per evitare problemi di hoisting)\n  const renderPlaylistTracks = () => {\n    if (!activePlaylistId) return []\n    \n    const currentPlaylist = playlistState.library.playlists.find(p => p.id === activePlaylistId)\n    if (!currentPlaylist?.tracks) return []\n    \n    // Log solo quando necessario per debug\n    if (process.env.NODE_ENV === 'development') {\n      console.log(' Rendering playlist tracks:', currentPlaylist.name, `(${currentPlaylist.tracks.length} tracks)`)\n    }\n    \n    return currentPlaylist.tracks.map((track, index) => (\n      <div\n        key={track.id}\n        draggable={doubleClickTimeout === null}\n        onDragStart={(e) => {\n          if (doubleClickTimeout !== null) {\n            e.preventDefault()\n            return\n          }\n          handleDragStart(e, index)\n        }}\n        onDragOver={(e) => handleDragOver(e, index)}\n        onDragLeave={handleDragLeave}\n        onDrop={(e) => handleDrop(e, index)}\n        onDragEnd={handleDragEnd}\n        onClick={(e) => {\n          e.preventDefault()\n          e.stopPropagation()\n          handleTrackClick(track, index)\n        }}\n        className={`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 group ${\n          draggedTrack === index\n            ? 'bg-blue-600 opacity-75 transform scale-95'\n            : dragOverTrack === index\n            ? 'bg-green-600 border-2 border-green-400 transform scale-105'\n            : 'bg-gray-800 hover:bg-gray-700'\n        }`}\n        style={{\n          minHeight: '60px',\n          visibility: 'visible',\n          display: 'flex'\n        }}\n      >\n        <div className=\"flex items-center space-x-3\">\n          <GripVertical className=\"w-4 h-4 text-gray-500 group-hover:text-gray-300\" />\n          <div className=\"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center text-sm font-bold\">\n            {index + 1}\n          </div>\n          <div>\n            <h4 className=\"font-medium text-white group-hover:text-blue-400 transition-colors\">\n              {track.title}\n            </h4>\n            <p className=\"text-sm text-gray-400\">\n              {track.artist}  {Math.floor(track.duration / 60)}:{String(Math.floor(track.duration % 60)).padStart(2, '0')}\n            </p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center space-x-3\">\n          <span className=\"text-sm text-gray-400\">\n            {Math.floor(track.duration / 60)}:{String(Math.floor(track.duration % 60)).padStart(2, '0')}\n          </span>\n          \n          <div className=\"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n            <button\n              onClick={(e) => {\n                e.stopPropagation()\n                loadTrackInDeck(track, 'A')\n              }}\n              className=\"px-2 py-1 bg-green-600 hover:bg-green-500 text-white text-xs rounded\"\n              title=\"Load in Deck A\"\n            >\n              A\n            </button>\n            <button\n              onClick={(e) => {\n                e.stopPropagation()\n                loadTrackInDeck(track, 'B')\n              }}\n              className=\"px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded\"\n              title=\"Load in Deck B\"\n            >\n              B\n            </button>\n          </div>\n        </div>\n      </div>\n    ))\n  }\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    return () => {\n      if (doubleClickTimeout) {\n        clearTimeout(doubleClickTimeout)\n      }\n    }\n  }, [doubleClickTimeout])\n  \n  // Auto-advance settings\n  const [autoAdvanceEnabled, setAutoAdvanceEnabled] = useState(true)\n  \n  // Carica settings per auto-advance\n  useEffect(() => {\n    const loadAutoAdvanceSettings = async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const settings = await localDatabase.getSettings()\n        setAutoAdvanceEnabled(settings.interface?.autoAdvance ?? true)\n      } catch (error) {\n        console.warn('Could not load auto-advance settings:', error)\n      }\n    }\n    loadAutoAdvanceSettings()\n  }, [])\n  \n  // Gestione fine traccia con auto-advance\n  const handleTrackEnd = useCallback(async (deckId: 'A' | 'B') => {\n    console.log(` Track ended on Deck ${deckId}`)\n    \n    //  FIX: Non fare auto-advance se il deck ha volume 0% per evitare salti audio\n    const currentDeckState = audioManager.getDeck(deckId)\n    const deckVolume = currentDeckState.volume\n    \n    if (deckVolume === 0) {\n      console.log(` [AUTO-ADVANCE] Skipping auto-advance for Deck ${deckId} (volume is 0% - avoiding audio jump)`)\n      return\n    }\n    \n    // Auto-advance se abilitato nelle impostazioni\n    if (settings.interface.autoAdvance && activePlaylistId) {\n      const activePlaylist = playlistState.library.playlists.find(p => p.id === activePlaylistId)\n      if (activePlaylist && activePlaylist.tracks && activePlaylist.tracks.length > 0) {\n        \n        // Trova la traccia corrente che  appena finita\n        const currentDeck = audioManager.getDeck(deckId)\n        const currentTrack = currentDeck.track\n        \n        if (currentTrack) {\n          const currentIndex = activePlaylist.tracks.findIndex(t => t.id === currentTrack.id)\n          \n          // Se c' una traccia successiva\n          if (currentIndex !== -1 && currentIndex < activePlaylist.tracks.length - 1) {\n            const nextTrack = activePlaylist.tracks[currentIndex + 1]\n            \n            console.log(` Auto-advancing to next track: ${nextTrack.title}`)\n            \n            // Usa handleTrackDoubleClick con flag autoAdvance per gestire duplicati\n            const nextIndex = currentIndex + 1\n            await handleTrackDoubleClick(nextTrack, nextIndex, true)\n          } else {\n            console.log(' End of playlist reached')\n          }\n        }\n      }\n    }\n    \n  }, [settings.interface.autoAdvance, activePlaylistId, playlistState.library.playlists, audioManager, loadTrackInDeck, handleTrackDoubleClick])\n  \n  // Drag & Drop handlers\n  const handleDragStart = useCallback((e: React.DragEvent, trackIndex: number) => {\n    console.log(` Drag started for track ${trackIndex}`)\n    setDraggedTrack(trackIndex)\n    e.dataTransfer.effectAllowed = 'move'\n    e.dataTransfer.setData('text/plain', trackIndex.toString())\n  }, [])\n  \n  const handleDragOver = useCallback((e: React.DragEvent, trackIndex: number) => {\n    e.preventDefault()\n    e.dataTransfer.dropEffect = 'move'\n    setDragOverTrack(trackIndex)\n  }, [])\n  \n  const handleDragLeave = useCallback(() => {\n    setDragOverTrack(null)\n  }, [])\n  \n  const handleDrop = useCallback((e: React.DragEvent, dropIndex: number) => {\n    e.preventDefault()\n    \n    if (draggedTrack === null || !activePlaylistId) return\n    \n    console.log(` Dropping track ${draggedTrack} at position ${dropIndex}`)\n    \n    // Trova la playlist attiva\n    const activePlaylist = playlistState.library.playlists.find(p => p.id === activePlaylistId)\n    if (!activePlaylist || !activePlaylist.tracks) {\n      console.error(' Playlist non trovata o senza tracks:', { activePlaylistId, playlistFound: !!activePlaylist })\n      return\n    }\n    \n    console.log(' Playlist trovata:', {\n      id: activePlaylist.id,\n      name: activePlaylist.name,\n      tracksCount: activePlaylist.tracks.length,\n      hasName: !!activePlaylist.name,\n      hasTracks: !!activePlaylist.tracks\n    })\n    \n    // Riordina le tracce\n    const newTracks = [...activePlaylist.tracks]\n    console.log(' Tracks originali:', newTracks.length)\n    \n    // Verifica che l'indice sia valido\n    if (draggedTrack < 0 || draggedTrack >= newTracks.length) {\n      console.error(' Indice drag non valido:', draggedTrack)\n      return\n    }\n    \n    const [movedTrack] = newTracks.splice(draggedTrack, 1)\n    newTracks.splice(dropIndex, 0, movedTrack)\n    \n    console.log(' Tracks dopo riordino:', newTracks.length)\n    \n    // Aggiorna solo le tracks mantenendo le propriet essenziali\n    console.log(' Dispatching UPDATE_PLAYLIST:', {\n      id: activePlaylistId,\n      tracksToUpdate: newTracks.length,\n      originalPlaylistName: activePlaylist.name\n    })\n    \n    // Crea la playlist aggiornata completa\n    const updatedPlaylist = {\n      id: activePlaylist.id,\n      name: activePlaylist.name,\n      description: activePlaylist.description || '',\n      coverUrl: activePlaylist.coverUrl || '',\n      createdAt: activePlaylist.createdAt,\n      updatedAt: new Date().toISOString(),\n      tracks: newTracks \n    }\n    \n    console.log(' Updated playlist object:', {\n      id: updatedPlaylist.id,\n      name: updatedPlaylist.name,\n      tracksCount: updatedPlaylist.tracks.length\n    })\n    \n    playlistDispatch({\n      type: 'UPDATE_PLAYLIST',\n      payload: updatedPlaylist  //  Intera playlist, non oggetto con updates!\n    })\n    \n    console.log(` Track \"${movedTrack.title}\" moved from position ${draggedTrack + 1} to ${dropIndex + 1}`)\n    \n    // Debug: verifica stato dopo aggiornamento\n    setTimeout(() => {\n      const updatedPlaylist = playlistState.library.playlists.find(p => p.id === activePlaylistId)\n      console.log(' Playlist dopo aggiornamento:', {\n        found: !!updatedPlaylist,\n        tracksCount: updatedPlaylist?.tracks?.length || 0,\n        totalPlaylists: playlistState.library.playlists.length,\n        playlistName: updatedPlaylist?.name || 'N/A',\n        hasTracksArray: !!updatedPlaylist?.tracks\n      })\n      if (!updatedPlaylist) {\n        console.error(' Playlist scomparsa dopo l\\'aggiornamento!')\n        console.log(' Playlist disponibili:', playlistState.library.playlists.map(p => ({ id: p.id, name: p.name })))\n      }\n    }, 100)\n    \n    // Reset drag states\n    setDraggedTrack(null)\n    setDragOverTrack(null)\n  }, [draggedTrack, activePlaylistId, playlistState.library.playlists, playlistDispatch])\n  \n  const handleDragEnd = useCallback(() => {\n    setDraggedTrack(null)\n    setDragOverTrack(null)\n  }, [])\n  \n  // Gestione streaming REALE\n  const handleToggleStreaming = useCallback(async () => {\n    try {\n      if (isStreaming) {\n        // STOP streaming\n        console.log(' Stopping streaming...')\n        \n        // Ferma MediaRecorder se attivo\n        if (mediaRecorderRef.current) {\n          try {\n            console.log(' Stopping MediaRecorder...')\n            mediaRecorderRef.current.stop()\n            mediaRecorderRef.current = null\n            console.log(' MediaRecorder stopped')\n          } catch (e) {\n            console.log(' Error stopping MediaRecorder:', e)\n          }\n        }\n        \n        // Ferma oscillatore test se attivo\n        if (testOscillatorRef.current) {\n          try {\n            testOscillatorRef.current.stop()\n            testOscillatorRef.current = null\n          } catch (e) {\n            // Oscillatore gi fermato\n          }\n        }\n        \n        // Ferma anche il processo ffmpeg se attivo\n        if ((window as any).desktopStream && (window as any).desktopStream.stop) {\n          try {\n            (window as any).desktopStream.stop()\n            console.log(' FFmpeg process stopped via desktopStream API')\n          } catch (e) {\n            console.log(' Error stopping desktopStream:', e)\n          }\n        }\n        \n        streamingManager.stopStreaming()\n        streamingManager.disconnect()\n      } else {\n        // START streaming\n        console.log(' Starting streaming...')\n        setStreamError(null)\n        setStreamStatus('connecting')\n        \n        // 1. Verifica configurazione Icecast\n        const settings = await localDatabase.getSettings()\n        if (!settings?.streaming?.icecast?.host) {\n          throw new Error('Server Icecast non configurato. Vai nelle impostazioni e configura host, porta, username e password.')\n        }\n        \n        // 2. VERIFICA PRIMA se il mountpoint  gi occupato\n        try {\n          const icecastHost = settings.streaming.icecast.host\n          const icecastPort = settings.streaming.icecast.port || 8000\n          const useSSL = settings.streaming.icecast.useSSL\n          const protocol = useSSL ? 'https' : 'http'\n          const testUrl = `${protocol}://${icecastHost}:${icecastPort}/status-json.xsl`\n          \n          console.log(` PRE-CHECK: Verifying if mountpoint is free: ${testUrl}`)\n          addStreamingNotification('info', 'Verifica Pre-Connessione', \n            `Controllando se il mountpoint  libero su ${icecastHost}:${icecastPort}...`)\n          \n          // Test con timeout di 5 secondi\n          const controller = new AbortController()\n          const timeoutId = setTimeout(() => controller.abort(), 5000)\n          \n          try {\n            const response = await fetch(testUrl, { \n              signal: controller.signal,\n              headers: { 'Accept': 'application/json' }\n            })\n            clearTimeout(timeoutId)\n            \n            if (response.ok) {\n              const statusData = await response.json()\n              const mountpoint = settings.streaming.icecast.mount || '/live'\n              const sources = statusData.icestats?.source || []\n              const sourcesArray = Array.isArray(sources) ? sources : [sources]\n              \n              console.log(' PRE-CHECK: Current server sources:', sourcesArray.map(s => ({\n                mount: s.mount,\n                listenurl: s.listenurl,\n                listeners: s.listeners\n              })))\n              console.log(` PRE-CHECK: Looking for mountpoint \"${mountpoint}\" with flexible matching`)\n              \n              // FILTRO: Ignora mountpoint localhost quando interroghiamo server remoto\n              const isRemoteServer = !icecastHost.includes('localhost') && !icecastHost.includes('127.0.0.1')\n              const filteredSources = isRemoteServer \n                ? sourcesArray.filter(source => {\n                    const url = source.listenurl || ''\n                    const isLocalhost = url.includes('localhost') || url.includes('127.0.0.1')\n                    if (isLocalhost) {\n                      console.log(` PRE-CHECK: Ignoring localhost source on remote server:`, source)\n                    }\n                    return !isLocalhost\n                  })\n                : sourcesArray\n              \n              console.log(` PRE-CHECK: Filtered ${sourcesArray.length}  ${filteredSources.length} sources (removed localhost from remote server)`)\n              \n              // DIAGNOSTICA: Mostra cosa abbiamo rimosso e cosa rimane\n              if (isRemoteServer && sourcesArray.length > filteredSources.length) {\n                const removedSources = sourcesArray.filter(source => {\n                  const url = source.listenurl || ''\n                  return url.includes('localhost') || url.includes('127.0.0.1')\n                })\n                console.log(` PRE-CHECK: Removed localhost sources:`, removedSources)\n                console.log(` PRE-CHECK: Remaining sources:`, filteredSources)\n              }\n              \n              // Controlla se il nostro mountpoint  GI occupato - MATCHING FLESSIBILE\n              const existingMount = filteredSources.find(source => {\n                const sourceMount = source.mount || ''\n                const sourceUrl = source.listenurl || ''\n                \n                // Match diretto sul mount\n                if (sourceMount === mountpoint) return true\n                \n                // Match sulla fine dell'URL (es. /live)\n                if (sourceUrl.endsWith(mountpoint)) return true\n                \n                // Match flessibile: se il nostro mountpoint  /live, cerca qualsiasi URL che contiene \"live\"\n                if (mountpoint && mountpoint.length > 1) {\n                  const mountName = mountpoint.replace('/', '') // rimuovi /\n                  if (sourceUrl.includes(mountName) || sourceMount.includes(mountName)) return true\n                }\n                \n                return false\n              })\n              \n              if (existingMount) {\n                const listeners = existingMount.listeners || 0\n                console.log(` PRE-CHECK: MOUNTPOINT ALREADY OCCUPIED!`, existingMount)\n                console.log(` PRE-CHECK: Match found - mount: \"${existingMount.mount}\", url: \"${existingMount.listenurl}\"`)\n                addStreamingNotification('error', 'Mountpoint Occupato', \n                  `Il mountpoint ${mountpoint}  gi in uso con ${listeners} ascoltatori. Non posso connettermi.`)\n                throw new Error(`Il mountpoint ${mountpoint}  gi occupato da un altro utente`)\n              } else {\n                console.log(` PRE-CHECK: Mountpoint ${mountpoint} is FREE - we can connect`)\n                addStreamingNotification('success', 'Mountpoint Libero', \n                  `Il mountpoint ${mountpoint}  libero. Procedo con la connessione.`)\n              }\n            } else {\n              console.log(` PRE-CHECK: Server error ${response.status}`)\n              addStreamingNotification('warning', 'Server Non Accessibile', \n                `Server ${icecastHost}:${icecastPort} non accessibile (${response.status}). Procedo comunque.`)\n            }\n          } catch (fetchError) {\n            clearTimeout(timeoutId)\n            console.error(' PRE-CHECK: Cannot verify mountpoint status:', fetchError)\n            addStreamingNotification('error', 'Impossibile Verificare', \n              `Non riesco a verificare lo stato del mountpoint. Per sicurezza, non procedo.`)\n            throw new Error(`Impossibile verificare se il mountpoint  libero: ${fetchError instanceof Error ? fetchError.message : 'errore di rete'}`)\n          }\n        } catch (testError) {\n          console.error(' PRE-CHECK failed:', testError)\n          // Se il PRE-CHECK fallisce con un errore specifico, non continuare\n          if (testError instanceof Error && (\n            testError.message.includes('gi occupato') || \n            testError.message.includes('Impossibile verificare')\n          )) {\n            throw testError // Rilancia l'errore per fermare tutto\n          }\n          console.warn(' PRE-CHECK: Unknown error, proceeding with caution')\n        }\n        \n        // 3. Connetti al server\n        const connected = await streamingManager.connect()\n        if (!connected) {\n          throw new Error('Failed to connect to streaming server')\n        }\n        \n        // 4. INTEGRAZIONE DELICATA: Usa il sistema ffmpeg funzionante per il tono di test\n        console.log(' INTEGRAZIONE DELICATA: Using working ffmpeg system for test tone...')\n        \n        // 4.1. FORZA ATTIVAZIONE AUDIO per ottenere mixing reale invece del tono\n        console.log(' FORZANDO ATTIVAZIONE AUDIO per mixing reale...')\n        \n        // Forza attivazione microfono se non  gi attivo\n        if (!audioManager.state?.microphone?.isEnabled) {\n          console.log(' Forzando attivazione microfono...')\n          try {\n            await audioManager.toggleMicrophone()\n            console.log(' Microfono attivato forzatamente')\n          } catch (micError) {\n            console.warn(' Non posso attivare microfono:', micError)\n          }\n        }\n        \n        // NOTA: Non forziamo pi l'attivazione dei deck - l'utente ci pensa da solo\n        console.log(' Deck activation lasciata all\\'utente - non forziamo nulla')\n        \n        // Aspetta un momento per la stabilizzazione audio\n        await new Promise(resolve => setTimeout(resolve, 500))\n        \n        // Mostra ESATTAMENTE con quali credenziali stiamo tentando di connetterci\n        const currentSettings = await localDatabase.getSettings()\n        if (currentSettings?.streaming?.icecast) {\n          const creds = currentSettings.streaming.icecast\n          console.log(' CREDENZIALI USATE PER LA CONNESSIONE:')\n          console.log(` Host: ${creds.host}`)\n          console.log(` Port: ${creds.port}`)\n          console.log(` Username: ${creds.username}`)\n          console.log(` Password: ${creds.password ? '[NASCOSTA]' : '[VUOTA]'}`)\n          console.log(` Mountpoint: ${creds.mount}`)\n          console.log(` SSL: ${creds.useSSL ? 'ON' : 'OFF'}`)\n          \n          addStreamingNotification('info', 'Credenziali Debug', \n            `Connessione con: ${creds.username}@${creds.host}:${creds.port}${creds.mount}`)\n          \n          // DIAGNOSTICA: Costruisci l'URL completo che ffmpeg user\n          const protocol = creds.useSSL ? 'icecast://' : 'icecast://'\n          const safeUrl = `${protocol}${creds.username}:***@${creds.host}:${creds.port}${creds.mount}`\n          console.log(' FFMPEG URL (safe):', safeUrl)\n          \n          addStreamingNotification('info', 'URL ffmpeg', \n            `URL di connessione: ${safeUrl}`)\n        }\n        \n        // 5. IMPOSTA FORMATO E BITRATE DAI SETTINGS\n        const streamingSettings = currentSettings.streaming\n        const desiredFormat = streamingSettings?.defaultFormat || 'mp3'\n        const desiredBitrate = streamingSettings?.defaultBitrate || 128\n        \n        console.log(' FORMATO E BITRATE DAI SETTINGS:')\n        console.log(` Format: ${desiredFormat}`)\n        console.log(` Bitrate: ${desiredBitrate} kbps`)\n        \n        // Imposta i parametri nel StreamingManager\n        ;(streamingManager as any)._desiredFormat = desiredFormat\n        ;(streamingManager as any)._desiredBitrate = desiredBitrate\n        \n        addStreamingNotification('info', 'Parametri Streaming', \n          `Formato: ${desiredFormat.toUpperCase()}, Bitrate: ${desiredBitrate} kbps`)\n        \n        // 6. INTEGRAZIONE DELICATA: Avvia streaming con ffmpeg per il tono di test\n        console.log(' INTEGRAZIONE DELICATA: Starting ffmpeg streaming for test tone...')\n        \n        // Usa il sistema desktopStream se disponibile (pi affidabile)\n        if ((window as any).desktopStream && (window as any).desktopStream.start) {\n          try {\n            console.log(' Using desktopStream API for ffmpeg...')\n            \n            // Ottieni il nick dalle settings per i metadata ffmpeg\n            const djNick = (currentSettings as any)?.djName || 'DJ Console'\n            \n            const ffmpegParams = {\n              host: currentSettings.streaming.icecast.host,\n              port: currentSettings.streaming.icecast.port || 8000,\n              mount: currentSettings.streaming.icecast.mount || '/live',\n              username: currentSettings.streaming.icecast.username,\n              password: currentSettings.streaming.icecast.password,\n              useSSL: currentSettings.streaming.icecast.useSSL || false,\n              bitrateKbps: desiredBitrate,\n              format: desiredFormat,\n              // Aggiungi metadata personalizzati per ffmpeg\n              stationName: djNick,\n              stationDescription: `${djNick} Live DJ Stream`,\n              stationGenre: 'Electronic/Live DJ'\n            }\n            \n            console.log(' FFMPEG PARAMS:', ffmpegParams)\n            \n            const result = await (window as any).desktopStream.start(ffmpegParams)\n            console.log(' desktopStream.start result:', result)\n            \n            if (result && result.ok) {\n              console.log(' Native streaming started successfully with', `${ffmpegParams.host}:${ffmpegParams.port}${ffmpegParams.mount}`)\n              addStreamingNotification('success', 'Streaming Avviato', \n                `Streaming nativo avviato con successo verso ${ffmpegParams.host}:${ffmpegParams.port}${ffmpegParams.mount}`)\n              \n              //  CRITICAL FIX: Ora devo avviare il MediaRecorder per inviare dati audio a ffmpeg!\n              console.log(' CRITICAL FIX: Now starting MediaRecorder to send audio data to ffmpeg...')\n              \n              //  TIMING FIX: Aspetta che l'audio sia completamente caricato e pronto\n              console.log(' TIMING FIX: Waiting for audio elements to be fully loaded...')\n              \n              //  CRITICAL: Aspetta che l'elemento audio sia completamente caricato\n              //  FIX: Uso i selettori corretti basati su data-deck dell'AudioManager\n              let leftAudioElement = document.querySelector('audio[data-deck=\"A\"]') as HTMLAudioElement\n              let rightAudioElement = document.querySelector('audio[data-deck=\"B\"]') as HTMLAudioElement\n              \n              //  FALLBACK: Se non trovo per data-deck, provo a cercare per classe generica\n              if (!leftAudioElement) {\n                const leftAudioByClass = document.querySelector('audio.deck-audio[data-deck=\"A\"]') as HTMLAudioElement\n                if (leftAudioByClass) {\n                  console.log(' TIMING FIX: Found left audio by class selector')\n                  leftAudioElement = leftAudioByClass\n                }\n              }\n              \n              if (!rightAudioElement) {\n                const rightAudioByClass = document.querySelector('audio.deck-audio[data-deck=\"B\"]') as HTMLAudioElement\n                if (rightAudioByClass) {\n                  console.log(' TIMING FIX: Found right audio by class selector')\n                  rightAudioElement = rightAudioByClass\n                }\n              }\n              \n              console.log(' TIMING FIX: Audio element references:', {\n                leftAudioRef: !!audioManager.leftAudioRef,\n                leftAudioElement: !!leftAudioElement,\n                rightAudioRef: !!audioManager.rightAudioRef,\n                rightAudioElement: !!rightAudioElement\n              })\n              \n              //  CRITICAL DEBUG: Vediamo esattamente cosa c' negli elementi audio\n              if (leftAudioElement) {\n                console.log(' TIMING FIX: Left audio element details:', {\n                  tagName: leftAudioElement.tagName,\n                  id: leftAudioElement.id,\n                  className: leftAudioElement.className,\n                  src: leftAudioElement.src,\n                  srcLength: leftAudioElement.src?.length || 0,\n                  readyState: leftAudioElement.readyState,\n                  currentTime: leftAudioElement.currentTime,\n                  duration: leftAudioElement.duration,\n                  paused: leftAudioElement.paused,\n                  volume: leftAudioElement.volume,\n                  muted: leftAudioElement.muted,\n                  networkState: leftAudioElement.networkState,\n                  error: leftAudioElement.error\n                })\n              }\n              \n              if (rightAudioElement) {\n                console.log(' TIMING FIX: Right audio element details:', {\n                  tagName: rightAudioElement.tagName,\n                  id: rightAudioElement.id,\n                  className: rightAudioElement.className,\n                  src: rightAudioElement.src,\n                  srcLength: rightAudioElement.src?.length || 0,\n                  readyState: rightAudioElement.readyState,\n                  currentTime: rightAudioElement.currentTime,\n                  duration: rightAudioElement.duration,\n                  paused: rightAudioElement.paused,\n                  volume: rightAudioElement.volume,\n                  muted: rightAudioElement.muted,\n                  networkState: rightAudioElement.networkState,\n                  error: rightAudioElement.error\n                })\n              }\n              \n              if (leftAudioElement && leftAudioElement.src) {\n                console.log(' TIMING FIX: Left audio element found, waiting for loadeddata event...')\n                await new Promise<void>((resolve) => {\n                  if (leftAudioElement.readyState >= 2) {\n                    console.log(' TIMING FIX: Left audio already ready (readyState:', leftAudioElement.readyState, ')')\n                    resolve()\n                  } else {\n                    leftAudioElement.addEventListener('loadeddata', () => {\n                      console.log(' TIMING FIX: Left audio loadeddata event fired (readyState:', leftAudioElement.readyState, ')')\n                      resolve()\n                    }, { once: true })\n                    \n                    // Fallback: timeout dopo 2 secondi\n                    setTimeout(() => {\n                      console.log(' TIMING FIX: Left audio timeout - forcing continue')\n                      resolve()\n                    }, 2000)\n                  }\n                })\n              }\n              \n              if (rightAudioElement && rightAudioElement.src) {\n                console.log(' TIMING FIX: Right audio element found, waiting for loadeddata event...')\n                await new Promise<void>((resolve) => {\n                  if (rightAudioElement.readyState >= 2) {\n                    console.log(' TIMING FIX: Right audio already ready (readyState:', rightAudioElement.readyState, ')')\n                    resolve()\n                  } else {\n                    rightAudioElement.addEventListener('loadeddata', () => {\n                      console.log(' TIMING FIX: Right audio loadeddata event fired (readyState:', rightAudioElement.readyState, ')')\n                      resolve()\n                    }, { once: true })\n                    \n                    // Fallback: timeout dopo 2 secondi\n                    setTimeout(() => {\n                      console.log(' TIMING FIX: Right audio timeout - forcing continue')\n                      resolve()\n                    }, 2000)\n                  }\n                })\n              }\n              \n              console.log(' TIMING FIX: Audio elements should be ready now')\n              \n              //  CRITICAL FIX: Aspetta che il src sia impostato negli elementi audio\n              console.log(' CRITICAL FIX: Waiting for audio src to be set...')\n              let retryCount = 0\n              const maxRetries = 10\n              \n              while (retryCount < maxRetries && (!leftAudioElement?.src || !rightAudioElement?.src)) {\n                console.log(` CRITICAL FIX: Retry ${retryCount + 1}/${maxRetries} - Waiting for src...`)\n                console.log(' CRITICAL FIX: Left src:', leftAudioElement?.src || 'NULL')\n                console.log(' CRITICAL FIX: Right src:', rightAudioElement?.src || 'NULL')\n                \n                if (retryCount < maxRetries - 1) {\n                  await new Promise(resolve => setTimeout(resolve, 500)) // Aspetta 500ms\n                }\n                retryCount++\n              }\n              \n              const leftElement = document.querySelector('audio.deck-audio[data-deck=\"A\"]') as HTMLAudioElement\n              const rightElement = document.querySelector('audio.deck-audio[data-deck=\"B\"]') as HTMLAudioElement\n              \n              if (leftElement?.src && rightElement?.src) {\n                console.log(' CRITICAL FIX: Audio src found after retries!')\n                console.log(' CRITICAL FIX: Left src:', leftElement.src)\n                console.log(' CRITICAL FIX: Right src:', rightElement.src)\n              } else {\n                console.warn(' CRITICAL FIX: Audio src still not found after all retries!')\n              }\n              \n              //  CRITICAL FIX: Aspetta che gli elementi audio siano completamente caricati\n              console.log(' TIMING FIX: Ensuring audio elements are fully loaded before mixing...')\n              \n              // Verifica che gli elementi audio siano pronti per il mixing\n              const ensureAudioReady = () => {\n                //  FIX: Uso le variabili gi definite nel scope esterno\n                const leftElement = leftAudioElement\n                const rightElement = rightAudioElement\n                \n                console.log(' TIMING FIX: Audio readiness check:', {\n                  left: {\n                    exists: !!leftElement,\n                    src: leftElement?.src || 'none',\n                    readyState: leftElement?.readyState,\n                    duration: leftElement?.duration\n                  },\n                  right: {\n                    exists: !!rightElement,\n                    src: rightElement?.src || 'none',\n                    readyState: rightElement?.readyState,\n                    duration: rightElement?.duration\n                  }\n                })\n                \n                //  CRITICAL FIX: Riconosce blob URL come sorgenti valide!\n                const isValidAudioSource = (src: string) => {\n                  if (!src || src === '' || src === 'about:blank') return false\n                  \n                  //  ACCETTA blob URL (come quelli generati dall'app)\n                  if (src.startsWith('blob:')) return true\n                  \n                  //  ACCETTA file URL locali\n                  if (src.startsWith('file://')) return true\n                  \n                  //  ACCETTA http/https URL\n                  if (src.startsWith('http://') || src.startsWith('https://')) return true\n                  \n                  //  ACCETTA data URL\n                  if (src.startsWith('data:')) return true\n                  \n                  return false\n                }\n                \n                //  CRITICAL: Verifica che almeno un elemento audio sia pronto\n                const leftReady = leftElement && \n                  isValidAudioSource(leftElement.src) &&\n                  leftElement.readyState >= 2\n                \n                const rightReady = rightElement && \n                  isValidAudioSource(rightElement.src) &&\n                  rightElement.readyState >= 2\n                \n                console.log(' TIMING FIX: Audio source validation:', {\n                  leftSrc: leftElement?.src,\n                  leftValid: leftElement ? isValidAudioSource(leftElement.src) : false,\n                  leftReadyState: leftElement?.readyState,\n                  leftReady: leftReady,\n                  rightSrc: rightElement?.src,\n                  rightValid: rightElement ? isValidAudioSource(rightElement.src) : false,\n                  rightReadyState: rightElement?.readyState,\n                  rightReady: rightReady\n                })\n                \n                return leftReady || rightReady\n              }\n              \n              // Aspetta che l'audio sia pronto (max 2 secondi)\n              let audioReady = false\n              let attempts = 0\n              const maxAttempts = 20\n              \n              while (!audioReady && attempts < maxAttempts) {\n                audioReady = ensureAudioReady()\n                if (!audioReady) {\n                  attempts++\n                  console.log(` TIMING FIX: Audio not ready, attempt ${attempts}/${maxAttempts}`)\n                  await new Promise(resolve => setTimeout(resolve, 100))\n                }\n              }\n              \n              if (audioReady) {\n                console.log(' TIMING FIX: Audio elements are ready for mixing!')\n              } else {\n                console.log(' TIMING FIX: Audio elements not ready after all attempts, proceeding anyway...')\n              }\n              \n              //  CRITICAL: Ora chiama getMixedStream quando l'audio dovrebbe essere pronto\n              console.log(' DEBUG: About to call getMixedStream() after audio loading')\n              console.log(' DEBUG: Passing audio elements to getMixedStream:', {\n                leftElement: leftElement,\n                rightElement: rightElement,\n                leftSrc: leftElement?.src,\n                rightSrc: rightElement?.src\n              })\n              \n              //  CRITICAL FIX: Passa gli elementi audio trovati direttamente a getMixedStream\n              //  CRITICAL FIX: Usa SEMPRE lo stato PTT corrente, non quello passato come parametro\n              console.log(' DEBUG: Calling getMixedStream() with audio wait...')\n              let mixedStream = await getMixedStream()\n              console.log(' DEBUG: getMixedStream() result:', mixedStream ? 'SUCCESS' : 'NULL')\n              \n              if (!mixedStream) {\n                console.warn(' Failed to get real mixed stream, creating fallback test tone')\n                console.log(' DEBUG: Creating fallback test tone because getMixedStream returned null')\n                // Fallback: crea un test tone solo se il mixing reale fallisce\n                const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\n                const oscillator = audioContext.createOscillator()\n                const dest = audioContext.createMediaStreamDestination()\n                oscillator.connect(dest)\n                oscillator.frequency.setValueAtTime(440, audioContext.currentTime) // Tono test\n                oscillator.start()\n                \n                // Salva riferimento per poterlo fermare dopo\n                testOscillatorRef.current = oscillator\n                \n                mixedStream = dest.stream\n                console.log(' Fallback test tone created')\n                console.log(' DEBUG: Fallback stream tracks:', mixedStream.getTracks().length)\n              } else {\n                console.log(' REAL mixed audio stream created successfully!')\n                console.log(' DEBUG: Real stream tracks:', mixedStream.getTracks().length)\n                console.log(' DEBUG: Real stream active:', mixedStream.active)\n              }\n              \n              //  CRITICAL: Avvia il MediaRecorder per inviare i dati a desktopStream\n              console.log(' CRITICAL: Starting MediaRecorder with mixed stream...')\n              const mediaRecorder = new MediaRecorder(mixedStream, {\n                mimeType: 'audio/webm;codecs=opus',\n                audioBitsPerSecond: desiredBitrate * 1000\n              })\n              \n              mediaRecorder.ondataavailable = async (event) => {\n                if (event.data.size > 0) {\n                  console.log(' DEBUG: MediaRecorder data available, size:', event.data.size)\n                  const buf = await event.data.arrayBuffer()\n                  // Invia dati a ffmpeg tramite desktopStream\n                  ;(window as any).desktopStream.write(buf)\n                }\n              }\n              \n              mediaRecorder.onstart = () => {\n                console.log(' SUCCESS: MediaRecorder started, audio data will flow to ffmpeg!')\n              }\n              \n              mediaRecorder.onstop = () => {\n                console.log(' MediaRecorder stopped')\n              }\n              \n              // Salva riferimento per poterlo fermare dopo\n              mediaRecorderRef.current = mediaRecorder\n              \n              //  CRITICAL FIX: Salva riferimento al mixed stream per poterlo aggiornare durante PTT\n              const updateMixedStream = () => {\n                if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'recording') {\n                  //  CRITICAL FIX: Usa SEMPRE lo stato PTT corrente, non quello passato come parametro\n                  const currentPttActive = pttActive // Questo dovrebbe essere lo stato corrente\n                  console.log(' PTT UPDATE: Updating mixed stream with current PTT state:', currentPttActive)\n                  \n                  //  CRITICAL FIX: NON ricreare il mixed stream, aggiorna solo i volumi\n                  console.log(' PTT UPDATE: Skipping mixed stream recreation - updating volumes only')\n                  \n                  // Aggiorna i volumi PTT direttamente nell'AudioContext esistente\n                  if ((window as any).updatePTTVolumesOnly) {\n                    ;(window as any).updatePTTVolumesOnly(currentPttActive)\n                  }\n                  \n                  console.log(' PTT UPDATE: PTT volumes updated successfully (no stream recreation)')\n                }\n              }\n              \n                      //  CRITICAL FIX: Esponi la funzione di aggiornamento per PTT\n        ;(window as any).updateMixedStreamForPTT = updateMixedStream\n        \n        //  CRITICAL FIX: Funzione globale per aggiornare PTT in entrambi i sistemi\n        ;(window as any).updatePTTForAllSystems = (newPttActive: boolean) => {\n          console.log(' PTT GLOBAL UPDATE: Updating PTT state for all systems:', newPttActive)\n          \n          //  CRITICAL FIX: Aggiorna solo i volumi PTT, NON ricreare il mixed stream\n          console.log(' PTT GLOBAL UPDATE: Updating PTT volumes only (no stream recreation)')\n          \n          // Aggiorna il sistema nativo se disponibile\n          if ((window as any).updateMixedStreamForPTT) {\n            console.log(' PTT GLOBAL UPDATE: Updating native system volumes')\n            ;(window as any).updateMixedStreamForPTT()\n          }\n          \n          //  CRITICAL FIX: Per il fallback, aggiorna solo i volumi PTT\n          if ((window as any).updateFallbackPTTVolumes) {\n            console.log(' PTT GLOBAL UPDATE: Updating fallback system volumes')\n            ;(window as any).updateFallbackPTTVolumes(newPttActive)\n          }\n          \n          console.log(' PTT GLOBAL UPDATE: All PTT volumes updated successfully (no stream recreation)')\n        }\n              \n              // Avvia il MediaRecorder con intervalli brevi per bassa latenza\n              mediaRecorder.start(50)  // 50ms chunks\n              console.log(' MediaRecorder.start(50) called - audio should flow now!')\n              \n            } else {\n              throw new Error('desktopStream.start failed: ' + (result?.error || 'unknown error'))\n            }\n          } catch (desktopError) {\n            console.error(' desktopStream error:', desktopError)\n            addStreamingNotification('warning', 'Streaming Native Fallito', \n              `Streaming nativo fallito: ${desktopError instanceof Error ? desktopError.message : 'errore sconosciuto'}. Riprovo con sistema alternativo...`)\n            \n            // Fallback al sistema precedente\n            throw new Error('desktopStream failed, need fallback')\n          }\n        } else {\n          // Fallback al sistema precedente se desktopStream non  disponibile\n          console.log(' desktopStream not available, using fallback system...')\n          \n          // 2.  CRITICAL FIX: Ottieni stream audio mixato REALE (deck + microfono)\n          console.log(' Creating REAL mixed audio stream...')\n          \n          //  CRITICAL FIX: Aspetta che gli elementi audio siano pronti anche nel fallback\n          console.log(' TIMING FIX: Fallback - ensuring audio elements are ready...')\n          \n          const ensureAudioReadyFallback = () => {\n            //  FIX: Get audio elements from DOM\n            const leftElement = document.querySelector('audio.deck-audio[data-deck=\"A\"]') as HTMLAudioElement\n            const rightElement = document.querySelector('audio.deck-audio[data-deck=\"B\"]') as HTMLAudioElement\n            \n            //  CRITICAL FIX: Usa la stessa logica di validazione sorgenti\n            const isValidAudioSource = (src: string) => {\n              if (!src || src === '' || src === 'about:blank') return false\n              \n              //  ACCETTA blob URL (come quelli generati dall'app)\n              if (src.startsWith('blob:')) return true\n              \n              //  ACCETTA file URL locali\n              if (src.startsWith('file://')) return true\n              \n              //  ACCETTA http/https URL\n              if (src.startsWith('http://') || src.startsWith('https://')) return true\n              \n              //  ACCETTA data URL\n              if (src.startsWith('data:')) return true\n              \n              return false\n            }\n            \n            const leftReady = leftElement && \n              isValidAudioSource(leftElement.src) &&\n              leftElement.readyState >= 2\n            \n            const rightReady = rightElement && \n              isValidAudioSource(rightElement.src) &&\n              rightElement.readyState >= 2\n            \n            console.log(' TIMING FIX: Fallback audio source validation:', {\n              leftSrc: leftElement?.src,\n              leftValid: leftElement ? isValidAudioSource(leftElement.src) : false,\n              leftReady: leftReady,\n              rightSrc: rightElement?.src,\n              rightValid: rightElement ? isValidAudioSource(rightElement.src) : false,\n              rightReady: rightReady\n            })\n            \n            return leftReady || rightReady\n          }\n          \n          // Aspetta che l'audio sia pronto (max 1 secondo)\n          let audioReadyFallback = false\n          let attemptsFallback = 0\n          const maxAttemptsFallback = 10\n          \n          while (!audioReadyFallback && attemptsFallback < maxAttemptsFallback) {\n            audioReadyFallback = ensureAudioReadyFallback()\n            if (!audioReadyFallback) {\n              attemptsFallback++\n              console.log(` TIMING FIX: Fallback - audio not ready, attempt ${attemptsFallback}/${maxAttemptsFallback}`)\n              await new Promise(resolve => setTimeout(resolve, 100))\n            }\n          }\n          \n          if (audioReadyFallback) {\n            console.log(' TIMING FIX: Fallback - audio elements are ready for mixing!')\n          } else {\n            console.log(' TIMING FIX: Fallback - audio elements not ready, proceeding anyway...')\n          }\n          \n          //  CRITICAL: Ora chiama getMixedStream quando l'audio dovrebbe essere pronto\n          console.log(' DEBUG: About to call getMixedStream()')\n          const leftElement = document.querySelector('audio.deck-audio[data-deck=\"A\"]') as HTMLAudioElement\n          const rightElement = document.querySelector('audio.deck-audio[data-deck=\"B\"]') as HTMLAudioElement\n          \n          console.log(' DEBUG: Fallback - Passing audio elements to getMixedStream:', {\n            leftElement: leftElement,\n            rightElement: rightElement,\n            leftSrc: leftElement?.src,\n            rightSrc: rightElement?.src\n          })\n          \n          //  CRITICAL FIX: Passa gli elementi audio trovati direttamente a getMixedStream\n          console.log(' DEBUG: Calling fallback getMixedStream() with audio wait...')\n          let mixedStream = await getMixedStream()\n          console.log(' DEBUG: getMixedStream() result:', mixedStream ? 'SUCCESS' : 'NULL')\n          \n          //  CRITICAL FIX: Salva riferimento per aggiornamento PTT anche nel fallback\n          ;(window as any).fallbackMixedStream = mixedStream\n          ;(window as any).fallbackLeftAudioElement = leftElement\n          ;(window as any).fallbackRightAudioElement = rightElement\n          \n          //  CRITICAL FIX: Funzione per aggiornare solo i volumi PTT nel fallback\n          ;(window as any).updateFallbackPTTVolumes = (pttActive: boolean) => {\n            console.log(' PTT FALLBACK UPDATE: Updating PTT volumes for fallback system:', pttActive)\n            \n            // Per il fallback, aggiorna i volumi PTT nell'AudioManager\n            if (audioManager) {\n              if (pttActive) {\n                // Durante PTT: abbassa il volume della musica al 25%\n                console.log(' PTT FALLBACK UPDATE: Applying PTT ducking to fallback system')\n                // L'AudioManager gestir il ducking automaticamente\n              } else {\n                // Dopo PTT: ripristina il volume al 100%\n                console.log(' PTT FALLBACK UPDATE: Clearing PTT ducking from fallback system')\n                // L'AudioManager gestir il ripristino automaticamente\n              }\n            }\n          }\n          \n          if (!mixedStream) {\n            console.warn(' Failed to get real mixed stream, creating fallback test tone')\n            console.log(' DEBUG: Creating fallback test tone because getMixedStream returned null')\n            // Fallback: crea un test tone solo se il mixing reale fallisce\n            const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\n            const oscillator = audioContext.createOscillator()\n            const dest = audioContext.createMediaStreamDestination()\n            oscillator.connect(dest)\n            oscillator.frequency.setValueAtTime(440, audioContext.currentTime) // Tono test\n            oscillator.start()\n            \n            // Salva riferimento per poterlo fermare dopo\n            testOscillatorRef.current = oscillator\n            \n            mixedStream = dest.stream\n            console.log(' Fallback test tone created')\n            console.log(' DEBUG: Fallback stream tracks:', mixedStream.getTracks().length)\n          } else {\n            console.log(' REAL mixed audio stream created successfully!')\n            console.log(' DEBUG: Real stream tracks:', mixedStream.getTracks().length)\n            console.log(' DEBUG: Real stream active:', mixedStream.active)\n          }\n          \n          // 3. Avvia streaming con il sistema precedente\n          console.log(' Starting streaming process with fallback system...')\n          const streamStarted = await streamingManager.startStreaming(mixedStream)\n          if (!streamStarted) {\n            throw new Error('Failed to start streaming - server rejected the connection (possibly already in use)')\n          }\n          \n          console.log(' Stream process started locally, now verifying server connection...')\n        }\n        \n        // 7. VERIFICA IMMEDIATA se il server ha accettato la connessione\n        let realConnectionVerified = false\n        try {\n          // Aspetta 3 secondi per dare tempo a ffmpeg di connettersi\n          await new Promise(resolve => setTimeout(resolve, 3000))\n          \n          const settings = await localDatabase.getSettings()\n          if (settings?.streaming?.icecast) {\n            const icecast = settings.streaming.icecast\n            const protocol = icecast.useSSL ? 'https' : 'http'\n            const statusUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}/status-json.xsl`\n            \n            console.log(` IMMEDIATE CHECK: Verifying connection to ${statusUrl}`)\n            \n            const controller = new AbortController()\n            const timeoutId = setTimeout(() => controller.abort(), 5000)\n            \n            try {\n              const response = await fetch(statusUrl, { \n                signal: controller.signal,\n                headers: { 'Accept': 'application/json' }\n              })\n              clearTimeout(timeoutId)\n              \n              if (response.ok) {\n                const statusData = await response.json()\n                console.log(' IMMEDIATE CHECK: Full server status:', JSON.stringify(statusData, null, 2))\n                \n                const mountpoint = icecast.mount || '/live'\n                const sources = statusData.icestats?.source || []\n                const sourcesArray = Array.isArray(sources) ? sources : [sources]\n                \n                console.log(` IMMEDIATE CHECK: Looking for mountpoint \"${mountpoint}\"`)\n                console.log(' IMMEDIATE CHECK: All sources found:', sourcesArray.map(s => ({\n                  mount: s.mount,\n                  listenurl: s.listenurl,\n                  server_name: s.server_name,\n                  listeners: s.listeners\n                })))\n                \n                // FILTRO: Ignora mountpoint localhost quando interroghiamo server remoto\n                const isRemoteServer = !icecast.host.includes('localhost') && !icecast.host.includes('127.0.0.1')\n                const filteredSources = isRemoteServer \n                  ? sourcesArray.filter(source => {\n                      const url = source.listenurl || ''\n                      const isLocalhost = url.includes('localhost') || url.includes('127.0.0.1')\n                      if (isLocalhost) {\n                        console.log(` POST-CHECK: Ignoring localhost source on remote server:`, source)\n                      }\n                      return !isLocalhost\n                    })\n                  : sourcesArray\n                \n                console.log(` POST-CHECK: Filtered ${sourcesArray.length}  ${filteredSources.length} sources (removed localhost from remote server)`)\n                \n                // CORREZIONE CRITICA: Per trovare il NOSTRO mountpoint, non filtrare localhost\n                // perch il server remoto potrebbe essere mal configurato e riportare localhost URLs\n                console.log(' POST-CHECK: Searching OUR mountpoint in ALL sources (ignoring localhost filter)')\n                let ourMount = sourcesArray.find(source => {\n                  const sourceMount = source.mount || ''\n                  const sourceUrl = source.listenurl || ''\n                  \n                  console.log(` POST-CHECK: Comparing mountpoint \"${mountpoint}\" with source:`, {\n                    mount: sourceMount,\n                    listenurl: sourceUrl,\n                    server_name: source.server_name\n                  })\n                  \n                  // Match diretto sul mount\n                  if (sourceMount === mountpoint) {\n                    console.log(' POST-CHECK: MATCH FOUND - Direct mount match')\n                    return true\n                  }\n                  \n                  // Match sulla fine dell'URL (es. /live)\n                  if (sourceUrl.endsWith(mountpoint)) {\n                    console.log(' POST-CHECK: MATCH FOUND - URL ends with mountpoint')\n                    return true\n                  }\n                  \n                  // Match flessibile: se il nostro mountpoint  /live, cerca qualsiasi URL che contiene \"live\"\n                  if (mountpoint && mountpoint.length > 1) {\n                    const mountName = mountpoint.replace('/', '') // rimuovi /\n                    if (sourceUrl.includes(mountName) || sourceMount.includes(mountName)) return true\n                  }\n                  \n                  // NUOVO: Match per server name che contiene il nostro mountpoint\n                  const serverName = source.server_name || ''\n                  if (mountpoint && mountpoint.length > 1) {\n                    const mountName = mountpoint.replace('/', '')\n                    if (serverName.toLowerCase().includes(mountName.toLowerCase())) {\n                      console.log(' POST-CHECK: MATCH FOUND - Server name contains mountpoint:', serverName)\n                      return true\n                    }\n                  }\n                  \n                  console.log(' POST-CHECK: NO MATCH for this source')\n                  return false\n                })\n                \n                // FALLBACK INTELLIGENTE: Se non troviamo match diretto ma:\n                // 1. Siamo connessi localmente\n                // 2. C' solo un source attivo sul server\n                // 3. Il source  attivo da poco (meno di 5 minuti)\n                // Allora probabilmente quello siamo noi\n                if (!ourMount && sourcesArray.length === 1) {\n                  const singleSource = sourcesArray[0]\n                  const connectedTime = singleSource.connected || 0\n                  const isRecentConnection = connectedTime < 300 // meno di 5 minuti\n                  \n                  console.log(' POST-CHECK: FALLBACK - Single source analysis:', {\n                    connected: connectedTime,\n                    isRecent: isRecentConnection,\n                    serverName: singleSource.server_name\n                  })\n                  \n                  // LOGICA AGGRESSIVA: Se siamo connessi localmente e c' solo un source,\n                  //  molto probabile che quello siamo noi, indipendentemente dal tempo\n                  console.log(' POST-CHECK: FALLBACK MATCH - Assuming single source is us (aggressive mode)')\n                  ourMount = singleSource\n                }\n                \n                // NUOVO: Se non troviamo match ma siamo connessi localmente, consideriamo successo\n                // perch l'autopilot potrebbe rimanere attivo (comportamento normale Icecast)\n                if (!ourMount && streamingManager.isCurrentlyStreaming()) {\n                  console.log(' POST-CHECK: No mountpoint match but local streaming active - assuming SUCCESS (autopilot coexistence is normal)')\n                  ourMount = { listeners: 0, server_name: 'DJ Console (Autopilot Coexistence)' }\n                }\n                \n                if (ourMount) {\n                  console.log(` POST-CHECK: Our mountpoint is now active:`, ourMount)\n                  console.log(` POST-CHECK: Match found - mount: \"${ourMount.mount}\", url: \"${ourMount.listenurl}\"`)\n                  const listeners = ourMount.listeners || 0\n                  addStreamingNotification('info', 'Connessione Confermata', \n                    `Il nostro mountpoint ${mountpoint}  ora attivo con ${listeners} listener(s).`)\n                  realConnectionVerified = true\n                } else {\n                  console.log(` POST-CHECK: WARNING - Mountpoint ${mountpoint} not yet visible on server (could be normal delay)`)\n                  \n                  // Mostra dettagli per debug\n                  const availableMounts = filteredSources.map(s => s.mount || s.listenurl || 'unknown')\n                  console.log(' POST-CHECK: Available mounts:', availableMounts)\n                  \n                  // NON  pi un errore critico - potrebbe essere ritardo normale del server\n                  addStreamingNotification('warning', 'Verifica Impossibile', \n                    `Non riesco a verificare lo stato del server (${availableMounts.length > 0 ? 'Disponibili: ' + availableMounts.join(', ') : 'Nessun mountpoint attivo'}). Lo streaming potrebbe non funzionare correttamente.`)\n                  \n                  // NON fermare lo streaming automaticamente - lascia che l'utente decida\n                  console.log(' POST-CHECK: Continuing streaming - user can stop manually if needed')\n                  realConnectionVerified = false // Non verificato, ma non bloccato\n                }\n              } else {\n                console.log(` IMMEDIATE CHECK: Server HTTP error ${response.status} ${response.statusText}`)\n                addStreamingNotification('warning', 'Errore Server Status', \n                  `Il server ha risposto con errore ${response.status}. Non posso verificare se il mountpoint  libero.`)\n              }\n            } catch (fetchError) {\n              clearTimeout(timeoutId)\n              console.error(' IMMEDIATE CHECK: Fetch failed:', fetchError)\n              \n              // Se non riusciamo a verificare,  PERICOLOSO assumere che sia OK\n              // Potrebbe essere che il server blocca l'accesso o che non riusciamo a vedere gli altri mountpoint\n              addStreamingNotification('warning', 'Verifica Impossibile', \n                `Non riesco a verificare lo stato del server (${fetchError instanceof Error ? fetchError.message : 'errore di rete'}). Lo streaming potrebbe non funzionare correttamente.`)\n              \n              // Assumiamo OK solo per CORS, per altri errori siamo pi cauti\n              if (fetchError instanceof Error && (fetchError.name === 'TypeError' || fetchError.message.includes('CORS'))) {\n                console.log(' IMMEDIATE CHECK: Assuming OK due to CORS restrictions')\n                realConnectionVerified = true\n              } else {\n                console.log(' IMMEDIATE CHECK: Network error, cannot verify - assuming FAILED for safety')\n                if (window.desktopStream && window.desktopStream.stop) {\n                  window.desktopStream.stop()\n                }\n                throw new Error(`Impossibile verificare lo stato del server: ${fetchError instanceof Error ? fetchError.message : 'errore di connessione'}`)\n              }\n            }\n          }\n        } catch (verifyError) {\n          console.error(' IMMEDIATE CHECK: Verification failed:', verifyError)\n          if (verifyError instanceof Error && verifyError.message.includes('Server occupato')) {\n            throw verifyError // Rilancia l'errore specifico\n          }\n          // Altri errori di verifica non bloccano lo streaming\n        }\n        \n        if (realConnectionVerified) {\n          console.log('  Immediate verification passed - connection is real!')\n          \n          // SOLO ORA mostriamo il messaggio di successo DOPO aver verificato il server\n          addStreamingNotification('success', 'Streaming VERIFICATO e Attivo', \n            `Server Icecast ${currentSettings.streaming.icecast.host}:${currentSettings.streaming.icecast.port || 8000} confermato! Mountpoint ${currentSettings.streaming.icecast.mount || '/live'} attivo.`)\n        } else {\n          console.log('  Immediate verification not possible, but streaming continues')\n          \n          // Messaggio pi cauto quando non possiamo verificare\n          addStreamingNotification('info', 'Streaming Avviato (Non Verificato)', \n            `Streaming avviato verso ${currentSettings.streaming.icecast.host}:${currentSettings.streaming.icecast.port || 8000}. Verifica manualmente se funziona correttamente.`)\n        }\n        \n        // 8. Verifica CONTINUA che lo streaming rimanga attivo sul server Icecast\n        setTimeout(async () => {\n          const actuallyStreaming = streamingManager.isCurrentlyStreaming()\n          const actuallyConnected = streamingManager.isConnectedToServer()\n          \n          console.log(` Initial verification: streaming=${actuallyStreaming}, connected=${actuallyConnected}`)\n          \n          // Verifica REALE controllando lo status del server Icecast\n          let reallyConnected = false\n          try {\n            const settings = await localDatabase.getSettings()\n            if (settings?.streaming?.icecast) {\n              const icecast = settings.streaming.icecast\n              const protocol = icecast.useSSL ? 'https' : 'http'\n              const statusUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}/status-json.xsl`\n              \n              console.log(` Checking real Icecast status: ${statusUrl}`)\n              \n              const controller = new AbortController()\n              const timeoutId = setTimeout(() => controller.abort(), 5000)\n              \n              try {\n                const response = await fetch(statusUrl, { \n                  signal: controller.signal,\n                  // Prova senza no-cors per leggere la risposta\n                  headers: {\n                    'Accept': 'application/json'\n                  }\n                })\n                clearTimeout(timeoutId)\n                \n                if (response.ok) {\n                  const statusData = await response.json()\n                  console.log(' Icecast status data:', statusData)\n                  \n                  // Controlla se il nostro mountpoint  attivo\n                  const mountpoint = icecast.mount || '/live'\n                  const sources = statusData.icestats?.source || []\n                  const sourcesArray = Array.isArray(sources) ? sources : [sources]\n                  \n                  // FILTRO: Ignora mountpoint localhost quando interroghiamo server remoto\n                  const isRemoteServer = !icecast.host.includes('localhost') && !icecast.host.includes('127.0.0.1')\n                  const filteredSources = isRemoteServer \n                    ? sourcesArray.filter(source => {\n                        const url = source.listenurl || ''\n                        const isLocalhost = url.includes('localhost') || url.includes('127.0.0.1')\n                        if (isLocalhost) {\n                          console.log(` CONTINUOUS-CHECK: Ignoring localhost source on remote server:`, source)\n                        }\n                        return !isLocalhost\n                      })\n                    : sourcesArray\n                  \n                  console.log(` CONTINUOUS-CHECK: Filtered ${sourcesArray.length}  ${filteredSources.length} sources`)\n                  \n                  // CORREZIONE CRITICA: Per trovare il NOSTRO mountpoint, non filtrare localhost\n                  console.log(' CONTINUOUS-CHECK: Searching OUR mountpoint in ALL sources (ignoring localhost filter)')\n                  let ourMount = sourcesArray.find(source => {\n                    const sourceMount = source.mount || ''\n                    const sourceUrl = source.listenurl || ''\n                    \n                    console.log(` CONTINUOUS-CHECK: Comparing mountpoint \"${mountpoint}\" with source:`, {\n                      mount: sourceMount,\n                      listenurl: sourceUrl,\n                      server_name: source.server_name\n                    })\n                    \n                    // Match diretto sul mount\n                    if (sourceMount === mountpoint) {\n                      console.log(' CONTINUOUS-CHECK: MATCH FOUND - Direct mount match')\n                      return true\n                    }\n                    \n                    // Match sulla fine dell'URL (es. /live)\n                    if (sourceUrl.endsWith(mountpoint)) {\n                      console.log(' CONTINUOUS-CHECK: MATCH FOUND - URL ends with mountpoint')\n                      return true\n                    }\n                    \n                    // Match flessibile: se il nostro mountpoint  /live, cerca qualsiasi URL che contiene \"live\"\n                    if (mountpoint && mountpoint.length > 1) {\n                      const mountName = mountpoint.replace('/', '') // rimuovi /\n                      if (sourceUrl.includes(mountName) || sourceMount.includes(mountName)) return true\n                    }\n                    \n                    // NUOVO: Match per server name che contiene il nostro mountpoint\n                    const serverName = source.server_name || ''\n                    if (mountpoint && mountpoint.length > 1) {\n                      const mountName = mountpoint.replace('/', '')\n                      if (serverName.toLowerCase().includes(mountName.toLowerCase())) {\n                        console.log(' CONTINUOUS-CHECK: MATCH FOUND - Server name contains mountpoint:', serverName)\n                        return true\n                      }\n                    }\n                    \n                    console.log(' CONTINUOUS-CHECK: NO MATCH for this source')\n                    return false\n                  })\n                  \n                  // FALLBACK INTELLIGENTE: Se non troviamo match diretto ma c' solo un source\n                  if (!ourMount && sourcesArray.length === 1) {\n                    const singleSource = sourcesArray[0]\n                    const connectedTime = singleSource.connected || 0\n                    \n                    console.log(' CONTINUOUS-CHECK: FALLBACK - Single source analysis:', {\n                      connected: connectedTime,\n                      serverName: singleSource.server_name\n                    })\n                    \n                    // LOGICA AGGRESSIVA: Se c' solo un source, assumiamo che siamo noi\n                    console.log(' CONTINUOUS-CHECK: FALLBACK MATCH - Assuming single source is us (aggressive mode)')\n                    ourMount = singleSource\n                  }\n                  if (ourMount) {\n                    console.log(` REAL CHECK: Mountpoint ${mountpoint} is ACTIVE on server:`, ourMount)\n                    reallyConnected = true\n                  } else {\n                    // NUOVO: Se non troviamo match ma siamo connessi localmente, consideriamo successo\n                    // perch l'autopilot potrebbe rimanere attivo (comportamento normale Icecast)\n                    if (streamingManager.isCurrentlyStreaming()) {\n                      console.log(' REAL CHECK: No mountpoint match but local streaming active - assuming SUCCESS (autopilot coexistence is normal)')\n                      reallyConnected = true\n                    } else {\n                      console.log(` REAL CHECK: Mountpoint ${mountpoint} NOT FOUND on server`)\n                      console.log(' Available sources:', sourcesArray.map(s => s.listenurl || s.mount || 'unknown'))\n                      \n                      // Messaggio pi dettagliato per il debug\n                      const availableMounts = sourcesArray.map(s => s.listenurl || s.mount || 'unknown').join(', ')\n                      addStreamingNotification('warning', 'Mountpoint Non Trovato', \n                        `Il mountpoint ${mountpoint} non  attivo sul server. Mountpoint disponibili: ${availableMounts || 'nessuno'}`)\n                    }\n                  }\n                } else {\n                  console.log(` REAL CHECK: Server responded with status ${response.status}`)\n                }\n              } catch (fetchError) {\n                clearTimeout(timeoutId)\n                console.log(' REAL CHECK: Fetch failed (CORS or network):', fetchError)\n                // Se non riusciamo a verificare via HTTP, assumiamo che il MediaRecorder locale sia accurato\n                reallyConnected = actuallyStreaming\n              }\n            }\n          } catch (error) {\n            console.error(' REAL CHECK: Error during verification:', error)\n            reallyConnected = actuallyStreaming\n          }\n          \n          // Leggi lo stato corrente al momento della verifica\n          setStreamStatus(currentStatus => {\n            console.log(` FINAL VERIFICATION: localStreaming=${actuallyStreaming}, reallyConnected=${reallyConnected}, currentStatus=${currentStatus}`)\n            \n            // CORREZIONE CRITICA: Se reallyConnected  true (logica aggressiva), consideriamo successo\n            // anche se actuallyStreaming  false, perch potremmo avere un problema di sincronizzazione\n            if (reallyConnected) {\n              console.log(' Continuous verification PASSED - streaming confirmed via aggressive logic')\n              \n              // Test aggiuntivo: prova una connessione simulata per verificare che venga rifiutata\n              setTimeout(async () => {\n                try {\n                  const settings = await localDatabase.getSettings()\n                  if (settings?.streaming?.icecast) {\n                    console.log(' Testing if server rejects duplicate connections...')\n                    addStreamingNotification('info', 'Test Duplicazione', \n                      'Testando se il server rifiuta connessioni duplicate al mountpoint...')\n                  }\n                } catch (error) {\n                  console.warn(' Could not perform duplicate connection test:', error)\n                }\n              }, 2000)\n              \n              setIsStreaming(true)\n              setIsStreamConnected(true)\n              setStreamError(null)\n              return 'streaming'\n            } else if (!actuallyStreaming) {\n              console.log(' Verification FAILED - local streaming not active')\n              addStreamingNotification('error', 'Streaming Locale Non Attivo', \n                `Lo streaming locale non  attivo. Verifica la connessione ffmpeg.`)\n              setStreamError('Local streaming not active')\n              setIsStreaming(false)\n              setIsStreamConnected(false)\n              \n              // Ferma l'oscillatore test se attivo\n              if (testOscillatorRef.current) {\n                try {\n                  testOscillatorRef.current.stop()\n                  testOscillatorRef.current = null\n                } catch (e) {\n                  // Oscillatore gi fermato\n                }\n              }\n              return 'disconnected'\n            } else {\n              console.log(' Verification FAILED - server verification failed despite local streaming')\n              addStreamingNotification('warning', 'Verifica Server Fallita', \n                `Lo streaming locale  attivo ma la verifica server  fallita. Lo streaming potrebbe funzionare comunque.`)\n              setStreamError('Server verification failed')\n              setIsStreaming(false)\n              setIsStreamConnected(false)\n              \n              // Ferma l'oscillatore test se attivo\n              if (testOscillatorRef.current) {\n                try {\n                  testOscillatorRef.current.stop()\n                  testOscillatorRef.current = null\n                } catch (e) {\n                  // Oscillatore gi fermato\n                }\n              }\n              return 'disconnected'\n            }\n          })\n        }, 8000) // Verifica dopo 8 secondi per dare tempo a ffmpeg di connettersi realmente al server\n        \n        // 9. Aggiorna metadata con nick dalle settings + traccia corrente\n        const deckAState = audioManager.getDeck('A')\n        const deckBState = audioManager.getDeck('B')\n        \n        let currentTrack = null\n        if (deckAState.isPlaying && deckAState.track) {\n          currentTrack = deckAState.track\n        } else if (deckBState.isPlaying && deckBState.track) {\n          currentTrack = deckBState.track\n        }\n        \n        // Ottieni il nick dalle settings\n        const djNick = streamingSettings?.serverName || settings?.djName || 'DJ Console'\n        \n        // Crea metadata con nick + traccia\n        const metadata = currentTrack ? {\n          title: `${currentTrack.title}`,\n          artist: `${currentTrack.artist || 'Unknown Artist'} - Live by ${djNick}`,\n          album: `${djNick} Live Stream`,\n          genre: 'Electronic/Live DJ'\n        } : {\n          title: `${djNick} - Live DJ Set`,\n          artist: `${djNick}`,\n          album: `${djNick} Live Stream`,\n          genre: 'Electronic/Live DJ'\n        }\n        \n        console.log(' Sending metadata:', metadata)\n        streamingManager.updateMetadata(metadata)\n        console.log(' Updated stream metadata:', metadata)\n        \n        console.log('  Streaming started successfully!')\n      }\n    } catch (error) {\n      console.error('  Streaming error:', error)\n      const errorMessage = error instanceof Error ? error.message : 'Unknown streaming error'\n      setStreamError(errorMessage)\n      setStreamStatus('disconnected')\n      setIsStreaming(false)\n      setIsStreamConnected(false)\n      \n      // Mostra notifica di errore dettagliata\n      addStreamingNotification('error', 'Errore di Connessione', \n        `Impossibile avviare lo streaming: ${errorMessage}`)\n    }\n  }, [isStreaming, streamingManager, getMixedStream, audioManager])\n  \n  // Push-to-talk\n  const [pttActive, setPttActive] = useState(false)\n  const [originalVolumes, setOriginalVolumes] = useState<{deckA: number, deckB: number} | null>(null)\n  const [duckingSettings, setDuckingSettings] = useState({ enabled: true, percentage: 50 })\n  const pttTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n  \n  //  CRITICAL FIX: Microfono al 5% di default, 100% durante PTT\n  const handleMicVolumeChange = useCallback((volume: number) => {\n    console.log(` [MIC VOLUME] Changing microphone volume from ${micVolume} to ${volume}`)\n    setMicVolume(volume)\n    \n    //  FIX: Update AudioManager state as well\n    audioManager.setMicVolume(volume)\n    \n    // Save mic volume globally for persistence\n    ;(window as any).__micVolume__ = volume\n    \n    //  CRITICAL FIX: Durante PTT, forza SEMPRE il microfono al 100%\n    // Altrimenti, usa il volume impostato (ma mai sotto il 5% per udibilit)\n    const actualVolume = pttActive ? 1.0 : Math.max(0.1, volume)  // Minimo 10% invece di 5% per essere pi udibile\n    \n    // Update mic volume in live mixer if available\n    if ((window as any).currentMicGain && (window as any).currentMixContext) {\n      try {\n        ;(window as any).currentMicGain.gain.setValueAtTime(actualVolume, (window as any).currentMixContext.currentTime)\n        console.log(` [MIC VOLUME] Live mixer updated to ${Math.round(actualVolume * 100)}% ${pttActive ? '(FORCED TO 100% DURING PTT)' : ''}`)\n      } catch (error) {\n        console.warn('Failed to update mic volume in live mixer:', error)\n      }\n    }\n    \n    //  CRITICAL FIX: Aggiorna anche il gain PTT se disponibile\n    if ((window as any).currentPTTMicGain && pttActive) {\n      try {\n        ;(window as any).currentPTTMicGain.gain.setValueAtTime(1.0, (window as any).currentMixContext?.currentTime || 0)\n        console.log(` [MIC VOLUME] PTT mic gain forced to 100%`)\n      } catch (error) {\n        console.warn('Failed to update PTT mic gain:', error)\n      }\n    }\n    \n    console.log(` [MIC VOLUME] Microphone volume set to ${Math.round(actualVolume * 100)}% ${pttActive ? '(FORCED TO 100% DURING PTT)' : ''}`)\n  }, [micVolume, audioManager, pttActive])\n  \n  // Riferimento immediato allo stato PTT\n  \n  // Debug PTT state changes\n  useEffect(() => {\n    console.log(' PTT STATE CHANGED:', pttActive)\n    \n    //  CRITICAL FIX: Aggiorna tutti i sistemi di streaming quando cambia lo stato PTT\n    if ((window as any).updatePTTForAllSystems) {\n      console.log(' PTT UPDATE: Calling global update function for all systems')\n      ;(window as any).updatePTTForAllSystems(pttActive)\n    } else {\n      console.log(' PTT UPDATE: Global update function not available yet')\n    }\n  }, [pttActive])\n\n\n  \n  // Carica settings per il ducking\n  useEffect(() => {\n    const loadDuckingSettings = async () => {\n      try {\n        await localDatabase.waitForInitialization()\n        const settings = await localDatabase.getSettings()\n        const loadedSettings = {\n          enabled: settings.microphone?.ducking ?? true,\n          percentage: settings.microphone?.duckingPercent ?? 50\n        }\n        console.log(' Loaded ducking settings:', loadedSettings)\n        setDuckingSettings(loadedSettings)\n      } catch (error) {\n        console.warn('Could not load ducking settings:', error)\n      }\n    }\n    loadDuckingSettings()\n  }, [])\n  \n  const handlePTTStart = useCallback(() => {\n    console.log(' PTT START - Activating')\n    \n    if (pttActive) {\n      console.log(' PTT already active, skipping')\n      return\n    }\n    \n    console.log(' PTT ACTIVATING - going ON AIR')\n    setPttActive(true)\n    ;(window as any).__pttActive__ = true\n    \n    // Salva volumi originali\n    const currentVolumes = {\n      deckA: deckAVolume,\n      deckB: deckBVolume\n    }\n    setOriginalVolumes(currentVolumes)\n    console.log(' Saved original volumes:', currentVolumes)\n    \n    // Attiva microfono\n    console.log(' Activating microphone for PTT')\n    audioManager.setMicrophoneEnabled(true)\n    \n    //  CRITICAL FIX: Forza il microfono al 100% durante PTT\n    console.log(' [PTT] Microphone will be forced to 100% during PTT (current volume preserved)')\n    \n    // Applica ducking se abilitato (SOLO streaming via mixer bus + feedback locale)\n    if (duckingSettings.enabled) {\n      //  CRITICAL FIX: Ducking al 100% = musica al 0% (completamente silenziosa)\n      let duckingFactor = 0\n      if (duckingSettings.percentage >= 100) {\n        duckingFactor = 0  // Musica completamente silenziosa\n      } else {\n        duckingFactor = (100 - duckingSettings.percentage) / 100  // Ducking lineare: 75% = 0.25, 50% = 0.5\n      }\n      \n      console.log(` Applying ducking: ${duckingSettings.percentage}% reduction, factor: ${duckingFactor}`)\n      \n      // Debug volume prima del ducking\n      audioManager.debugPTTVolumes()\n      \n      // Feedback locale: abbassa temporaneamente i volumi locali\n      audioManager.setPTTDucking('A', deckAVolume * duckingFactor)\n      audioManager.setPTTDucking('B', deckBVolume * duckingFactor)\n      // Live: aggiorna il mixer gain via funzione globale\n      if ((window as any).updatePTTVolumesOnly) {\n        ;(window as any).updatePTTVolumesOnly(true)\n      }\n      \n      // Debug volume dopo il ducking\n      setTimeout(() => {\n        console.log(' After PTT ducking:')\n        audioManager.debugPTTVolumes()\n      }, 50)\n    }\n    \n  }, [pttActive, deckAVolume, deckBVolume, audioManager, duckingSettings])\n  \n  const handlePTTEnd = useCallback(() => {\n    console.log(' PTT END - Deactivating')\n    \n    if (!pttActive) {\n      console.log(' PTT already inactive, skipping')\n      return\n    }\n    \n    console.log(' PTT DEACTIVATING - going OFF AIR')\n    \n    // Debug volume prima del ripristino\n    audioManager.debugPTTVolumes()\n    \n    setPttActive(false)\n    ;(window as any).__pttActive__ = false\n    \n    // Disattiva microfono\n    console.log(' Deactivating microphone')\n    audioManager.setMicrophoneEnabled(false)\n    \n    // Rimuovi ducking PTT (ripristina volumi locali e mixer)\n    if (duckingSettings.enabled) {\n      console.log(' Clearing PTT ducking')\n      audioManager.clearPTTDucking('A')\n      audioManager.clearPTTDucking('B')\n      if ((window as any).updatePTTVolumesOnly) {\n        ;(window as any).updatePTTVolumesOnly(false)\n      }\n      \n      // Debug volume dopo il ripristino\n      setTimeout(() => {\n        console.log(' After PTT clear:')\n        audioManager.debugPTTVolumes()\n      }, 50)\n    }\n    \n    // Pulisci i volumi salvati\n    if (originalVolumes) {\n      setOriginalVolumes(null)\n    }\n    \n    console.log(' PTT deactivated successfully')\n    \n  }, [pttActive, originalVolumes, audioManager, duckingSettings])\n\n  // Gestione eventi mouse globali per PTT\n  useEffect(() => {\n    const handleGlobalMouseUp = (e: MouseEvent) => {\n      if (pttActive) {\n        console.log(' Global mouse UP - releasing PTT')\n        handlePTTEnd()\n      }\n    }\n\n    const handleGlobalMouseLeave = (e: MouseEvent) => {\n      // Se il mouse esce dalla finestra mentre PTT  attivo, rilascialo\n      if (pttActive && (e.target as Element)?.tagName === 'HTML') {\n        console.log(' Mouse left window - releasing PTT')\n        handlePTTEnd()\n      }\n    }\n\n    if (pttActive) {\n      document.addEventListener('mouseup', handleGlobalMouseUp)\n      document.addEventListener('mouseleave', handleGlobalMouseLeave)\n    }\n\n    return () => {\n      document.removeEventListener('mouseup', handleGlobalMouseUp)\n      document.removeEventListener('mouseleave', handleGlobalMouseLeave)\n    }\n  }, [pttActive, handlePTTEnd])\n  \n  // Gestione tasti PTT\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.code === 'KeyM' && !e.repeat) {\n        handlePTTStart()\n      }\n    }\n    \n    const handleKeyUp = (e: KeyboardEvent) => {\n      if (e.code === 'KeyM') {\n        handlePTTEnd()\n      }\n    }\n    \n    window.addEventListener('keydown', handleKeyDown)\n    window.addEventListener('keyup', handleKeyUp)\n    \n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n      window.removeEventListener('keyup', handleKeyUp)\n    }\n  }, [handlePTTStart, handlePTTEnd])\n  \n  // Listener per l'auto-advance\n  useEffect(() => {\n    const handleTrackEnded = (event: CustomEvent) => {\n      const { deckId } = event.detail\n      console.log(` [AUTO-ADVANCE] Track ended event received for Deck ${deckId}`)\n      handleTrackEnd(deckId)\n    }\n    \n    window.addEventListener('djconsole:track-ended', handleTrackEnded as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:track-ended', handleTrackEnded as EventListener)\n    }\n  }, [handleTrackEnd])\n  \n  // Aggiorna metadata streaming quando cambiano le tracce\n  useEffect(() => {\n    if (!isStreaming || !isStreamConnected) return\n    \n    const updateStreamingMetadata = async () => {\n      try {\n        const deckAState = audioManager.getDeck('A')\n        const deckBState = audioManager.getDeck('B')\n        \n        let currentTrack = null\n        if (deckAState.isPlaying && deckAState.track) {\n          currentTrack = deckAState.track\n        } else if (deckBState.isPlaying && deckBState.track) {\n          currentTrack = deckBState.track\n        }\n        \n        // Ottieni il nick dalle settings\n        const currentSettings = await localDatabase.getSettings()\n        const streamingSettings = currentSettings?.streaming?.icecast\n        const djNick = streamingSettings?.serverName || settings?.djName || 'DJ Console'\n        \n        // Crea metadata con nick + traccia\n        const metadata = currentTrack ? {\n          title: `${currentTrack.title}`,\n          artist: `${currentTrack.artist || 'Unknown Artist'} - Live by ${djNick}`,\n          album: `${djNick} Live Stream`,\n          genre: 'Electronic/Live DJ'\n        } : {\n          title: `${djNick} - Live DJ Set`,\n          artist: `${djNick}`,\n          album: `${djNick} Live Stream`,\n          genre: 'Electronic/Live DJ'\n        }\n        \n        console.log(' Auto-updating stream metadata:', metadata)\n        streamingManager.updateMetadata(metadata)\n        \n      } catch (error) {\n        console.error(' Error updating stream metadata:', error)\n      }\n    }\n    \n    updateStreamingMetadata()\n    \n  }, [deckATrack, deckBTrack, isStreaming, isStreamConnected, audioManager, streamingManager, settings])\n  \n  return (\n    <div className=\"min-h-screen bg-gray-950 text-white\">\n      {/* Header */}\n      <header className=\"bg-gray-900 border-b border-gray-800 p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <h1 className=\"text-2xl font-bold\">DJ Console v2.0</h1>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\"></div>\n              <span className=\"text-sm text-gray-400\">Ready</span>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-3\">\n            {/* Push-to-Talk con indicatore sotto */}\n            <div className=\"flex flex-col items-center space-y-1\">\n              <button\n                onMouseDown={(e) => {\n                  e.preventDefault()\n                  e.stopPropagation()\n                  console.log(' Mouse DOWN on PTT button')\n                  handlePTTStart()\n                }}\n                onContextMenu={(e) => {\n                  e.preventDefault() // Previeni menu contestuale\n                }}\n                className={`p-3 rounded-lg transition-all duration-200 select-none ${\n                  pttActive\n                    ? 'bg-red-500 text-white shadow-lg animate-pulse ring-2 ring-red-300'\n                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                }`}\n                title=\"Push-to-Talk (Hold M key or mouse button)\"\n                style={{ \n                  userSelect: 'none', \n                  WebkitUserSelect: 'none', \n                  touchAction: 'none',\n                  WebkitTouchCallout: 'none',\n                  WebkitUserDrag: 'none'\n                }}\n              >\n                <Mic className=\"w-6 h-6\" />\n              </button>\n              \n              {/* Status microfono - SOTTO il bottone PTT */}\n              {pttActive && (\n                <span className=\"px-2 py-1 bg-red-500/20 text-red-400 border border-red-500/40 rounded text-xs font-bold animate-pulse whitespace-nowrap\">\n                  MIC ON AIR\n                </span>\n              )}\n            </div>\n            \n            {/* Streaming */}\n            <button\n              onClick={handleToggleStreaming}\n              disabled={streamStatus === 'connecting'}\n              className={`p-2 rounded-lg transition-all duration-200 relative ${\n                isStreaming\n                  ? 'bg-blue-500 text-white shadow-lg ring-2 ring-blue-300'\n                  : streamStatus === 'connecting'\n                  ? 'bg-yellow-500 text-white animate-pulse cursor-not-allowed'\n                  : streamStatus === 'connected'\n                  ? 'bg-green-500 text-white shadow-lg'\n                  : streamError\n                  ? 'bg-red-500 text-white shadow-lg'\n                  : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title={\n                streamStatus === 'streaming' ? 'Stop Streaming' :\n                streamStatus === 'connecting' ? 'Connecting...' :\n                streamStatus === 'connected' ? 'Start Streaming' :\n                streamError ? `Error: ${streamError}` :\n                'Start Streaming'\n              }\n            >\n              <Radio className=\"w-5 h-5\" />\n              {streamStatus === 'connecting' && (\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-300 rounded-full animate-ping\"></div>\n              )}\n              {isStreaming && (\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-blue-300 rounded-full animate-pulse\"></div>\n              )}\n            </button>\n            \n            {/* Settings */}\n            <button\n              onClick={() => navigate('/settings')}\n              className=\"p-2 bg-gray-700 text-gray-300 hover:bg-gray-600 rounded-lg transition-all duration-200\"\n              title=\"Settings\"\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n      </header>\n      \n      {/* Main Content */}\n      <div className=\"p-6 space-y-6\">\n        {/* Deck Section */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <DeckPlayer\n            deckId=\"A\"\n            track={deckATrack}\n            isActive={deckAActive}\n            volume={deckAVolume}\n            isMuted={deckAMuted}\n            onVolumeChange={handleDeckAVolumeChange}\n            onActivate={handleDeckAActivate}\n            onTrackEnd={() => handleTrackEnd('A')}\n          />\n          \n          <DeckPlayer\n            deckId=\"B\"\n            track={deckBTrack}\n            isActive={deckBActive}\n            volume={deckBVolume}\n            isMuted={deckBMuted}\n            onVolumeChange={handleDeckBVolumeChange}\n            onActivate={handleDeckBActivate}\n            onTrackEnd={() => handleTrackEnd('B')}\n          />\n        </div>\n        \n        {/* Mixer Section */}\n        <MixerControls\n          deckAVolume={deckAVolume}\n          deckBVolume={deckBVolume}\n          onDeckAVolumeChange={handleDeckAVolumeChange}\n          onDeckBVolumeChange={handleDeckBVolumeChange}\n          deckAMuted={deckAMuted}\n          deckBMuted={deckBMuted}\n          onDeckAMuteToggle={() => audioManager.toggleDeckMute('A')}\n          onDeckBMuteToggle={() => audioManager.toggleDeckMute('B')}\n          masterVolume={masterVolume}\n          onMasterVolumeChange={handleMasterVolumeChange}\n          micEnabled={micEnabled}\n          micVolume={micVolume}\n          onMicToggle={handleMicToggle}\n          onMicVolumeChange={handleMicVolumeChange}\n          cueEnabled={cueEnabled}\n          onCueToggle={handleCueToggle}\n        />\n        \n        {/* Playlist Section */}\n        <div className=\"bg-gray-900 rounded-lg p-6 border border-gray-700\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-bold\">Playlists</h2>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-gray-400\">\n                {playlistState.library.playlists.length} playlist(s)\n              </span>\n            </div>\n          </div>\n          \n          {/* Playlist Tabs */}\n          <div className=\"flex space-x-2 mb-4 overflow-x-auto\">\n            {playlistState.library.playlists.map((playlist) => (\n              <button\n                key={playlist.id}\n                onClick={() => setActivePlaylistId(playlist.id)}\n                className={`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ${\n                  activePlaylistId === playlist.id\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                }`}\n              >\n                {playlist.name} ({playlist.tracks?.length || 0})\n              </button>\n            ))}\n          </div>\n          \n          {/* Playlist Content */}\n          <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n            {activePlaylistId && (() => {\n              const tracks = renderPlaylistTracks()\n              return tracks.length > 0 ? tracks : (\n                <div className=\"text-center py-8 text-gray-400\">\n                  Playlist vuota\n                </div>\n              )\n            })()}\n            \n            {!activePlaylistId && (\n              <div className=\"text-center py-8 text-gray-400\">\n                Seleziona una playlist\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      {/* Footer Status */}\n      <footer className=\"bg-gray-900 border-t border-gray-800 p-4\">\n        <div className=\"flex items-center justify-between text-sm text-gray-400\">\n          <div className=\"flex items-center space-x-4\">\n            <span>Deck A: {deckAActive ? 'ACTIVE' : 'INACTIVE'}</span>\n            <span>Deck B: {deckBActive ? 'ACTIVE' : 'INACTIVE'}</span>\n            <span>Master: {Math.round(masterVolume * 100)}%</span>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\">\n            {pttActive && <span className=\"text-red-400 animate-pulse\"> PTT ACTIVE</span>}\n            {micEnabled && !pttActive && <span className=\"text-red-400\"> MIC</span>}\n            {streamStatus === 'streaming' && <span className=\"text-blue-400 animate-pulse\"> STREAMING</span>}\n            {streamStatus === 'connected' && !isStreaming && <span className=\"text-green-400\"> READY</span>}\n            {streamStatus === 'connecting' && <span className=\"text-yellow-400 animate-pulse\"> CONNECTING</span>}\n            {streamError && <span className=\"text-red-400\"> ERROR</span>}\n            {cueEnabled && <span className=\"text-yellow-400\"> CUE</span>}\n            {settings.interface.autoAdvance && <span className=\"text-green-400\"> AUTO</span>}\n            \n            {/* Debug button per streaming */}\n            <button\n              onClick={() => {\n                setShowNotificationPanel(!showNotificationPanel)\n                setNotificationPanelHasNew(false)\n              }}\n              className={`text-xs px-2 py-1 rounded transition-colors relative ${\n                notificationPanelHasNew \n                  ? 'bg-red-600 hover:bg-red-500 text-white animate-pulse' \n                  : 'bg-gray-700 hover:bg-gray-600'\n              }`}\n              title=\"Notifiche Streaming\"\n            >\n               NOTIFICHE\n              {notificationPanelHasNew && (\n                <span className=\"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n              )}\n            </button>\n            \n            <button\n              onClick={() => setShowDebugPanel(!showDebugPanel)}\n              className=\"text-xs px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded transition-colors\"\n              title=\"Debug Avanzato\"\n            >\n               DEBUG\n            </button>\n          </div>\n        </div>\n      </footer>\n      \n      {/* Pannello Notifiche Streaming - Integrato nell'header */}\n      {showNotificationPanel && (\n        <div className=\"fixed top-16 right-4 z-40 w-96 max-h-96 bg-gray-900 border border-gray-700 rounded-lg shadow-xl overflow-hidden\">\n          <div className=\"flex items-center justify-between p-3 bg-gray-800 border-b border-gray-700\">\n            <h3 className=\"text-sm font-bold text-white flex items-center\">\n               Notifiche Streaming\n            </h3>\n            <button\n              onClick={() => {\n                setShowNotificationPanel(false)\n                setNotificationPanelHasNew(false)\n              }}\n              className=\"text-gray-400 hover:text-white text-lg\"\n            >\n              \n            </button>\n          </div>\n          \n          <div className=\"max-h-80 overflow-y-auto\">\n            {streamLogs.length === 0 ? (\n              <div className=\"p-4 text-center text-gray-400\">\n                Nessuna notifica\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-700\">\n                {streamLogs.slice(0, 10).map((log, index) => {\n                  const isError = log.includes('ERROR:')\n                  const isSuccess = log.includes('SUCCESS:')\n                  const isWarning = log.includes('WARNING:')\n                  \n                  return (\n                    <div key={index} className={`p-3 text-xs ${\n                      isError ? 'bg-red-900/20 text-red-200' :\n                      isSuccess ? 'bg-green-900/20 text-green-200' :\n                      isWarning ? 'bg-yellow-900/20 text-yellow-200' :\n                      'bg-gray-800/20 text-gray-300'\n                    }`}>\n                      <div className=\"font-mono whitespace-pre-wrap break-all\">\n                        {log}\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n            )}\n          </div>\n          \n          <div className=\"p-2 bg-gray-800 border-t border-gray-700 flex justify-between text-xs\">\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => {\n                  setStreamLogs([])\n                  setNotificationPanelHasNew(false)\n                  console.log(' Streaming logs cleared')\n                }}\n                className=\"text-gray-400 hover:text-white\"\n              >\n                 Pulisci\n              </button>\n              <button\n                onClick={async () => {\n                  try {\n                    // Prima mostra le credenziali salvate\n                    const settings = await localDatabase.getSettings()\n                    if (settings?.streaming?.icecast) {\n                      const creds = settings.streaming.icecast\n                      addStreamingNotification('info', 'Credenziali Salvate', \n                        `DB: ${creds.username}@${creds.host}:${creds.port}${creds.mount} (pwd: ${creds.password ? creds.password.length + ' chars' : 'vuota'})`)\n                      \n                      console.log(' CREDENZIALI ATTUALMENTE SALVATE NEL DATABASE:')\n                      console.log(` Host: \"${creds.host}\"`)\n                      console.log(` Port: ${creds.port}`)\n                      console.log(` Username: \"${creds.username}\"`)\n                      console.log(` Password: \"${creds.password}\"`)\n                      console.log(` Mount: \"${creds.mount}\"`)\n                      console.log(` SSL: ${creds.useSSL}`)\n                    } else {\n                      addStreamingNotification('error', 'Nessuna Credenziale', 'Nessuna configurazione Icecast trovata nel database!')\n                    }\n                    \n                    addStreamingNotification('info', 'Debug Server', 'Interrogando il server per informazioni dettagliate...')\n                    \n                    if (settings?.streaming?.icecast) {\n                      const icecast = settings.streaming.icecast\n                      const protocol = icecast.useSSL ? 'https' : 'http'\n                      const statusUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}/status-json.xsl`\n                      \n                      console.log(` Manual debug: querying ${statusUrl}`)\n                      \n                      try {\n                        const response = await fetch(statusUrl, { \n                          signal: AbortSignal.timeout(10000),\n                          headers: { 'Accept': 'application/json' }\n                        })\n                        \n                        if (response.ok) {\n                          const statusData = await response.json()\n                          console.log(' MANUAL DEBUG: Full server response:', statusData)\n                          \n                          const sources = statusData.icestats?.source || []\n                          const sourcesArray = Array.isArray(sources) ? sources : [sources]\n                          \n                          if (sourcesArray.length === 0) {\n                            addStreamingNotification('info', 'Server Vuoto', \n                              'Il server non ha sorgenti attive. Tutti i mountpoint sono liberi.')\n                          } else {\n                            const sourceInfo = sourcesArray.map(s => \n                              `${s.mount || s.listenurl || 'unknown'} (${s.listeners || 0} listeners)`\n                            ).join(', ')\n                            \n                            addStreamingNotification('info', 'Sorgenti Attive', \n                              `Mountpoint attivi sul server: ${sourceInfo}`)\n                          }\n                          \n                          // Controlla il nostro mountpoint specifico\n                          const ourMountpoint = icecast.mount || '/live'\n                          const ourSource = sourcesArray.find(s => \n                            s.mount === ourMountpoint || (s.listenurl && s.listenurl.endsWith(ourMountpoint))\n                          )\n                          \n                          if (ourSource) {\n                            addStreamingNotification('success', 'Mountpoint Confermato', \n                              `Il nostro mountpoint ${ourMountpoint}  attivo con ${ourSource.listeners || 0} ascoltatori.`)\n                          } else {\n                            addStreamingNotification('warning', 'Mountpoint Assente', \n                              `Il nostro mountpoint ${ourMountpoint} NON  presente nella lista delle sorgenti attive!`)\n                          }\n                        } else {\n                          addStreamingNotification('error', 'Errore Server', \n                            `Server ha risposto con errore: ${response.status} ${response.statusText}`)\n                        }\n                      } catch (fetchError) {\n                        addStreamingNotification('error', 'Errore Connessione', \n                          `Impossibile interrogare il server: ${fetchError instanceof Error ? fetchError.message : 'errore sconosciuto'}`)\n                      }\n                    }\n                  } catch (error) {\n                    addStreamingNotification('error', 'Debug Fallito', \n                      `Errore durante il debug: ${error instanceof Error ? error.message : 'Errore sconosciuto'}`)\n                  }\n                }}\n                className=\"text-yellow-400 hover:text-yellow-300\"\n                title=\"Mostra informazioni dettagliate sullo stato del server\"\n              >\n                 Debug Server\n              </button>\n              \n              {isStreaming && (\n                <button\n                  onClick={async () => {\n                    try {\n                      addStreamingNotification('info', 'Test Manuale', 'Testando se altri client vengono rifiutati dal server...')\n                      \n                      // Simula un test di connessione duplicata\n                      const settings = await localDatabase.getSettings()\n                      if (settings?.streaming?.icecast) {\n                        const icecast = settings.streaming.icecast\n                        const protocol = icecast.useSSL ? 'https' : 'http'\n                        const testUrl = `${protocol}://${icecast.host}:${icecast.port || 8000}${icecast.mount || '/live'}`\n                        \n                        console.log(` Manual test: attempting connection to ${testUrl}`)\n                        \n                        // Prova una connessione HEAD per vedere se il mountpoint risponde\n                        try {\n                          const response = await fetch(testUrl, { \n                            method: 'HEAD',\n                            signal: AbortSignal.timeout(5000)\n                          })\n                          \n                          if (response.ok) {\n                            addStreamingNotification('success', 'Test Riuscito', \n                              `Il mountpoint ${icecast.mount || '/live'}  raggiungibile e attivo. Altri client dovrebbero essere rifiutati.`)\n                          } else {\n                            addStreamingNotification('warning', 'Test Inconclusivo', \n                              `Risposta server: ${response.status} ${response.statusText}`)\n                          }\n                        } catch (testError) {\n                          addStreamingNotification('info', 'Test Limitato', \n                            'Non  possibile testare direttamente, ma il mountpoint dovrebbe essere occupato se lo streaming  attivo.')\n                        }\n                      }\n                    } catch (error) {\n                      addStreamingNotification('error', 'Test Fallito', \n                        `Errore durante il test: ${error instanceof Error ? error.message : 'Errore sconosciuto'}`)\n                    }\n                  }}\n                  className=\"text-blue-400 hover:text-blue-300\"\n                  title=\"Testa se il server rifiuta connessioni duplicate\"\n                >\n                   Test\n                </button>\n              )}\n            </div>\n            <button\n              onClick={() => {\n                navigator.clipboard.writeText(streamLogs.join('\\n'))\n                console.log(' Streaming logs copied to clipboard')\n              }}\n              className=\"text-gray-400 hover:text-white\"\n            >\n               Copia\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {/* Debug Panel Streaming */}\n      {showDebugPanel && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-gray-900 rounded-lg p-6 max-w-4xl mx-4 max-h-[80vh] overflow-hidden flex flex-col\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-bold text-white\"> Debug Streaming</h3>\n              <button\n                onClick={() => setShowDebugPanel(false)}\n                className=\"text-gray-400 hover:text-white text-xl\"\n              >\n                \n              </button>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 flex-1 overflow-hidden\">\n              {/* Status attuale */}\n              <div className=\"bg-gray-800 rounded p-4\">\n                <h4 className=\"font-bold text-white mb-2\"> Status Attuale</h4>\n                <div className=\"space-y-1 text-sm\">\n                  <div>Status: <span className={`font-mono ${\n                    streamStatus === 'streaming' ? 'text-blue-400' :\n                    streamStatus === 'connected' ? 'text-green-400' :\n                    streamStatus === 'connecting' ? 'text-yellow-400' :\n                    'text-gray-400'\n                  }`}>{streamStatus}</span></div>\n                  <div>Connesso: <span className={isStreamConnected ? 'text-green-400' : 'text-red-400'}>\n                    {isStreamConnected ? 'S' : 'No'}\n                  </span></div>\n                  <div>Streaming: <span className={isStreaming ? 'text-blue-400' : 'text-gray-400'}>\n                    {isStreaming ? 'Attivo' : 'Inattivo'}\n                  </span></div>\n                  {streamError && (\n                    <div>Errore: <span className=\"text-red-400 font-mono text-xs\">{streamError}</span></div>\n                  )}\n                </div>\n              </div>\n              \n              {/* Log degli eventi */}\n              <div className=\"bg-gray-800 rounded p-4 flex flex-col\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"font-bold text-white\"> Log Eventi</h4>\n                  <button\n                    onClick={() => setStreamLogs([])}\n                    className=\"text-xs px-2 py-1 bg-red-600 hover:bg-red-500 text-white rounded\"\n                  >\n                    Cancella\n                  </button>\n                </div>\n                <div className=\"flex-1 overflow-y-auto max-h-64 bg-gray-900 rounded p-2 font-mono text-xs\">\n                  {streamLogs.length === 0 ? (\n                    <div className=\"text-gray-500\">Nessun log disponibile</div>\n                  ) : (\n                    streamLogs.map((log, index) => (\n                      <div key={index} className={`mb-1 ${\n                        log.includes('ERROR') ? 'text-red-400' :\n                        log.includes('SUCCESS') ? 'text-green-400' :\n                        log.includes('WARNING') ? 'text-yellow-400' :\n                        'text-gray-300'\n                      }`}>\n                        {log}\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-4 flex justify-end space-x-2\">\n              <button\n                onClick={() => {\n                  navigator.clipboard.writeText(streamLogs.join('\\n'))\n                  addStreamingNotification('success', 'Copiato', 'Log copiati negli appunti')\n                }}\n                className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded\"\n              >\n                 Copia Log\n              </button>\n              <button\n                onClick={() => setShowDebugPanel(false)}\n                className=\"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded\"\n              >\n                Chiudi\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Dialog conferma traccia duplicata */}\n      {duplicateTrackDialog && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-gray-800 rounded-lg p-6 max-w-md mx-4\">\n            <h3 className=\"text-lg font-bold text-white mb-4\"> Traccia gi caricata</h3>\n            <p className=\"text-gray-300 mb-4\">\n              La traccia <strong>\"{duplicateTrackDialog.track.title}\"</strong>  gi caricata nel Deck {duplicateTrackDialog.sourceDeck}.\n            </p>\n            <p className=\"text-gray-400 mb-6\">\n              Vuoi comunque caricarla nel Deck {duplicateTrackDialog.targetDeck}?\n            </p>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={async () => {\n                  // Conferma: carica comunque la traccia\n                  const dialog = duplicateTrackDialog\n                  setDuplicateTrackDialog(null)\n                  \n                  console.log(` User confirmed loading duplicate track in Deck ${dialog.targetDeck}`)\n                  await loadTrackInDeck(dialog.track, dialog.targetDeck)\n                  \n                  setTimeout(() => {\n                    audioManager.play(dialog.targetDeck)\n                  }, 500)\n                }}\n                className=\"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg\"\n              >\n                S, carica comunque\n              </button>\n              \n              <button\n                onClick={() => {\n                  console.log(' User cancelled loading duplicate track')\n                  setDuplicateTrackDialog(null)\n                }}\n                className=\"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg\"\n              >\n                Annulla\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default NewDJConsole\n","import React, { useState, useEffect } from 'react'\nimport { AlertTriangle, Play, X } from 'lucide-react'\n\ninterface DuplicateTrackDialogProps {\n  track: any | null\n  activeDeck: 'left' | 'right' | null\n  onConfirm: () => void\n  onCancel: () => void\n  isVisible: boolean\n}\n\nconst DuplicateTrackDialog: React.FC<DuplicateTrackDialogProps> = ({\n  track,\n  activeDeck,\n  onConfirm,\n  onCancel,\n  isVisible\n}) => {\n  const [countdown, setCountdown] = useState(10)\n  const [autoConfirm, setAutoConfirm] = useState(false)\n\n  // Countdown automatico\n  useEffect(() => {\n    if (!isVisible) {\n      setCountdown(10)\n      return\n    }\n\n    const interval = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          if (autoConfirm) {\n            onConfirm()\n          } else {\n            onCancel()\n          }\n          return 10\n        }\n        return prev - 1\n      })\n    }, 1000)\n\n    return () => clearInterval(interval)\n  }, [isVisible, autoConfirm, onConfirm, onCancel])\n\n  if (!isVisible || !track) return null\n\n  const otherDeck = activeDeck === 'left' ? 'B' : 'A'\n  const currentDeck = activeDeck === 'left' ? 'A' : 'B'\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50\">\n      <div className=\"bg-dj-primary border border-dj-accent/30 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl\">\n        {/* Header */}\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <div className=\"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center\">\n            <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">Traccia Duplicata</h3>\n            <p className=\"text-sm text-dj-light/60\">Stai caricando la stessa canzone</p>\n          </div>\n        </div>\n\n        {/* Informazioni traccia */}\n        <div className=\"bg-dj-secondary rounded-lg p-4 mb-4\">\n          <div className=\"flex items-center space-x-3 mb-2\">\n            <Play className=\"w-5 h-5 text-dj-highlight\" />\n            <div className=\"flex-1 min-w-0\">\n              <h4 className=\"font-medium text-white truncate\">{track.title}</h4>\n              <p className=\"text-sm text-dj-light/60 truncate\">{track.artist}</p>\n            </div>\n          </div>\n          \n          <div className=\"text-xs text-dj-light/60 space-y-1\">\n            <div className=\"flex justify-between\">\n              <span>Deck {otherDeck}:</span>\n              <span className=\"text-green-500\">GI IN RIPRODUZIONE</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span>Deck {currentDeck}:</span>\n              <span className=\"text-yellow-500\">STA PER ESSERE CARICATA</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Messaggio di avviso */}\n        <div className=\"bg-yellow-500/20 border border-yellow-500/40 rounded-lg p-3 mb-4\">\n          <p className=\"text-sm text-yellow-200\">\n            La traccia <strong>\"{track.title}\"</strong>  gi in riproduzione nel Deck {otherDeck}. \n            Vuoi caricarla comunque nel Deck {currentDeck}?\n          </p>\n        </div>\n\n        {/* Opzione auto-conferma */}\n        <div className=\"mb-4\">\n          <label className=\"flex items-center space-x-2 text-sm text-dj-light/80 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={autoConfirm}\n              onChange={(e) => setAutoConfirm(e.target.checked)}\n              className=\"rounded bg-dj-secondary border-dj-accent/30\"\n            />\n            <span>Conferma automaticamente in futuro</span>\n          </label>\n        </div>\n\n        {/* Countdown */}\n        <div className=\"text-center mb-4\">\n          <div className=\"text-xs text-dj-light/60\">\n            {autoConfirm ? 'Caricamento automatico' : 'Annullamento automatico'} tra\n          </div>\n          <div className=\"text-2xl font-bold text-white\">{countdown}s</div>\n        </div>\n\n        {/* Pulsanti */}\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={onCancel}\n            className=\"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center justify-center space-x-2\"\n          >\n            <X className=\"w-4 h-4\" />\n            <span>Annulla</span>\n          </button>\n          \n          <button\n            onClick={onConfirm}\n            className=\"flex-1 px-4 py-2 bg-dj-highlight hover:bg-dj-accent text-white rounded-lg transition-colors flex items-center justify-center space-x-2\"\n          >\n            <Play className=\"w-4 h-4\" />\n            <span>Carica Comunque</span>\n          </button>\n        </div>\n\n        {/* Info aggiuntiva */}\n        <div className=\"mt-4 text-xs text-dj-light/50 text-center\">\n           Tip: Puoi disabilitare questo avviso nelle impostazioni\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default DuplicateTrackDialog","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { \n  Play, \n  Pause, \n  SkipBack, \n  SkipForward, \n  Volume2, \n  Disc,\n  Clock,\n  Activity\n} from 'lucide-react'\nimport { useAudio } from '../../contexts/AudioContext'\nimport { useSettings } from '../../contexts/SettingsContext'\nimport DynamicWaveform from '../DynamicWaveform'\nimport TimerDisplay from '../TimerDisplay'\n\ninterface EnhancedDeckProps {\n  side: 'left' | 'right'\n  deckId: 'A' | 'B'\n  track?: {\n    id: string\n    title: string\n    artist: string\n    duration: number\n    url: string\n  } | null\n  onTrackLoad?: (track: any) => void\n  onAutoAdvance?: (deck: 'left' | 'right') => void\n}\n\nconst EnhancedDeck: React.FC<EnhancedDeckProps> = ({ \n  side, \n  deckId, \n  track,\n  onTrackLoad,\n  onAutoAdvance \n}) => {\n  const { \n    state: audioState,\n    playLeftTrack, \n    pauseLeftTrack, \n    resumeLeftTrack, \n    stopLeftTrack,\n    playRightTrack, \n    pauseRightTrack, \n    resumeRightTrack, \n    stopRightTrack,\n    setLeftLocalVolume, \n    setRightLocalVolume, \n    seekLeftTo,\n    seekRightTo,\n    handlePlayPauseDefinitive\n  } = useAudio()\n  \n  const { settings } = useSettings()\n  const [localVolume, setLocalVolume] = useState(0.8)\n  const [isProcessing, setIsProcessing] = useState(false)\n  const prevTrackRef = useRef<string | null>(null)\n\n  // Stato del deck attuale dal context\n  const deckState = side === 'left' ? audioState.leftDeck : audioState.rightDeck\n  const currentTrack = deckState.track || track\n  const isPlaying = deckState.isPlaying\n  const currentTime = deckState.currentTime || 0\n  \n  // Determina se il deck  ATTIVO (ha una canzone che sta suonando)\n  const isActive = !!(currentTrack && isPlaying)\n  \n  // Sincronizza il volume locale con lo stato globale\n  useEffect(() => {\n    if (side === 'left') {\n      setLocalVolume(audioState.leftDeck.localVolume)\n    } else {\n      setLocalVolume(audioState.rightDeck.localVolume)\n    }\n  }, [side, audioState.leftDeck.localVolume, audioState.rightDeck.localVolume])\n\n  // Auto-avanzamento quando la traccia finisce\n  useEffect(() => {\n    if (!currentTrack || !settings.interface.autoAdvance || !isPlaying) return\n\n    const duration = currentTrack.duration\n    if (duration && currentTime >= duration - 1 && currentTime > 0) { // 1 secondo prima della fine\n      console.log(` Track ending in deck ${deckId}, triggering auto-advance`)\n      onAutoAdvance?.(side)\n    }\n  }, [currentTime, currentTrack, settings.interface.autoAdvance, deckId, side, onAutoAdvance, isPlaying])\n\n  // Gestori per i controlli transport\n  const handlePlay = useCallback(() => {\n    if (!currentTrack || isProcessing) return\n    \n    setIsProcessing(true)\n    setTimeout(() => setIsProcessing(false), 500)\n    \n    console.log(` Enhanced Deck ${deckId} play triggered`)\n    \n    // Se non c' traccia nel deck, la carica prima\n    if (!deckState.track) {\n      console.log(` Loading track in ${side} deck first`)\n      if (side === 'left') {\n        playLeftTrack(currentTrack)\n      } else {\n        playRightTrack(currentTrack)\n      }\n      // Aspetta che si carichi, poi play\n      setTimeout(() => {\n        handlePlayPauseDefinitive(side)\n      }, 100)\n    } else {\n      // Usa direttamente la funzione definitiva\n      handlePlayPauseDefinitive(side)\n    }\n  }, [currentTrack, isProcessing, deckState.track, side, playLeftTrack, playRightTrack, handlePlayPauseDefinitive, deckId])\n\n  const handlePause = useCallback(() => {\n    if (!isProcessing) {\n      handlePlayPauseDefinitive(side)\n    }\n  }, [isProcessing, side, handlePlayPauseDefinitive])\n\n  const handleStop = useCallback(() => {\n    if (side === 'left') {\n      stopLeftTrack()\n    } else {\n      stopRightTrack()\n    }\n  }, [side, stopLeftTrack, stopRightTrack])\n\n  const handleSkipBackward = useCallback(() => {\n    const audioElement = document.querySelector(`audio[data-deck=\"${side === 'left' ? 'A' : 'B'}\"]`) as HTMLAudioElement\n    if (audioElement && audioElement.src) {\n      const newTime = Math.max(0, audioElement.currentTime - 10)\n      //  FIX: Usa le funzioni seek del context invece di modificare direttamente\n      if (side === 'left') {\n        seekLeftTo(newTime)\n      } else {\n        seekRightTo(newTime)\n      }\n      console.log(` Deck ${deckId}: Skip backward to ${newTime.toFixed(1)}s`)\n    }\n  }, [side, deckId, seekLeftTo, seekRightTo])\n\n  const handleSkipForward = useCallback(() => {\n    const audioElement = document.querySelector(`audio[data-deck=\"${side === 'left' ? 'A' : 'B'}\"]`) as HTMLAudioElement\n    if (audioElement && audioElement.src) {\n      const duration = audioElement.duration || 0\n      const newTime = Math.min(duration, audioElement.currentTime + 10)\n      //  FIX: Usa le funzioni seek del context invece di modificare direttamente\n      if (side === 'left') {\n        seekLeftTo(newTime)\n      } else {\n        seekRightTo(newTime)\n      }\n      console.log(` Deck ${deckId}: Skip forward to ${newTime.toFixed(1)}s`)\n    }\n  }, [side, deckId, seekLeftTo, seekRightTo])\n\n  const handleVolumeChange = useCallback((value: number) => {\n    setLocalVolume(value)\n    \n    //  CRITICAL FIX: NON modificare direttamente HTML volume!\n    // Lascia che AudioContext gestisca tutto il volume\n    if (side === 'left') {\n      setLeftLocalVolume(value)\n      console.log(` Deck ${deckId} LOCAL volume: ${Math.round(value * 100)}% (state only)`)\n    } else {\n      setRightLocalVolume(value)\n      console.log(` Deck ${deckId} LOCAL volume: ${Math.round(value * 100)}% (state only)`)\n    }\n  }, [side, setLeftLocalVolume, setRightLocalVolume, deckId])\n\n  // Listener per il seek dal waveform\n  useEffect(() => {\n    const handleWaveformSeek = (e: CustomEvent) => {\n      if (isActive) {\n        if (side === 'left') {\n          seekLeftTo(e.detail.time)\n        } else {\n          seekRightTo(e.detail.time)\n        }\n      }\n    }\n\n    window.addEventListener('waveform:seek', handleWaveformSeek as EventListener)\n    return () => window.removeEventListener('waveform:seek', handleWaveformSeek as EventListener)\n  }, [isActive, side, seekLeftTo, seekRightTo])\n\n  const formatTime = (t: number) => {\n    const m = Math.floor(t / 60)\n    const s = Math.floor(t % 60)\n    return `${m}:${String(s).padStart(2,'0')}`\n  }\n\n  return (\n    <div className={`\n      relative p-4 rounded-xl border-2 transition-all duration-300 ease-in-out\n      ${isActive \n        ? 'border-green-500 bg-green-500/10 shadow-lg shadow-green-500/20' \n        : 'border-dj-accent/30 bg-dj-primary'\n      }\n    `}>\n      {/* Indicatore di stato attivo */}\n      <div className=\"absolute top-2 right-2 flex items-center space-x-2\">\n        {isActive && (\n          <>\n            <Activity className=\"w-4 h-4 text-green-500 animate-pulse\" />\n            <span className=\"text-xs font-bold text-green-500 bg-green-500/20 px-2 py-1 rounded-full\">\n              ATTIVO\n            </span>\n          </>\n        )}\n      </div>\n\n      {/* Header del deck */}\n      <div className=\"flex items-center justify-between mb-3\">\n        <h3 className=\"text-lg font-dj font-bold text-white flex items-center space-x-2\">\n          <Disc className=\"w-5 h-5\" />\n          <span>Deck {deckId}</span>\n        </h3>\n      </div>\n\n      {/* Status separato per evitare sovrapposizioni */}\n      <div className=\"mb-3\">\n        <div className=\"text-xs text-dj-light/60 text-center\">\n          {isActive ? 'In riproduzione' : 'Standby'}\n        </div>\n      </div>\n\n      {/* Informazioni traccia */}\n      <div className=\"bg-dj-secondary rounded-lg p-3 mb-3 border border-dj-accent/20\">\n        <div className=\"flex items-center space-x-3 mb-2\">\n          <div className={`w-3 h-3 rounded-full ${isActive ? 'bg-green-500 animate-pulse' : 'bg-gray-500'}`} />\n          <div className=\"flex-1 min-w-0\">\n            <h4 className=\"font-medium text-white text-sm truncate\">\n              {currentTrack?.title || 'Nessuna traccia caricata'}\n            </h4>\n            <p className=\"text-xs text-dj-light/60 truncate\">\n              {currentTrack?.artist || 'Artista sconosciuto'}\n            </p>\n          </div>\n        </div>\n        \n        {currentTrack && (\n          <div className=\"flex items-center justify-between text-xs\">\n            <div className=\"flex items-center space-x-2\">\n              <Clock className=\"w-3 h-3 text-dj-light/60\" />\n              <span className=\"text-dj-light\">\n                {formatTime(currentTime)} / {formatTime(currentTrack.duration)}\n              </span>\n            </div>\n            <div className=\"text-dj-light/50\">\n              Rimanenti: {formatTime(currentTrack.duration - currentTime)}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Waveform */}\n      {currentTrack && (\n        <div className=\"mb-3\">\n          <DynamicWaveform\n            waveformData={(currentTrack as any)?.waveform || Array.from({ length: 120 }, () => 0.3 + Math.random() * 0.4)}\n            currentTime={currentTime}\n            duration={currentTrack.duration || 0}\n            isPlaying={isPlaying}\n            deck={side}\n            className=\"relative h-16\"\n          />\n        </div>\n      )}\n\n      {/* Controlli transport */}\n      <div className=\"flex items-center justify-center space-x-3 mb-3\">\n        <button\n          onClick={handleSkipBackward}\n          className=\"w-8 h-8 bg-dj-secondary hover:bg-dj-accent rounded-md flex items-center justify-center transition-all duration-200\"\n          title=\"Salta indietro (-10s)\"\n        >\n          <SkipBack className=\"w-4 h-4\" />\n        </button>\n        \n        <button\n          onClick={isPlaying ? handlePause : handlePlay}\n          className={`w-12 h-12 rounded-md flex items-center justify-center transition-all duration-200 ${\n            isPlaying\n              ? 'bg-dj-accent hover:bg-dj-highlight' \n              : 'bg-dj-highlight hover:bg-dj-accent'\n          }`}\n          title={isPlaying ? \"Pausa\" : \"Play\"}\n          disabled={!currentTrack || isProcessing}\n        >\n          {isPlaying ? <Pause className=\"w-5 h-5\" /> : <Play className=\"w-5 h-5\" />}\n        </button>\n        \n        <button\n          onClick={handleSkipForward}\n          className=\"w-8 h-8 bg-dj-secondary hover:bg-dj-accent rounded-md flex items-center justify-center transition-all duration-200\"\n          title=\"Salta avanti (+10s)\"\n        >\n          <SkipForward className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Controllo volume locale */}\n      <div className=\"bg-dj-secondary rounded-lg p-3\">\n        <div className=\"flex items-center space-x-3 mb-2\">\n          <Volume2 className=\"w-4 h-4 text-dj-accent\" />\n          <span className=\"text-xs text-dj-light/80 font-medium\">Volume Locale</span>\n          <span className=\"text-xs text-dj-light/60 ml-auto\">\n            {Math.round(localVolume * 100)}%\n          </span>\n        </div>\n        <input\n          type=\"range\"\n          min=\"0\"\n          max=\"1\"\n          step=\"0.01\"\n          value={localVolume}\n          onChange={(e) => handleVolumeChange(parseFloat(e.target.value))}\n          className=\"dj-slider w-full h-2\"\n          aria-label={`Volume locale deck ${deckId}`}\n        />\n        <div className=\"text-xs text-dj-light/50 mt-1\">\n          Solo per monitoring locale - non influenza lo streaming\n        </div>\n      </div>\n\n      {/* Barra di progresso */}\n      {currentTrack && (\n        <div className=\"mt-3\">\n          <div className=\"flex items-center justify-between text-xs text-dj-light/60 mb-1\">\n            <TimerDisplay \n              deck={side}\n              className=\"text-xs text-dj-light/60\"\n            />\n          </div>\n          <input\n            type=\"range\"\n            min={0}\n            max={Math.max(currentTrack.duration || 0, 0.001)}\n            step={0.1}\n            value={currentTime}\n            onChange={(e) => {\n              if (isActive) {\n                if (side === 'left') {\n                  seekLeftTo(parseFloat(e.target.value))\n                } else {\n                  seekRightTo(parseFloat(e.target.value))\n                }\n              }\n            }}\n            className=\"dj-slider w-full h-1\"\n            aria-label={`Seek control per deck ${deckId}`}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default EnhancedDeck\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Volume2, Mic, MicOff, Radio, Settings } from 'lucide-react'\nimport { useAudio } from '../../contexts/AudioContext'\nimport { useSettings } from '../../contexts/SettingsContext'\n\ninterface EnhancedMixerProps {\n  leftDeckActive: boolean\n  rightDeckActive: boolean\n  onMasterVolumeChange?: (volume: number) => void\n  onStreamVolumeChange?: (volume: number) => void\n  onPTTActivate?: (active: boolean) => void\n}\n\nconst EnhancedMixer: React.FC<EnhancedMixerProps> = ({\n  leftDeckActive,\n  rightDeckActive,\n  onMasterVolumeChange,\n  onStreamVolumeChange,\n  onPTTActivate\n}) => {\n  const { \n    state: audioState,\n    setStreamDucking,\n    setCrossfader\n  } = useAudio()\n  \n  const { settings } = useSettings()\n  \n  // Stati locali per i controlli\n  const [masterVolume, setMasterVolume] = useState(0.8) // Volume locale\n  const [streamVolume, setStreamVolume] = useState(1.0) //  CRITICAL FIX: Volume streaming al 100% di default (come richiesto dall'utente)\n  const [pttActive, setPttActive] = useState(false)\n  const [crossfaderValue, setCrossfaderValue] = useState(0.5)\n\n  // Sincronizza il crossfader con lo stato globale\n  useEffect(() => {\n    setCrossfaderValue(audioState.crossfader)\n  }, [audioState.crossfader])\n\n  // Gestione PTT con ducking SOLO WebAudio (non tocca volumi locali)\n  const handlePTTActivate = useCallback((active: boolean) => {\n    setPttActive(active)\n    onPTTActivate?.(active)\n    \n    //  CRITICAL FIX: PTT gestisce SOLO WebAudio ducking - NON tocca i volumi locali!\n    // Il ducking viene gestito da updatePTTVolumesOnly() in AudioContext\n    \n    if (active) {\n      // Attiva ducking per lo streaming (solo WebAudio mixer)\n      setStreamDucking(true)\n      console.log(` PTT attivato - ducking WebAudio al ${settings.microphone.duckingPercent}%`)\n    } else {\n      // Disattiva ducking per lo streaming\n      setStreamDucking(false)\n      console.log(' PTT disattivato - ducking WebAudio rimosso')\n    }\n  }, [settings.microphone.duckingPercent, setStreamDucking, onPTTActivate])\n\n  // Gestione crossfader (solo per streaming)\n  const handleCrossfaderChange = useCallback((value: number) => {\n    setCrossfaderValue(value)\n    setCrossfader(value)\n    console.log(` [CROSSFADER] Crossfader cambiato: ${Math.round(value * 100)}% (A=${Math.round((1-value)*100)}%, B=${Math.round(value*100)}%)`)\n  }, [setCrossfader])\n\n  // Gestione volume master (solo locale)\n  const handleMasterVolumeChange = useCallback((volume: number) => {\n    setMasterVolume(volume)\n    onMasterVolumeChange?.(volume)\n    \n    //  CRITICAL FIX: Il volume master viene gestito dallo stato globale\n    // Non serve pi applicazione manuale ai volumi HTML\n    \n    console.log(` MASTER Volume (locale): ${Math.round(volume * 100)}%`)\n  }, [onMasterVolumeChange])\n\n  // Gestione volume stream (solo streaming)\n  const handleStreamVolumeChange = useCallback((volume: number) => {\n    setStreamVolume(volume)\n    onStreamVolumeChange?.(volume)\n    \n    //  CRITICAL FIX: L'evento viene emesso dal listener esterno (PTT)\n    // Non serve pi emetterlo qui per evitare duplicazioni\n    \n    console.log(` STREAM Volume (live): ${Math.round(volume * 100)}%`)\n  }, [onStreamVolumeChange])\n\n  //  CRITICAL FIX: Ascolta l'evento per aggiornare il volume del Live Stream dall'esterno (PTT)\n  useEffect(() => {\n    const handleStreamVolumeChangeEvent = (event: CustomEvent) => {\n      const newVolume = event.detail.volume\n      console.log(` [EVENT] Volume Live Stream aggiornato da evento: ${Math.round(newVolume * 100)}%`)\n      \n      // Aggiorna lo stato locale per sincronizzare l'interfaccia\n      setStreamVolume(newVolume)\n      \n      // Notifica il cambiamento\n      onStreamVolumeChange?.(newVolume)\n    }\n    \n    // Ascolta l'evento custom per aggiornamenti esterni (PTT)\n    window.addEventListener('djconsole:stream-volume-change', handleStreamVolumeChangeEvent as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:stream-volume-change', handleStreamVolumeChangeEvent as EventListener)\n    }\n  }, [onStreamVolumeChange])\n\n  // Gestione keyboard shortcuts per PTT\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Solo se non stiamo digitando in un input\n      if (e.target && (e.target as HTMLElement).tagName === 'INPUT') return\n      if (e.target && (e.target as HTMLElement).tagName === 'TEXTAREA') return\n      \n      if (e.code === 'KeyM' && !pttActive) {\n        e.preventDefault()\n        handlePTTActivate(true)\n      }\n    }\n    \n    const handleKeyUp = (e: KeyboardEvent) => {\n      // Solo se non stiamo digitando in un input\n      if (e.target && (e.target as HTMLElement).tagName === 'INPUT') return\n      if (e.target && (e.target as HTMLElement).tagName === 'TEXTAREA') return\n      \n      if (e.code === 'KeyM' && pttActive) {\n        e.preventDefault()\n        handlePTTActivate(false)\n      }\n    }\n    \n    window.addEventListener('keydown', handleKeyDown)\n    window.addEventListener('keyup', handleKeyUp)\n    \n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n      window.removeEventListener('keyup', handleKeyUp)\n    }\n  }, [pttActive, handlePTTActivate])\n\n  return (\n    <div className=\"bg-dj-primary rounded-xl border border-dj-accent/30 p-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-dj font-bold text-white flex items-center space-x-2\">\n          <Volume2 className=\"w-5 h-5\" />\n          <span>Mixer & Controls</span>\n        </h3>\n        <div className=\"flex items-center space-x-2\">\n          <div className={`w-2 h-2 rounded-full ${leftDeckActive ? 'bg-green-500' : 'bg-gray-500'}`} />\n          <span className=\"text-xs text-dj-light/60\">A</span>\n          <div className={`w-2 h-2 rounded-full ${rightDeckActive ? 'bg-green-500' : 'bg-gray-500'}`} />\n          <span className=\"text-xs text-dj-light/60\">B</span>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {/* Crossfader */}\n        <div className=\"bg-dj-secondary rounded-lg p-3\">\n          <div className=\"text-center mb-3\">\n            <h4 className=\"text-sm font-medium text-white mb-1\">Crossfader</h4>\n            <div className=\"text-xs text-dj-light/60 mb-2\">\n              A: {Math.round((1-crossfaderValue)*100)}% | B: {Math.round(crossfaderValue*100)}%\n            </div>\n            <div className=\"text-xs text-yellow-400 bg-yellow-400/10 px-3 py-1.5 rounded-md border border-yellow-400/30 font-medium\">\n               Solo per streaming\n            </div>\n          </div>\n          \n          <div className=\"relative\">\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value={crossfaderValue}\n              onChange={(e) => handleCrossfaderChange(parseFloat(e.target.value))}\n              className=\"dj-slider w-full h-3\"\n              aria-label=\"Crossfader\"\n            />\n            <div className=\"flex justify-between text-xs text-dj-light/60 mt-1\">\n              <span>A</span>\n              <span>CENTER</span>\n              <span>B</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Controlli Volume */}\n        <div className=\"bg-dj-secondary rounded-lg p-3\">\n          <h4 className=\"text-sm font-medium text-white mb-3 text-center\">Volume Controls</h4>\n          \n          {/* Volume Master (Solo Locale) */}\n          <div className=\"mb-3\">\n            <div className=\"flex items-center justify-between mb-1\">\n              <span className=\"text-xs text-dj-light/80\">Master (Locale)</span>\n              <span className=\"text-xs text-dj-light/60\">{Math.round(masterVolume * 100)}%</span>\n            </div>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value={masterVolume}\n              onChange={(e) => handleMasterVolumeChange(parseFloat(e.target.value))}\n              className=\"dj-slider w-full h-2\"\n              aria-label=\"Volume Master (Locale)\"\n            />\n            <div className=\"text-xs text-dj-light/50 mt-1\">\n              Solo per monitoring locale\n            </div>\n          </div>\n\n          {/* Volume Stream (Solo Streaming) */}\n          <div>\n            <div className=\"flex items-center justify-between mb-1\">\n              <div className=\"flex items-center space-x-1\">\n                <Radio className=\"w-3 h-3 text-red-500\" />\n                <span className=\"text-xs text-dj-light/80\">Live Stream</span>\n              </div>\n              <span className=\"text-xs text-dj-light/60\">{Math.round(streamVolume * 100)}%</span>\n            </div>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value={streamVolume}\n              onChange={(e) => handleStreamVolumeChange(parseFloat(e.target.value))}\n              className=\"dj-slider w-full h-2 accent-red-500\"\n              aria-label=\"Volume Live Stream\"\n            />\n            <div className=\"text-xs text-red-400/70 mt-1\">\n              Solo per lo streaming live\n            </div>\n          </div>\n        </div>\n\n        {/* Controlli Microfono */}\n        <div className=\"bg-dj-secondary rounded-lg p-3\">\n          <h4 className=\"text-sm font-medium text-white mb-3 text-center\">Microfono</h4>\n          \n          {/* Toggle Microfono */}\n          <div className=\"mb-3\">\n            <button\n              onClick={() => {\n                //  CRITICAL FIX: Il microfono viene gestito automaticamente dal PTT\n                // Non serve pi toggle manuale\n                console.log(' Microfono gestito automaticamente dal PTT')\n              }}\n              className={`w-full p-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 ${\n                audioState.microphone?.isEnabled\n                  ? 'bg-green-600 hover:bg-green-700 text-white'\n                  : 'bg-gray-600 hover:bg-gray-700 text-white'\n              }`}\n            >\n              {audioState.microphone?.isEnabled ? (\n                <>\n                  <Mic className=\"w-4 h-4\" />\n                  <span className=\"text-sm\">Microfono ON</span>\n                </>\n              ) : (\n                <>\n                  <MicOff className=\"w-4 h-4\" />\n                  <span className=\"text-sm\">Microfono OFF</span>\n                </>\n              )}\n            </button>\n          </div>\n\n          {/* PTT Button */}\n          <div className=\"mb-3\">\n            <button\n              onMouseDown={() => handlePTTActivate(true)}\n              onMouseUp={() => handlePTTActivate(false)}\n              onMouseLeave={() => handlePTTActivate(false)}\n              onTouchStart={(e) => { e.preventDefault(); handlePTTActivate(true) }}\n              onTouchEnd={(e) => { e.preventDefault(); handlePTTActivate(false) }}\n              className={`w-full p-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 ${\n                pttActive\n                  ? 'bg-red-600 text-white shadow-lg'\n                  : 'bg-dj-primary text-dj-light hover:bg-dj-accent'\n              }`}\n            >\n              <Mic className=\"w-4 h-4\" />\n              <span className=\"text-sm font-bold\">\n                {pttActive ? 'PTT ACTIVE' : 'HOLD PTT'}\n              </span>\n            </button>\n            <div className=\"text-xs text-dj-light/50 mt-1 text-center\">\n              Tieni premuto M o il pulsante\n            </div>\n          </div>\n\n          {/* Ducking Settings */}\n          <div className=\"text-xs text-dj-light/60 text-center\">\n            Ducking: {settings.microphone.duckingPercent}%\n            <button\n              className=\"ml-2 text-dj-accent hover:text-dj-highlight\"\n              title=\"Modifica nelle impostazioni\"\n            >\n              <Settings className=\"w-3 h-3 inline\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Stato PTT e Ducking */}\n      {(pttActive || audioState.microphone?.isEnabled) && (\n        <div className=\"mt-4 p-2 bg-red-600/20 border border-red-600/40 rounded-lg\">\n          <div className=\"flex items-center justify-center space-x-2\">\n            <Mic className=\"w-4 h-4 text-red-500\" />\n            <span className=\"text-sm font-bold text-red-500\">\n              MICROFONO IN ONDA\n            </span>\n            {pttActive && (\n              <span className=\"text-xs text-red-400\">\n                (Musica abbassata al {100 - settings.microphone.duckingPercent}%)\n              </span>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default EnhancedMixer\n","import React, { useState, useCallback, useEffect } from 'react'\nimport { Play, SkipForward, Trash2, Clock, Music } from 'lucide-react'\nimport { usePlaylist } from '../../contexts/PlaylistContext'\nimport { useAudio } from '../../contexts/AudioContext'\nimport { useSettings } from '../../contexts/SettingsContext'\n\ninterface EnhancedPlaylistProps {\n  activePlaylistId: string | null\n  onPlaylistChange: (playlistId: string) => void\n  onTrackLoad: (deck: 'left' | 'right', track: any) => void\n  leftDeckActive: boolean\n  rightDeckActive: boolean\n}\n\nconst EnhancedPlaylist: React.FC<EnhancedPlaylistProps> = ({\n  activePlaylistId,\n  onPlaylistChange,\n  onTrackLoad,\n  leftDeckActive,\n  rightDeckActive\n}) => {\n  const { state: playlistState, reorderPlaylist } = usePlaylist()\n  const { state: audioState } = useAudio()\n  const { settings } = useSettings()\n  \n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null)\n  const [highlightedTrack, setHighlightedTrack] = useState<string | null>(null)\n\n  // Trova la playlist attiva\n  const activePlaylist = playlistState.library.playlists.find(pl => pl.id === activePlaylistId)\n  const tracks = activePlaylist?.tracks || []\n\n  // Calcola il tempo totale della playlist\n  const totalDuration = tracks.reduce((sum, track) => sum + track.duration, 0)\n  \n  const formatTime = (seconds: number) => {\n    const hours = Math.floor(seconds / 3600)\n    const minutes = Math.floor((seconds % 3600) / 60)\n    const secs = Math.floor(seconds % 60)\n    \n    if (hours > 0) {\n      return `${hours}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`\n    }\n    return `${minutes}:${String(secs).padStart(2, '0')}`\n  }\n\n  // Determina il deck migliore per il caricamento automatico\n  const getBestDeckForLoad = useCallback((): 'left' | 'right' => {\n    // Se auto-avanzamento  attivo, usa la logica intelligente\n    if (settings.interface.autoAdvance) {\n      // Se un deck  libero, usa quello\n      if (!audioState.leftDeck.track || !audioState.leftDeck.isPlaying) {\n        return 'left'\n      }\n      if (!audioState.rightDeck.track || !audioState.rightDeck.isPlaying) {\n        return 'right'\n      }\n      \n      // Se entrambi sono occupati, usa quello con meno tempo rimanente\n      const leftTimeLeft = audioState.leftDeck.track ? \n        (audioState.leftDeck.track.duration - audioState.leftDeck.currentTime) : 0\n      const rightTimeLeft = audioState.rightDeck.track ? \n        (audioState.rightDeck.track.duration - audioState.rightDeck.currentTime) : 0\n      \n      return leftTimeLeft < rightTimeLeft ? 'left' : 'right'\n    }\n    \n    // Logica semplice: usa il primo deck libero, altrimenti il sinistro\n    if (!audioState.leftDeck.track || !audioState.leftDeck.isPlaying) {\n      return 'left'\n    }\n    if (!audioState.rightDeck.track || !audioState.rightDeck.isPlaying) {\n      return 'right'\n    }\n    return 'left' // Default al sinistro\n  }, [settings.interface.autoAdvance, audioState.leftDeck, audioState.rightDeck])\n\n  // Gestisce il doppio click su una traccia\n  const handleTrackDoubleClick = useCallback((track: any) => {\n    const targetDeck = getBestDeckForLoad()\n    console.log(` Doppio click su \"${track.title}\" - caricamento in deck ${targetDeck.toUpperCase()}`)\n    \n    // Evidenzia la traccia per feedback visivo\n    setHighlightedTrack(track.id)\n    setTimeout(() => setHighlightedTrack(null), 1000)\n    \n    onTrackLoad(targetDeck, track)\n  }, [getBestDeckForLoad, onTrackLoad])\n\n  // Gestisce il caricamento manuale in un deck specifico\n  const handleLoadInDeck = useCallback((track: any, deck: 'left' | 'right') => {\n    console.log(` Caricamento manuale di \"${track.title}\" in deck ${deck.toUpperCase()}`)\n    onTrackLoad(deck, track)\n  }, [onTrackLoad])\n\n  // Gestisce il drag and drop per riordinare\n  const handleDragStart = (e: React.DragEvent, index: number) => {\n    setDraggedIndex(index)\n    e.dataTransfer.setData('text/plain', String(index))\n    e.dataTransfer.effectAllowed = 'move'\n  }\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.dataTransfer.dropEffect = 'move'\n  }\n\n  const handleDrop = (e: React.DragEvent, dropIndex: number) => {\n    e.preventDefault()\n    const dragIndexStr = e.dataTransfer.getData('text/plain')\n    const dragIndex = parseInt(dragIndexStr)\n    \n    if (isNaN(dragIndex) || dragIndex === dropIndex || !activePlaylistId) {\n      setDraggedIndex(null)\n      return\n    }\n    \n    try {\n      const newOrder = [...tracks]\n      if (dragIndex >= 0 && dragIndex < newOrder.length && dropIndex >= 0 && dropIndex < newOrder.length) {\n        const [movedTrack] = newOrder.splice(dragIndex, 1)\n        newOrder.splice(dropIndex, 0, movedTrack)\n        \n        reorderPlaylist(activePlaylistId, newOrder.map(t => t.id))\n      }\n    } catch (error) {\n      console.error('Errore nel drag & drop:', error)\n    }\n    \n    setDraggedIndex(null)\n  }\n\n  // Verifica se una traccia  attualmente in riproduzione\n  const isTrackPlaying = useCallback((track: any): { isPlaying: boolean, deck: 'left' | 'right' | null } => {\n    if (audioState.leftDeck.track?.id === track.id && audioState.leftDeck.isPlaying) {\n      return { isPlaying: true, deck: 'left' }\n    }\n    if (audioState.rightDeck.track?.id === track.id && audioState.rightDeck.isPlaying) {\n      return { isPlaying: true, deck: 'right' }\n    }\n    return { isPlaying: false, deck: null }\n  }, [audioState.leftDeck, audioState.rightDeck])\n\n  // Verifica se una traccia  caricata (ma non necessariamente in riproduzione)\n  const isTrackLoaded = useCallback((track: any): { isLoaded: boolean, deck: 'left' | 'right' | null } => {\n    if (audioState.leftDeck.track?.id === track.id) {\n      return { isLoaded: true, deck: 'left' }\n    }\n    if (audioState.rightDeck.track?.id === track.id) {\n      return { isLoaded: true, deck: 'right' }\n    }\n    return { isLoaded: false, deck: null }\n  }, [audioState.leftDeck, audioState.rightDeck])\n\n  return (\n    <div className=\"bg-dj-secondary rounded-xl border border-dj-accent/20 overflow-hidden\">\n      {/* Header della playlist */}\n      <div className=\"bg-dj-primary p-4 border-b border-dj-accent/20\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <div className=\"flex items-center space-x-3\">\n            <Music className=\"w-5 h-5 text-dj-highlight\" />\n            <h3 className=\"text-lg font-bold text-white\">Playlist</h3>\n          </div>\n          <div className=\"flex items-center space-x-4 text-sm text-dj-light/60\">\n            <div className=\"flex items-center space-x-1\">\n              <Clock className=\"w-4 h-4\" />\n              <span>{formatTime(totalDuration)}</span>\n            </div>\n            <div>{tracks.length} tracce</div>\n          </div>\n        </div>\n\n        {/* Tabs delle playlist */}\n        <div className=\"flex items-center space-x-2 overflow-x-auto\">\n          {playlistState.library.playlists.map((playlist) => (\n            <button\n              key={playlist.id}\n              onClick={() => onPlaylistChange(playlist.id)}\n              className={`px-3 py-2 rounded-md text-sm transition-colors whitespace-nowrap ${\n                activePlaylistId === playlist.id \n                  ? 'bg-dj-accent text-white' \n                  : 'bg-dj-secondary text-dj-light/80 hover:bg-dj-accent/20 hover:text-white'\n              }`}\n            >\n              {playlist.name}\n              <span className=\"ml-2 text-xs opacity-60\">({playlist.tracks.length})</span>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Lista tracce */}\n      <div className=\"max-h-96 overflow-y-auto\">\n        {tracks.length === 0 ? (\n          <div className=\"p-8 text-center text-dj-light/60\">\n            <Music className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n            <p>Nessuna traccia nella playlist</p>\n            <p className=\"text-xs mt-1\">Aggiungi tracce dalla libreria</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-dj-accent/10\">\n            {tracks.map((track, index) => {\n              const playingStatus = isTrackPlaying(track)\n              const loadedStatus = isTrackLoaded(track)\n              const isHighlighted = highlightedTrack === track.id\n              \n              return (\n                <div\n                  key={track.id}\n                  draggable\n                  onDragStart={(e) => handleDragStart(e, index)}\n                  onDragOver={handleDragOver}\n                  onDrop={(e) => handleDrop(e, index)}\n                  onDoubleClick={() => handleTrackDoubleClick(track)}\n                  className={`\n                    flex items-center p-3 cursor-pointer transition-all duration-200\n                    ${draggedIndex === index ? 'opacity-50' : ''}\n                    ${isHighlighted ? 'bg-dj-highlight/20 scale-105' : 'hover:bg-dj-accent/10'}\n                    ${playingStatus.isPlaying ? 'bg-green-500/10 border-l-2 border-green-500' : ''}\n                    ${loadedStatus.isLoaded && !playingStatus.isPlaying ? 'bg-yellow-500/10 border-l-2 border-yellow-500' : ''}\n                  `}\n                >\n                  {/* Numero traccia */}\n                  <div className=\"w-8 text-xs text-dj-light/60 text-center\">\n                    {index + 1}\n                  </div>\n\n                  {/* Indicatore stato */}\n                  <div className=\"w-6 flex justify-center\">\n                    {playingStatus.isPlaying ? (\n                      <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n                    ) : loadedStatus.isLoaded ? (\n                      <div className=\"w-2 h-2 bg-yellow-500 rounded-full\" />\n                    ) : (\n                      <div className=\"w-2 h-2 bg-gray-500 rounded-full\" />\n                    )}\n                  </div>\n\n                  {/* Informazioni traccia */}\n                  <div className=\"flex-1 min-w-0 px-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"min-w-0 flex-1\">\n                        <h4 className=\"text-sm font-medium text-white truncate\">\n                          {track.title}\n                        </h4>\n                        <p className=\"text-xs text-dj-light/60 truncate\">\n                          {track.artist}\n                        </p>\n                      </div>\n                      <div className=\"text-xs text-dj-light/60 ml-2\">\n                        {formatTime(track.duration)}\n                      </div>\n                    </div>\n                    \n                    {/* Stato e deck */}\n                    {(playingStatus.isPlaying || loadedStatus.isLoaded) && (\n                      <div className=\"text-xs mt-1\">\n                        <span className={`px-2 py-0.5 rounded-full ${\n                          playingStatus.isPlaying \n                            ? 'bg-green-500/20 text-green-400' \n                            : 'bg-yellow-500/20 text-yellow-400'\n                        }`}>\n                          Deck {playingStatus.deck?.toUpperCase() || loadedStatus.deck?.toUpperCase()} - {playingStatus.isPlaying ? 'In riproduzione' : 'Caricata'}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Pulsanti azione */}\n                  <div className=\"flex items-center space-x-1\">\n                    <button\n                      onClick={(e) => { e.stopPropagation(); handleLoadInDeck(track, 'left') }}\n                      className={`px-2 py-1 text-xs rounded transition-colors ${\n                        loadedStatus.deck === 'left'\n                          ? 'bg-dj-accent text-white'\n                          : 'bg-dj-primary hover:bg-dj-accent/30 text-dj-light'\n                      }`}\n                      title=\"Carica in Deck A\"\n                    >\n                      A\n                    </button>\n                    \n                    <button\n                      onClick={(e) => { e.stopPropagation(); handleLoadInDeck(track, 'right') }}\n                      className={`px-2 py-1 text-xs rounded transition-colors ${\n                        loadedStatus.deck === 'right'\n                          ? 'bg-dj-accent text-white'\n                          : 'bg-dj-primary hover:bg-dj-accent/30 text-dj-light'\n                      }`}\n                      title=\"Carica in Deck B\"\n                    >\n                      B\n                    </button>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Footer con informazioni */}\n      <div className=\"bg-dj-primary p-3 border-t border-dj-accent/20\">\n        <div className=\"flex items-center justify-between text-xs text-dj-light/60\">\n          <div>\n             Doppio click per caricare automaticamente\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\" />\n              <span>In riproduzione</span>\n            </div>\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-2 h-2 bg-yellow-500 rounded-full\" />\n              <span>Caricata</span>\n            </div>\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-2 h-2 bg-gray-500 rounded-full\" />\n              <span>Disponibile</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default EnhancedPlaylist\n","import React, { useEffect, useCallback, useRef } from 'react'\nimport { useSettings } from '../../contexts/SettingsContext'\nimport { usePlaylist } from '../../contexts/PlaylistContext'\nimport { useAudio } from '../../contexts/AudioContext'\n\ninterface AutoAdvanceManagerProps {\n  activePlaylistId: string | null\n  onTrackLoad: (deck: 'left' | 'right', track: any) => void\n  onDuplicateTrackWarning?: (track: any, activeDeck: 'left' | 'right') => void\n}\n\nconst AutoAdvanceManager: React.FC<AutoAdvanceManagerProps> = ({\n  activePlaylistId,\n  onTrackLoad,\n  onDuplicateTrackWarning\n}) => {\n  const { settings } = useSettings()\n  const { state: playlistState } = usePlaylist()\n  const { state: audioState } = useAudio()\n  \n  const pendingAdvanceRef = useRef<{deck: 'left' | 'right', track: any} | null>(null)\n  const generalAdvanceTimeRef = useRef<number>(0)\n  const deckAdvanceTimeRef = useRef<{left: number, right: number}>({left: 0, right: 0})\n\n  // Trova la prossima traccia nella playlist\n  const getNextTrack = useCallback((currentTrack: any): any | null => {\n    console.log(' [AUTO-ADVANCE DEBUG] getNextTrack chiamato con:', {\n      activePlaylistId,\n      currentTrack: currentTrack?.title,\n      currentTrackId: currentTrack?.id\n    })\n    \n    if (!activePlaylistId || !currentTrack) {\n      console.log(' [AUTO-ADVANCE DEBUG] Mancano activePlaylistId o currentTrack')\n      return null\n    }\n    \n    const playlist = playlistState.library.playlists.find(p => p.id === activePlaylistId)\n    console.log(' [AUTO-ADVANCE DEBUG] Playlist trovata:', {\n      playlistExists: !!playlist,\n      playlistId: playlist?.id,\n      tracksCount: playlist?.tracks?.length\n    })\n    \n    if (!playlist) {\n      console.log(' [AUTO-ADVANCE DEBUG] Playlist non trovata')\n      return null\n    }\n    \n    const currentIndex = playlist.tracks.findIndex(t => t.id === currentTrack.id)\n    console.log(' [AUTO-ADVANCE DEBUG] Indice traccia corrente:', {\n      currentIndex,\n      totalTracks: playlist.tracks.length,\n      isLastTrack: currentIndex >= playlist.tracks.length - 1\n    })\n    \n    if (currentIndex === -1) {\n      console.log(' [AUTO-ADVANCE DEBUG] Traccia corrente non trovata nella playlist')\n      return null\n    }\n    \n    if (currentIndex >= playlist.tracks.length - 1) {\n      console.log(' [AUTO-ADVANCE DEBUG]  l\\'ultima traccia della playlist')\n      \n      //  LOOP PLAYLIST: Se abilitato, riparti dalla prima traccia\n      if (settings.interface.playlistLoop && playlist.tracks.length > 0) {\n        console.log(' [AUTO-ADVANCE DEBUG] Loop playlist abilitato - riparto dalla prima traccia')\n        return playlist.tracks[0]\n      }\n      \n      return null\n    }\n    \n    const nextTrack = playlist.tracks[currentIndex + 1]\n    console.log(' [AUTO-ADVANCE DEBUG] Prossima traccia trovata:', {\n      nextTrackTitle: nextTrack?.title,\n      nextTrackId: nextTrack?.id\n    })\n    \n    return nextTrack\n  }, [activePlaylistId, playlistState.library.playlists])\n\n  // Verifica se un deck  libero\n  const isDeckFree = useCallback((deck: 'left' | 'right'): boolean => {\n    const deckState = deck === 'left' ? audioState.leftDeck : audioState.rightDeck\n    return !deckState.track || !deckState.isPlaying\n  }, [audioState.leftDeck, audioState.rightDeck])\n\n  // Trova il deck migliore per l'auto-avanzamento\n  const getBestDeckForAutoAdvance = useCallback((): 'left' | 'right' | null => {\n    const leftFree = isDeckFree('left')\n    const rightFree = isDeckFree('right')\n    \n    // Se entrambi sono liberi, preferisci il left\n    if (leftFree && rightFree) {\n      return 'left'\n    }\n    \n    // Se solo uno  libero, usa quello\n    if (leftFree) return 'left'\n    if (rightFree) return 'right'\n    \n    // Se entrambi sono occupati, trova quello con meno tempo rimanente\n    const leftTimeLeft = audioState.leftDeck.track ? \n      (audioState.leftDeck.track.duration - audioState.leftDeck.currentTime) : 0\n    const rightTimeLeft = audioState.rightDeck.track ? \n      (audioState.rightDeck.track.duration - audioState.rightDeck.currentTime) : 0\n    \n    return leftTimeLeft < rightTimeLeft ? 'left' : 'right'\n  }, [isDeckFree, audioState.leftDeck, audioState.rightDeck])\n\n  // Verifica se una traccia  duplicata\n  const isTrackDuplicate = useCallback((track: any, targetDeck: 'left' | 'right'): boolean => {\n    const otherDeck = targetDeck === 'left' ? audioState.rightDeck : audioState.leftDeck\n    return otherDeck.track?.id === track.id\n  }, [audioState.leftDeck, audioState.rightDeck])\n\n  // Trova la prossima traccia non duplicata\n  const getNextNonDuplicateTrack = useCallback((currentTrack: any, targetDeck: 'left' | 'right'): any => {\n    console.log(' [AUTO-ADVANCE DEBUG] getNextNonDuplicateTrack chiamato con:', {\n      currentTrack: currentTrack?.title,\n      targetDeck\n    })\n    \n    let nextTrack = getNextTrack(currentTrack)\n    let attempts = 0\n    const maxAttempts = 10 // Evita loop infiniti\n    \n    console.log(' [AUTO-ADVANCE DEBUG] Prima traccia trovata:', {\n      nextTrack: nextTrack?.title,\n      nextTrackId: nextTrack?.id\n    })\n    \n    while (nextTrack && attempts < maxAttempts) {\n      const isDuplicate = isTrackDuplicate(nextTrack, targetDeck)\n      console.log(' [AUTO-ADVANCE DEBUG] Controllo duplicato:', {\n        track: nextTrack.title,\n        isDuplicate,\n        targetDeck\n      })\n      \n      if (!isDuplicate) {\n        console.log(` Trovata traccia non duplicata: ${nextTrack.title} (tentativo ${attempts + 1})`)\n        return nextTrack\n      }\n      \n      console.log(` Traccia duplicata saltata: ${nextTrack.title} (tentativo ${attempts + 1})`)\n      nextTrack = getNextTrack(nextTrack)\n      attempts++\n    }\n    \n    if (attempts >= maxAttempts) {\n      console.log(` Raggiunto limite massimo di tentativi (${maxAttempts}), usando ultima traccia trovata`)\n    }\n    \n    return nextTrack\n  }, [getNextTrack, isTrackDuplicate])\n\n  // Gestisce l'auto-avanzamento\n  const handleAutoAdvance = useCallback((fromDeck: 'left' | 'right') => {\n    if (!settings.interface.autoAdvance) {\n      console.log(' Auto-avanzamento disabilitato nelle impostazioni')\n      return\n    }\n\n    // Throttling per evitare chiamate multiple\n    const now = Date.now()\n    if (now - generalAdvanceTimeRef.current < 1000) {\n      console.log(' Auto-avanzamento throttled (troppo veloce)')\n      return\n    }\n    generalAdvanceTimeRef.current = now\n\n    const currentTrack = fromDeck === 'left' ? audioState.leftDeck.track : audioState.rightDeck.track\n    if (!currentTrack) {\n      console.log(' Nessuna traccia corrente per auto-avanzamento')\n      return\n    }\n\n    // Trova il deck migliore per la prossima traccia\n    const targetDeck = getBestDeckForAutoAdvance()\n    if (!targetDeck) {\n      console.log(' Nessun deck disponibile per auto-avanzamento')\n      return\n    }\n\n    console.log(` Auto-avanzamento richiesto da deck ${fromDeck.toUpperCase()}`)\n    console.log(` Traccia corrente: ${currentTrack.title}`)\n\n    // Cerca la prossima traccia non duplicata\n    const nextTrack = getNextNonDuplicateTrack(currentTrack, targetDeck)\n    if (!nextTrack) {\n      console.log(' Nessuna traccia successiva trovata per auto-avanzamento')\n      return\n    }\n\n    console.log(` Prossima traccia: ${nextTrack.title}`)\n\n    // Se il deck non  libero, aspetta che si liberi\n    if (!isDeckFree(targetDeck)) {\n      console.log(` Deck ${targetDeck.toUpperCase()} occupato, auto-avanzamento in attesa`)\n      pendingAdvanceRef.current = { deck: targetDeck, track: nextTrack }\n      return\n    }\n\n    // Carica la traccia nel deck target\n    console.log(` Caricamento auto-avanzamento: ${nextTrack.title} in deck ${targetDeck.toUpperCase()}`)\n    onTrackLoad(targetDeck, nextTrack)\n    \n    // Pulisci eventuali avanzamenti pendenti\n    pendingAdvanceRef.current = null\n  }, [settings.interface.autoAdvance, audioState.leftDeck.track, audioState.rightDeck.track, getBestDeckForAutoAdvance, getNextNonDuplicateTrack, isDeckFree, onTrackLoad])\n\n  // Gestisce gli avanzamenti pendenti quando un deck si libera\n  useEffect(() => {\n    if (!pendingAdvanceRef.current) return\n\n    const { deck: targetDeck, track } = pendingAdvanceRef.current\n    \n    if (isDeckFree(targetDeck)) {\n      console.log(` Deck ${targetDeck.toUpperCase()} ora libero, eseguendo auto-avanzamento pendente`)\n      onTrackLoad(targetDeck, track)\n      pendingAdvanceRef.current = null\n    }\n  }, [audioState.leftDeck.isPlaying, audioState.rightDeck.isPlaying, isDeckFree, onTrackLoad])\n\n  // Listener per eventi di auto-avanzamento\n  useEffect(() => {\n    const handleAutoAdvanceRequest = (event: CustomEvent) => {\n      console.log(' [AUTO-ADVANCE] Evento djconsole:request-auto-advance ricevuto:', event.detail)\n      const { deck } = event.detail\n      handleAutoAdvance(deck)\n    }\n\n    console.log(' [AUTO-ADVANCE] Listener registrato per djconsole:request-auto-advance')\n    window.addEventListener('djconsole:request-auto-advance', handleAutoAdvanceRequest as EventListener)\n    return () => {\n      console.log(' [AUTO-ADVANCE] Listener rimosso per djconsole:request-auto-advance')\n      window.removeEventListener('djconsole:request-auto-advance', handleAutoAdvanceRequest as EventListener)\n    }\n  }, [handleAutoAdvance])\n\n  // Monitoraggio del tempo rimanente per attivare l'auto-avanzamento\n  useEffect(() => {\n    if (!settings.interface.autoAdvance) return\n\n    const checkAutoAdvance = () => {\n      const now = Date.now()\n\n      // Verifica deck sinistro\n      const leftTrack = audioState.leftDeck.track\n      if (leftTrack && audioState.leftDeck.isPlaying && audioState.leftDeck.currentTime > 0) {\n        const timeLeft = leftTrack.duration - audioState.leftDeck.currentTime\n        console.log(` [AUTO-ADVANCE] Deck LEFT: ${audioState.leftDeck.currentTime.toFixed(2)}s / ${leftTrack.duration.toFixed(2)}s (${timeLeft.toFixed(2)}s rimanenti)`)\n        \n        //  CRITICAL FIX: Attiva auto-avanzamento quando mancano meno di 2 secondi\n        if (timeLeft <= 2 && timeLeft > 0 && (now - deckAdvanceTimeRef.current.left) > 5000) {\n          console.log(' [AUTO-ADVANCE] Auto-avanzamento attivato per deck LEFT (2s rimanenti)')\n          deckAdvanceTimeRef.current.left = now\n          handleAutoAdvance('left')\n        }\n      }\n\n      // Verifica deck destro\n      const rightTrack = audioState.rightDeck.track\n      if (rightTrack && audioState.rightDeck.isPlaying && audioState.rightDeck.currentTime > 0) {\n        const timeLeft = rightTrack.duration - audioState.rightDeck.currentTime\n        console.log(` [AUTO-ADVANCE] Deck RIGHT: ${audioState.rightDeck.currentTime.toFixed(2)}s / ${rightTrack.duration.toFixed(2)}s (${timeLeft.toFixed(2)}s rimanenti)`)\n        \n        //  CRITICAL FIX: Attiva auto-avanzamento quando mancano meno di 2 secondi\n        if (timeLeft <= 2 && timeLeft > 0 && (now - deckAdvanceTimeRef.current.right) > 5000) {\n          console.log(' [AUTO-ADVANCE] Auto-avanzamento attivato per deck RIGHT (2s rimanenti)')\n          deckAdvanceTimeRef.current.right = now\n          handleAutoAdvance('right')\n        }\n      }\n    }\n\n    const interval = setInterval(checkAutoAdvance, 1000) // Controlla ogni 1 secondo per maggiore precisione\n    return () => clearInterval(interval)\n  }, [settings.interface.autoAdvance, audioState.leftDeck.track, audioState.rightDeck.track, audioState.leftDeck.isPlaying, audioState.rightDeck.isPlaying, handleAutoAdvance])\n\n  // Questo componente non ha UI, gestisce solo la logica\n  return null\n}\n\nexport default AutoAdvanceManager\n","/**\n * NUOVO SISTEMA DI STREAMING CONTINUO\n * \n * PROBLEMA RISOLTO: Lag ogni 4 secondi causato da:\n * 1. MediaRecorder che crea chunk discontinui\n * 2. FFmpeg che processa chunk con buffer grandi\n * 3. Gestione asincrona complessa\n * \n * SOLUZIONE: Streaming continuo con buffer circolare\n */\n\nexport interface StreamConfig {\n  host: string\n  port: number\n  username: string\n  password: string\n  mountpoint: string\n  useSSL?: boolean\n  bitrate: number\n  format: 'opus' | 'mp3'\n  djName?: string  //  NICKNAME DJ PER STREAMING\n}\n\nexport interface StreamStatus {\n  isConnected: boolean\n  isStreaming: boolean\n  bytesSent: number\n  errors: number\n  lastError?: string\n}\n\nexport class ContinuousStreamingManager {\n  private isStreaming = false\n  private isConnected = false\n  private isPaused = false\n  private config: StreamConfig | null = null\n  \n  //  NUOVO: Tracciamento timestamp per pausa precisa\n  private pauseTimestamp: number = 0\n  private resumeTimestamp: number = 0\n  \n  //  SICUREZZA: Rilevamento silenzio per disconnessione automatica\n  private silenceStartTime: number = 0\n  private isSilent: boolean = false\n  private silenceThreshold: number = 30 * 1000 // 30 secondi in millisecondi\n  private audioLevelThreshold: number = 0.01 // Soglia per considerare audio \"silenzioso\"\n  private silenceWarningShown: boolean = false\n  private silenceCheckInterval: NodeJS.Timeout | null = null\n  private disconnectedForSilence: boolean = false // Flag per prevenire loop\n  \n  //  RETRY: Sistema di retry automatico per riconnessioni\n  private retryCount: number = 0\n  private maxRetries: number = 5\n  private retryDelay: number = 1000 // Delay iniziale in ms\n  private retryTimeout: NodeJS.Timeout | null = null\n  private isRetrying: boolean = false\n  private lastConfig: StreamConfig | null = null\n  \n  //  FIX: Sistema di cooldown per limitare retry\n  private retrySessionStart: number = 0\n  private retrySessionDuration: number = 30000 // 30 secondi (meno aggressivo)\n  private retrySessionCount: number = 0\n  private retryPermanentlyStopped: boolean = false //  FIX: Flag per stop definitivo\n  private userRequestedDisconnect: boolean = false //  FIX: Flag per disconnessione richiesta dall'utente\n  \n  //  FIX: Esponi flag come propriet pubblica per accesso esterno\n  get isUserRequestedDisconnect(): boolean {\n    return this.userRequestedDisconnect\n  }\n  \n  // Callbacks\n  private onStatusChange?: (status: StreamStatus) => void\n  private onError?: (error: string) => void\n  private onDebug?: (message: string) => void\n  private onSilenceWarning?: (secondsRemaining: number) => void\n  private onSilenceDisconnect?: () => void\n  private onRetryAttempt?: (attempt: number, maxRetries: number) => void\n  private onRetryFailed?: () => void\n  private onConnectionLost?: (reason: string) => void\n\n  constructor() {\n    this.onDebug?.(' ContinuousStreamingManager inizializzato')\n    \n    //  FIX: Setup listener per eventi FFmpeg da Electron\n    this.setupFFmpegEventListeners()\n  }\n\n  setCallbacks(callbacks: {\n    onStatusChange?: (status: StreamStatus) => void\n    onError?: (error: string) => void\n    onDebug?: (message: string) => void\n    onSilenceWarning?: (secondsRemaining: number) => void\n    onSilenceDisconnect?: () => void\n    onRetryAttempt?: (attempt: number, maxRetries: number) => void\n    onRetryFailed?: () => void\n    onConnectionLost?: (reason: string) => void\n  }) {\n    this.onStatusChange = callbacks.onStatusChange\n    this.onError = callbacks.onError\n    this.onDebug = callbacks.onDebug\n    this.onSilenceWarning = callbacks.onSilenceWarning\n    this.onSilenceDisconnect = callbacks.onSilenceDisconnect\n    this.onRetryAttempt = callbacks.onRetryAttempt\n    this.onRetryFailed = callbacks.onRetryFailed\n    this.onConnectionLost = callbacks.onConnectionLost\n  }\n\n  //  METODI DI COMPATIBILIT per l'interfaccia esistente\n  setStatusCallback(callback: (status: string) => void) {\n    this.onStatusChange = (status) => {\n      const statusString = status.isStreaming ? 'streaming' : status.isConnected ? 'connected' : 'disconnected'\n      callback(statusString)\n    }\n  }\n\n  setDebugCallback(callback: (message: string) => void) {\n    this.onDebug = callback\n  }\n\n  setErrorCallback(callback: (error: string) => void) {\n    this.onError = callback\n  }\n\n  setCredentials(credentials: any) {\n    // Metodo per compatibilit - non usato nel nuovo sistema\n    this.onDebug?.('setCredentials chiamato (compatibilit)')\n  }\n\n  setServerUrl(url: string) {\n    // Metodo per compatibilit - non usato nel nuovo sistema\n    this.onDebug?.('setServerUrl chiamato (compatibilit)')\n  }\n\n  //  METODI DI COMPATIBILIT per l'interfaccia esistente\n  async connect(): Promise<boolean> {\n    try {\n      this.onDebug?.(' Connessione al server...')\n      this.isConnected = true\n      this.onStatusChange?.({\n        isConnected: true,\n        isStreaming: false,\n        bytesSent: 0,\n        errors: 0\n      })\n      this.onDebug?.(' Connesso al server')\n      return true\n    } catch (error) {\n      this.onError?.(`Errore connessione: ${error}`)\n      return false\n    }\n  }\n\n  async disconnect(): Promise<void> {\n    try {\n      this.onDebug?.(' [DISCONNECT] Disconnessione immediata dal server...')\n      \n      //  FIX: Imposta flag per disconnessione richiesta dall'utente PRIMA di tutto\n      this.userRequestedDisconnect = true\n      this.retryPermanentlyStopped = true\n      this.onDebug?.(' [DISCONNECT] Flag userRequestedDisconnect impostato a TRUE')\n      console.log(' [DISCONNECT] Flag userRequestedDisconnect impostato a TRUE')\n      \n      //  FIX: Ferma immediatamente tutti i retry in corso\n      if (this.retryTimeout) {\n        clearTimeout(this.retryTimeout)\n        this.retryTimeout = null\n        this.onDebug?.(' [DISCONNECT] Retry timeout cancellato')\n      }\n      this.isRetrying = false\n      \n      //  FIX: Ferma monitoraggio silenzio\n      this.stopSilenceMonitoring()\n      \n      //  FIX: Ferma invio dati audio\n      this.stopAudioDataSending()\n      \n      //  FIX: Ferma processo FFmpeg nel main process\n      try {\n        // @ts-ignore\n        if (typeof window !== 'undefined' && (window as any).electronAPI) {\n          // @ts-ignore\n          await (window as any).electronAPI.invoke('icecast-stop')\n          this.onDebug?.(' [DISCONNECT] Processo FFmpeg fermato nel main process')\n        }\n      } catch (error) {\n        this.onDebug?.(` [DISCONNECT] Errore fermando FFmpeg: ${error}`)\n      }\n      \n      //  FIX: Aggiorna stati\n      this.isConnected = false\n      this.isStreaming = false\n      this.isPaused = false\n      \n      this.onStatusChange?.({\n        isConnected: false,\n        isStreaming: false,\n        bytesSent: 0,\n        errors: 0\n      })\n      \n      this.onDebug?.(' [DISCONNECT] Disconnesso dal server - tutti i processi fermati')\n    } catch (error) {\n      this.onError?.(`Errore disconnessione: ${error}`)\n    }\n  }\n\n  // Metodo per compatibilit con l'interfaccia esistente\n  async startStreaming(stream?: MediaStream): Promise<boolean> {\n    if (!this.config) {\n      this.onError?.('Configurazione non impostata')\n      return false\n    }\n    return await this.startStreamingWithConfig(this.config, false) //  FIX: isRetry = false\n  }\n\n  async startStreamingWithConfig(config: StreamConfig, isRetry: boolean = false): Promise<boolean> {\n    try {\n      this.onDebug?.(' Avvio streaming continuo...')\n      this.config = config\n      this.lastConfig = config //  RETRY: Salva config per retry\n      \n      //  FIX: Reset flag disconnessione silenzio per permettere nuovo streaming\n      this.disconnectedForSilence = false\n      \n      //  RETRY: Reset contatori retry solo se non  un retry\n      if (!isRetry) {\n        //  FIX: Reset flag stop definitivo solo se non abbiamo raggiunto il limite\n        if (!this.retryPermanentlyStopped) {\n          this.retryCount = 0\n          this.isRetrying = false\n          this.retrySessionCount = 0 //  FIX: Reset contatore sessione\n          this.retrySessionStart = 0 //  FIX: Reset timestamp sessione\n          this.onDebug?.(' [RETRY] Reset contatori per nuovo streaming')\n        } else {\n          this.onDebug?.(' [RETRY] Stop definitivo attivo - nessun reset contatori')\n          return false //  FIX: Non avviare streaming se stop definitivo\n        }\n      } else {\n        this.onDebug?.(` [RETRY] Continuo retry ${this.retryCount}/${this.maxRetries}`)\n      }\n      \n      //  FIX: Test connessione HTTP AD OGNI RETRY per evitare avvio FFmpeg inutile\n      const serverUrl = `${config.useSSL ? 'https' : 'http'}://${config.host}:${config.port}${config.mountpoint}`\n      \n      if (isRetry) {\n        this.onDebug?.(` [RETRY] Test connessione server per retry ${this.retryCount}/${this.maxRetries}: ${serverUrl}`)\n      } else {\n        this.onDebug?.(` [CONNECTION TEST] Test connessione server: ${serverUrl}`)\n      }\n      \n      try {\n        const response = await fetch(serverUrl, { \n          method: 'HEAD',\n          signal: AbortSignal.timeout(5000) // 5 secondi timeout\n        })\n        \n        if (response.status === 400 || response.status === 200) {\n          if (isRetry) {\n            this.onDebug?.(` [RETRY] Server raggiungibile per retry ${this.retryCount}/${this.maxRetries} (status: ${response.status})`)\n          } else {\n            this.onDebug?.(` [CONNECTION TEST] Server raggiungibile (status: ${response.status})`)\n          }\n        } else {\n          throw new Error(`Server risponde con status: ${response.status}`)\n        }\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error)\n        if (isRetry) {\n          this.onDebug?.(` [RETRY] Server non raggiungibile per retry ${this.retryCount}/${this.maxRetries}: ${errorMessage}`)\n        } else {\n          this.onDebug?.(` [CONNECTION TEST] Server non raggiungibile: ${errorMessage}`)\n        }\n        \n        this.onError?.(`Server non raggiungibile: ${errorMessage}`)\n        \n        //  FIX: Non avviare FFmpeg se il server non  raggiungibile\n        this.isStreaming = false\n        this.isConnected = false\n        \n        this.onStatusChange?.({\n          isConnected: false,\n          isStreaming: false,\n          bytesSent: 0,\n          errors: 1\n        })\n        \n        //  RETRY: Avvia retry automatico solo se non abbiamo raggiunto il limite e non  disconnessione utente\n        if (this.retryCount < this.maxRetries && !this.userRequestedDisconnect) {\n          this.handleConnectionLost(`server_unreachable_${errorMessage}`)\n        } else if (this.userRequestedDisconnect) {\n          this.onDebug?.(' [RETRY] Disconnessione richiesta dall\\'utente - nessun retry')\n        } else {\n          this.onDebug?.(` [RETRY] Limite retry raggiunto (${this.maxRetries}) - stop definitivo`)\n          this.onRetryFailed?.()\n        }\n        \n        return false\n      }\n      \n      //  SEMPLIFICATO: Usa il sistema esistente con configurazione ottimizzata\n      // @ts-ignore\n      if (typeof window !== 'undefined' && (window as any).desktopStream) {\n        if (isRetry) {\n          this.onDebug?.(` [RETRY] Avvio FFmpeg per retry ${this.retryCount}/${this.maxRetries}...`)\n        } else {\n          this.onDebug?.(' Server raggiungibile, avvio FFmpeg...')\n        }\n        \n        //  FIX: Controlla se l'utente ha richiesto la disconnessione PRIMA di avviare FFmpeg\n        if (this.userRequestedDisconnect) {\n          this.onDebug?.(' [STREAMING] Disconnessione richiesta dall\\'utente - blocco avvio FFmpeg')\n          return false\n        }\n        \n        // @ts-ignore\n        const result = await (window as any).desktopStream.start({\n          host: config.host,\n          port: config.port,\n          mount: config.mountpoint,\n          username: config.username,\n          password: config.password,\n          useSSL: config.useSSL,\n          bitrateKbps: config.bitrate,\n          format: config.format,\n          stationName: config.djName || 'DJ Console Pro',  //  NICKNAME DJ PER ICECAST\n          stationDescription: `${config.djName || 'DJ Console Pro'} - Live DJ Set`,  //  DESCRIZIONE CON NICKNAME DJ\n          stationGenre: 'Electronic/Live DJ'\n        })\n        \n        if (result?.ok) {\n          //  FIX: Non aggiornare UI immediatamente - aspetta che FFmpeg sia partito\n          this.isStreaming = false\n          this.isConnected = false\n          \n          //  CRITICAL FIX: Avvia il sistema di invio dati audio\n          this.startAudioDataSending()\n          \n          //  SICUREZZA: Avvia monitoraggio silenzio\n          this.startSilenceMonitoring()\n          \n          //  FIX: UI verr aggiornata quando FFmpeg sar effettivamente partito\n          this.onDebug?.(' [STREAMING] FFmpeg avviato, in attesa di conferma connessione...')\n          \n          this.onDebug?.(' Streaming continuo avviato con successo')\n          return true\n        } else {\n          //  RETRY: Avvia retry automatico in caso di fallimento\n          this.onError?.(result?.error || 'Errore avvio FFmpeg')\n          //  FIX: Controlla se l'utente ha richiesto la disconnessione prima di avviare retry\n          if (!this.userRequestedDisconnect) {\n            this.startRetryProcess()\n          } else {\n            this.onDebug?.(' [STREAMING] Disconnessione richiesta dall\\'utente - nessun retry')\n          }\n          return false\n        }\n      } else {\n        this.onError?.('Desktop streaming non disponibile')\n        //  FIX: Controlla se l'utente ha richiesto la disconnessione prima di avviare retry\n        if (!this.userRequestedDisconnect) {\n          this.startRetryProcess()\n        } else {\n          this.onDebug?.(' [STREAMING] Disconnessione richiesta dall\\'utente - nessun retry')\n        }\n        return false\n      }\n      \n    } catch (error) {\n      this.onError?.(`Errore avvio streaming: ${error}`)\n      //  FIX: Controlla se l'utente ha richiesto la disconnessione prima di avviare retry\n      if (!this.userRequestedDisconnect) {\n        this.startRetryProcess()\n      } else {\n        this.onDebug?.(' [STREAMING] Disconnessione richiesta dall\\'utente - nessun retry')\n      }\n      return false\n    }\n  }\n\n\n  async stopStreaming(): Promise<void> {\n    try {\n      this.onDebug?.(' Arresto streaming continuo...')\n      \n      //  CRITICAL FIX: Imposta flag disconnessione utente anche per stopStreaming\n      this.userRequestedDisconnect = true\n      this.retryPermanentlyStopped = true\n      this.onDebug?.(' [STOP STREAMING] Flag userRequestedDisconnect impostato a TRUE')\n      console.log(' [STOP STREAMING] Flag userRequestedDisconnect impostato a TRUE')\n      \n      //  RETRY: Ferma eventuali retry in corso\n      this.stopRetryProcess()\n      \n      //  CRITICAL FIX: Ferma il sistema di invio dati audio\n      this.stopAudioDataSending()\n      \n      //  SICUREZZA: Ferma monitoraggio silenzio\n      this.stopSilenceMonitoring()\n      \n      // Ferma FFmpeg\n      // @ts-ignore\n      if (typeof window !== 'undefined' && (window as any).desktopStream) {\n        // @ts-ignore\n        await (window as any).desktopStream.stop()\n      }\n      \n      this.isStreaming = false\n      this.isConnected = false\n      this.isPaused = false\n      \n      this.onStatusChange?.({\n        isConnected: false,\n        isStreaming: false,\n        bytesSent: 0,\n        errors: 0\n      })\n      \n      this.onDebug?.(' Streaming continuo arrestato')\n      \n    } catch (error) {\n      this.onError?.(`Errore arresto streaming: ${error}`)\n    }\n  }\n\n  //  NUOVO: Metodi per pausa/ripresa senza loop\n  async pauseStreaming(): Promise<void> {\n    try {\n      if (!this.isStreaming || this.isPaused) return\n      \n      this.isPaused = true\n      this.pauseTimestamp = Date.now()\n      \n      this.onDebug?.(` [CONTINUOUS] Pausa streaming - timestamp: ${this.pauseTimestamp}`)\n      \n      //  FIX: Pausa l'audio del deck che viene catturato\n      this.pauseDeckAudio()\n      \n      //  NUOVO: Abbassa a 0 il volume del mixer di streaming\n      this.setStreamingVolume(0)\n      this.onDebug?.(' [CONTINUOUS] Volume streaming abbassato a 0 - nessun audio inviato')\n      \n      //  FIX: MediaRecorder continua a funzionare ma con volume 0\n      // FFmpeg rimane connesso e riceve audio silenzioso\n      \n      this.onStatusChange?.({\n        isConnected: this.isConnected,\n        isStreaming: false, // Streaming pausato\n        bytesSent: 0,\n        errors: 0\n      })\n      \n      this.onDebug?.(' Streaming continuo in pausa - volume 0, connessione FFmpeg mantenuta')\n      \n    } catch (error) {\n      this.onError?.(`Errore pausa streaming: ${error}`)\n    }\n  }\n\n  async resumeStreaming(): Promise<void> {\n    try {\n      if (!this.isStreaming || !this.isPaused) return\n      \n      this.isPaused = false\n      this.resumeTimestamp = Date.now()\n      const pauseDuration = this.resumeTimestamp - this.pauseTimestamp\n      \n      this.onDebug?.(` [CONTINUOUS] Ripresa streaming - timestamp: ${this.resumeTimestamp}`)\n      this.onDebug?.(` [CONTINUOUS] Durata pausa: ${pauseDuration}ms`)\n      \n      //  FIX: Riprendi l'audio del deck che viene catturato\n      this.resumeDeckAudio()\n      \n      //  NUOVO: Riporta a 100 il volume del mixer di streaming\n      this.setStreamingVolume(1.0)\n      this.onDebug?.(' [CONTINUOUS] Volume streaming ripristinato a 100% - audio inviato')\n      \n      //  FIX: MediaRecorder continua a funzionare normalmente\n      // FFmpeg riceve di nuovo l'audio a volume normale\n      \n      this.onStatusChange?.({\n        isConnected: this.isConnected,\n        isStreaming: true, // Streaming ripreso\n        bytesSent: 0,\n        errors: 0\n      })\n      \n      this.onDebug?.(` Streaming continuo ripreso - pausa: ${pauseDuration}ms - volume ripristinato`)\n      \n    } catch (error) {\n      this.onError?.(`Errore ripresa streaming: ${error}`)\n    }\n  }\n\n  //  NUOVO: Controllo audio deck per sincronizzazione\n  private pauseDeckAudio(): void {\n    try {\n      // Controlla se abbiamo accesso al globalAudioContext\n      if (typeof (window as any).globalAudioContext !== 'undefined') {\n        const audioContext = (window as any).globalAudioContext\n        const mixerGain = (window as any).globalMixerGain\n        \n        if (audioContext && mixerGain) {\n          // Metti in pausa il mixer gain per fermare l'audio\n          mixerGain.gain.setValueAtTime(0, audioContext.currentTime)\n          this.onDebug?.(' [CONTINUOUS] Mixer gain messo a 0 - audio deck in pausa')\n        }\n      }\n      \n      // Controlla se abbiamo accesso agli elementi audio del deck\n      if (typeof (window as any).leftStreamAudio !== 'undefined') {\n        const leftAudio = (window as any).leftStreamAudio\n        if (leftAudio && !leftAudio.paused) {\n          leftAudio.pause()\n          this.onDebug?.(' [CONTINUOUS] Left deck audio messo in pausa')\n        }\n      }\n      \n      if (typeof (window as any).rightStreamAudio !== 'undefined') {\n        const rightAudio = (window as any).rightStreamAudio\n        if (rightAudio && !rightAudio.paused) {\n          rightAudio.pause()\n          this.onDebug?.(' [CONTINUOUS] Right deck audio messo in pausa')\n        }\n      }\n      \n    } catch (error) {\n      this.onError?.(`Errore pausa audio deck: ${error}`)\n    }\n  }\n  \n  private resumeDeckAudio(): void {\n    try {\n      // Controlla se abbiamo accesso al globalAudioContext\n      if (typeof (window as any).globalAudioContext !== 'undefined') {\n        const audioContext = (window as any).globalAudioContext\n        const mixerGain = (window as any).globalMixerGain\n        \n        if (audioContext && mixerGain) {\n          // Riprendi il mixer gain per riattivare l'audio\n          mixerGain.gain.setValueAtTime(1.0, audioContext.currentTime)\n          this.onDebug?.(' [CONTINUOUS] Mixer gain ripristinato a 1.0 - audio deck ripreso')\n        }\n      }\n      \n      // Controlla se abbiamo accesso agli elementi audio del deck\n      if (typeof (window as any).leftStreamAudio !== 'undefined') {\n        const leftAudio = (window as any).leftStreamAudio\n        if (leftAudio && leftAudio.paused) {\n          leftAudio.play()\n          this.onDebug?.(' [CONTINUOUS] Left deck audio ripreso')\n        }\n      }\n      \n      if (typeof (window as any).rightStreamAudio !== 'undefined') {\n        const rightAudio = (window as any).rightStreamAudio\n        if (rightAudio && rightAudio.paused) {\n          rightAudio.play()\n          this.onDebug?.(' [CONTINUOUS] Right deck audio ripreso')\n        }\n      }\n      \n    } catch (error) {\n      this.onError?.(`Errore ripresa audio deck: ${error}`)\n    }\n  }\n\n  getStatus(): StreamStatus {\n    return {\n      isConnected: this.isConnected,\n      isStreaming: this.isStreaming,\n      bytesSent: 0, // TODO: Implementare conteggio\n      errors: 0,    // TODO: Implementare conteggio errori\n      lastError: undefined\n    }\n  }\n\n  //  CRITICAL FIX: Sistema di invio dati audio\n  private mediaRecorder: MediaRecorder | null = null\n  private audioStream: MediaStream | null = null\n  \n  //  RIMOSSO: Sistema di buffering non necessario - usiamo stop/start MediaRecorder\n\n  private startAudioDataSending(): void {\n    try {\n      this.onDebug?.(' Avvio invio dati audio...')\n      \n      // Ottieni il mixed stream dal sistema globale\n      if (typeof (window as any).getMixedStream === 'function') {\n        this.onDebug?.(' Ottenimento mixed stream per streaming...')\n        \n        // Usa il sistema esistente per ottenere il mixed stream\n        ;(window as any).getMixedStream(undefined, undefined, false).then((stream: MediaStream) => {\n          if (stream && stream.active) {\n            this.audioStream = stream\n            this.startMediaRecorder(stream)\n            this.onDebug?.(' MediaRecorder avviato per invio dati audio')\n          } else {\n            this.onError?.('Impossibile ottenere mixed stream valido')\n          }\n        }).catch((error: any) => {\n          this.onError?.(`Errore ottenimento mixed stream: ${error}`)\n        })\n      } else {\n        this.onError?.('Funzione getMixedStream non disponibile')\n      }\n      \n    } catch (error) {\n      this.onError?.(`Errore avvio invio dati audio: ${error}`)\n    }\n  }\n\n  private startMediaRecorder(stream: MediaStream): void {\n    try {\n      // Crea MediaRecorder per catturare audio\n      this.mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm;codecs=opus',\n        audioBitsPerSecond: (this.config?.bitrate || 128) * 1000\n      })\n\n      // Gestisce i chunk audio - invio diretto a FFmpeg + rilevamento silenzio\n      this.mediaRecorder.ondataavailable = async (event) => {\n        if (event.data && event.data.size > 0) {\n          try {\n            const arrayBuffer = await event.data.arrayBuffer()\n            \n            //  SICUREZZA: Analizza il chunk per rilevare silenzio\n            this.analyzeAudioChunk(arrayBuffer)\n            \n            //  SEMPLIFICATO: Invia direttamente a FFmpeg\n            if (typeof (window as any).desktopStream?.write === 'function') {\n              ;(window as any).desktopStream.write(arrayBuffer)\n              this.onDebug?.(` Dati audio inviati: ${arrayBuffer.byteLength} bytes`)\n            }\n          } catch (error) {\n            this.onError?.(`Errore invio chunk audio: ${error}`)\n          }\n        }\n      }\n\n      // Avvia registrazione con chunk frequenti\n      this.mediaRecorder.start(100) // Chunk ogni 100ms\n      this.onDebug?.(' MediaRecorder avviato per streaming continuo')\n      \n    } catch (error) {\n      this.onError?.(`Errore avvio MediaRecorder: ${error}`)\n    }\n  }\n\n  private stopAudioDataSending(): void {\n    try {\n      if (this.mediaRecorder && this.mediaRecorder.state === 'recording') {\n        this.mediaRecorder.stop()\n        this.onDebug?.(' MediaRecorder fermato')\n      }\n      \n      this.mediaRecorder = null\n      this.audioStream = null\n      \n    } catch (error) {\n      this.onError?.(`Errore arresto invio dati audio: ${error}`)\n    }\n  }\n\n  //  NUOVO: Metodo per controllare il volume del mixer di streaming\n  private setStreamingVolume(volume: number): void {\n    try {\n      // Controlla se abbiamo accesso al globalAudioContext\n      if (typeof (window as any).globalAudioContext !== 'undefined') {\n        const audioContext = (window as any).globalAudioContext\n        const leftDeckGain = (window as any).leftDeckStreamGain\n        const rightDeckGain = (window as any).rightDeckStreamGain\n        \n        if (audioContext) {\n          //  FIX: Controlla i gain specifici dei deck per lo streaming\n          if (leftDeckGain) {\n            leftDeckGain.gain.setValueAtTime(volume, audioContext.currentTime)\n            this.onDebug?.(` [STREAMING VOLUME] Left deck gain impostato a: ${Math.round(volume * 100)}%`)\n          }\n          \n          if (rightDeckGain) {\n            rightDeckGain.gain.setValueAtTime(volume, audioContext.currentTime)\n            this.onDebug?.(` [STREAMING VOLUME] Right deck gain impostato a: ${Math.round(volume * 100)}%`)\n          }\n          \n          if (!leftDeckGain && !rightDeckGain) {\n            this.onDebug?.(' [STREAMING VOLUME] Nessun deck gain disponibile per streaming')\n          }\n        } else {\n          this.onDebug?.(' [STREAMING VOLUME] GlobalAudioContext non disponibile')\n        }\n      } else {\n        this.onDebug?.(' [STREAMING VOLUME] GlobalAudioContext non disponibile')\n      }\n    } catch (error) {\n      this.onError?.(`Errore controllo volume streaming: ${error}`)\n    }\n  }\n\n  //  SICUREZZA: Analizza chunk audio per rilevare silenzio\n  private analyzeAudioChunk(arrayBuffer: ArrayBuffer): void {\n    try {\n      //  FIX: I chunk WebM/Opus sono compressi, non possiamo analizzarli come PCM\n      // Usiamo un approccio basato sulla dimensione del chunk e pattern di dati\n      \n      const chunkSize = arrayBuffer.byteLength\n      \n      //  METODO ALTERNATIVO: Analisi basata su dimensione e pattern\n      // I chunk di silenzio in WebM/Opus sono tipicamente molto piccoli\n      const isChunkSilent = this.detectSilenceFromChunkSize(chunkSize, arrayBuffer)\n      \n      if (isChunkSilent) {\n        // Chunk silenzioso\n        if (!this.isSilent) {\n          // Inizia periodo di silenzio\n          this.isSilent = true\n          this.silenceStartTime = Date.now()\n          this.silenceWarningShown = false\n          this.onDebug?.(` [SILENCE] Inizio silenzio rilevato - chunk size: ${chunkSize} bytes`)\n        }\n        \n        // Controlla se  il momento di mostrare l'avviso o disconnettere\n        this.checkSilenceDuration()\n      } else {\n        // Chunk con audio - reset silenzio\n        if (this.isSilent) {\n          this.isSilent = false\n          this.silenceWarningShown = false\n          this.onDebug?.(` [SILENCE] Fine silenzio rilevato - chunk size: ${chunkSize} bytes`)\n        }\n      }\n      \n    } catch (error) {\n      this.onError?.(`Errore analisi chunk audio: ${error}`)\n    }\n  }\n\n  //  SICUREZZA: Rileva silenzio basandosi su dimensione chunk e pattern\n  private detectSilenceFromChunkSize(chunkSize: number, arrayBuffer: ArrayBuffer): boolean {\n    try {\n      //  METODO 1: Chunk molto piccoli sono probabilmente silenzio\n      if (chunkSize < 100) { // Meno di 100 bytes = probabilmente silenzio\n        return true\n      }\n      \n      //  METODO 2: Analisi pattern di byte per rilevare silenzio\n      const uint8Array = new Uint8Array(arrayBuffer)\n      let zeroBytes = 0\n      let totalBytes = Math.min(uint8Array.length, 1000) // Analizza solo i primi 1000 bytes\n      \n      for (let i = 0; i < totalBytes; i++) {\n        if (uint8Array[i] === 0) {\n          zeroBytes++\n        }\n      }\n      \n      // Se pi del 80% dei bytes sono zero, probabilmente  silenzio\n      const zeroPercentage = zeroBytes / totalBytes\n      if (zeroPercentage > 0.8) {\n        return true\n      }\n      \n      //  METODO 3: Pattern specifici per silenzio in WebM/Opus\n      // I chunk di silenzio hanno spesso pattern ripetitivi\n      if (this.hasSilencePattern(uint8Array)) {\n        return true\n      }\n      \n      return false\n      \n    } catch (error) {\n      this.onDebug?.(`Errore analisi pattern silenzio: ${error}`)\n      return false // In caso di errore, assume che ci sia audio\n    }\n  }\n\n  //  SICUREZZA: Rileva pattern specifici di silenzio\n  private hasSilencePattern(uint8Array: Uint8Array): boolean {\n    try {\n      // Pattern comuni per silenzio in WebM/Opus\n      const silencePatterns = [\n        [0x00, 0x00, 0x00, 0x00], // Sequenza di zeri\n        [0xFF, 0xFF, 0xFF, 0xFF], // Sequenza di 0xFF (spesso usata per silenzio)\n        [0x80, 0x80, 0x80, 0x80]  // Pattern di silenzio comune\n      ]\n      \n      for (const pattern of silencePatterns) {\n        let matches = 0\n        for (let i = 0; i < Math.min(uint8Array.length - pattern.length, 100); i++) {\n          let patternMatch = true\n          for (let j = 0; j < pattern.length; j++) {\n            if (uint8Array[i + j] !== pattern[j]) {\n              patternMatch = false\n              break\n            }\n          }\n          if (patternMatch) {\n            matches++\n          }\n        }\n        \n        // Se troviamo molti match del pattern, probabilmente  silenzio\n        if (matches > 10) {\n          return true\n        }\n      }\n      \n      return false\n      \n    } catch (error) {\n      return false\n    }\n  }\n\n  //  SICUREZZA: Controlla durata silenzio e gestisce avvisi/disconnessione\n  private checkSilenceDuration(): void {\n    if (!this.isSilent || this.disconnectedForSilence) return\n    \n    const silenceDuration = Date.now() - this.silenceStartTime\n    const remainingTime = this.silenceThreshold - silenceDuration\n    \n    if (remainingTime <= 0) {\n      // Tempo scaduto - disconnetti\n      this.onDebug?.(` [SILENCE] Silenzio di ${Math.round(silenceDuration / 1000)}s - disconnessione automatica`)\n      this.disconnectedForSilence = true //  FIX: Previeni loop infinito\n      this.onSilenceDisconnect?.()\n      this.stopStreaming() //  FIX: Usa stopStreaming invece di disconnect\n    } else if (remainingTime <= 10000 && !this.silenceWarningShown) {\n      // Mostra avviso 10 secondi prima della disconnessione\n      this.silenceWarningShown = true\n      const secondsRemaining = Math.round(remainingTime / 1000)\n      this.onDebug?.(` [SILENCE] Avviso: disconnessione in ${secondsRemaining} secondi per silenzio`)\n      this.onSilenceWarning?.(secondsRemaining)\n    }\n  }\n\n  //  SICUREZZA: Avvia controllo periodico silenzio\n  private startSilenceMonitoring(): void {\n    this.stopSilenceMonitoring() // Ferma eventuale monitoraggio precedente\n    \n    this.silenceCheckInterval = setInterval(() => {\n      if (this.isSilent) {\n        this.checkSilenceDuration()\n      }\n    }, 1000) // Controlla ogni secondo\n    \n    this.onDebug?.(' [SILENCE] Monitoraggio silenzio avviato')\n  }\n\n  //  SICUREZZA: Ferma controllo silenzio\n  private stopSilenceMonitoring(): void {\n    if (this.silenceCheckInterval) {\n      clearInterval(this.silenceCheckInterval)\n      this.silenceCheckInterval = null\n    }\n    \n    // Reset stato silenzio\n    this.isSilent = false\n    this.silenceWarningShown = false\n    this.disconnectedForSilence = false //  FIX: Reset flag per permettere riconnessione\n    \n    this.onDebug?.(' [SILENCE] Monitoraggio silenzio fermato')\n  }\n\n  //  RETRY: Avvia processo di retry automatico\n  private startRetryProcess(): void {\n    console.log(' [RETRY] startRetryProcess chiamato - controlli:', {\n      isRetrying: this.isRetrying,\n      disconnectedForSilence: this.disconnectedForSilence,\n      retryPermanentlyStopped: this.retryPermanentlyStopped,\n      userRequestedDisconnect: this.userRequestedDisconnect\n    })\n    \n    if (this.isRetrying || this.disconnectedForSilence || this.retryPermanentlyStopped || this.userRequestedDisconnect) {\n      this.onDebug?.(' [RETRY] Retry gi in corso, disconnesso per silenzio, stop definitivo o disconnessione utente - skip')\n      console.log(' [RETRY] Retry bloccato - userRequestedDisconnect:', this.userRequestedDisconnect)\n      return\n    }\n\n    //  FIX: Controlla cooldown session (5 tentativi ogni 10 secondi)\n    const now = Date.now()\n    if (this.retrySessionStart === 0) {\n      this.retrySessionStart = now\n      this.retrySessionCount = 0\n    }\n    \n    // Se la sessione  scaduta, resetta\n    if (now - this.retrySessionStart > this.retrySessionDuration) {\n      this.retrySessionStart = now\n      this.retrySessionCount = 0\n      this.retryCount = 0\n    }\n    \n    // Se abbiamo gi fatto 5 tentativi in questa sessione, aspetta\n    if (this.retrySessionCount >= 5) {\n      const remainingTime = this.retrySessionDuration - (now - this.retrySessionStart)\n      this.onDebug?.(` [RETRY] Limite sessione raggiunto (5/30s) - aspetta ${Math.round(remainingTime/1000)}s`)\n      return\n    }\n\n    if (this.retryCount >= this.maxRetries) {\n      this.onDebug?.(` [RETRY] Raggiunto limite massimo retry (${this.maxRetries}) - STOP DEFINITIVO`)\n      this.retryPermanentlyStopped = true //  FIX: Stop definitivo\n      this.onRetryFailed?.()\n      return\n    }\n\n    if (!this.lastConfig) {\n      this.onDebug?.(' [RETRY] Nessuna configurazione salvata per retry - abbandono')\n      this.onRetryFailed?.()\n      return\n    }\n\n    this.retryCount++\n    this.retrySessionCount++ //  FIX: Incrementa contatore sessione\n    this.isRetrying = true\n\n    // Calcola delay con backoff esponenziale\n    const delay = this.retryDelay * Math.pow(2, this.retryCount - 1)\n    \n    this.onDebug?.(` [RETRY] Tentativo ${this.retryCount}/${this.maxRetries} (${this.retrySessionCount}/5 in sessione 30s) tra ${delay}ms`)\n    this.onRetryAttempt?.(this.retryCount, this.maxRetries)\n\n    this.retryTimeout = setTimeout(async () => {\n      try {\n        this.onDebug?.(` [RETRY] Esecuzione tentativo ${this.retryCount}/${this.maxRetries}`)\n        \n        // Tenta di riconnettersi con la configurazione salvata\n        const success = await this.startStreamingWithConfig(this.lastConfig!, true) //  FIX: isRetry = true\n        \n        if (success) {\n          this.onDebug?.(` [RETRY] Riconnessione riuscita al tentativo ${this.retryCount}`)\n          this.isRetrying = false\n          this.retryCount = 0\n        } else {\n          this.onDebug?.(` [RETRY] Tentativo ${this.retryCount} fallito - riprovo`)\n          //  FIX: Continua automaticamente con il prossimo retry solo se non  disconnessione utente\n          this.isRetrying = false\n          if (!this.userRequestedDisconnect) {\n            this.startRetryProcess()\n          } else {\n            this.onDebug?.(' [RETRY] Disconnessione richiesta dall\\'utente - nessun retry')\n          }\n        }\n      } catch (error) {\n        this.onError?.(`Errore durante retry: ${error}`)\n        this.isRetrying = false\n      }\n    }, delay)\n  }\n\n  //  RETRY: Ferma processo di retry\n  private stopRetryProcess(): void {\n    if (this.retryTimeout) {\n      clearTimeout(this.retryTimeout)\n      this.retryTimeout = null\n    }\n    \n    this.isRetrying = false\n    this.retryCount = 0\n    this.retrySessionCount = 0 //  FIX: Reset contatore sessione\n    this.retrySessionStart = 0 //  FIX: Reset timestamp sessione\n    \n    //  FIX: Non resettare flag stop definitivo se  stato impostato per limite raggiunto\n    if (!this.retryPermanentlyStopped) {\n      this.onDebug?.(' [RETRY] Processo retry fermato')\n    } else {\n      this.onDebug?.(' [RETRY] Processo retry fermato - stop definitivo attivo')\n    }\n  }\n\n  //  RETRY: Gestisce notifica perdita connessione\n  handleConnectionLost(reason: string): void {\n    this.onDebug?.(` [CONNECTION] Connessione persa: ${reason}`)\n    this.onConnectionLost?.(reason)\n    \n    console.log(' [CONNECTION] handleConnectionLost chiamato - controlli:', {\n      reason,\n      isRetrying: this.isRetrying,\n      disconnectedForSilence: this.disconnectedForSilence,\n      retryPermanentlyStopped: this.retryPermanentlyStopped,\n      userRequestedDisconnect: this.userRequestedDisconnect\n    })\n    \n    //  FIX: Avvia retry automatico solo se non stop definitivo e non disconnessione utente\n    if (!this.isRetrying && !this.disconnectedForSilence && !this.retryPermanentlyStopped && !this.userRequestedDisconnect) {\n      this.startRetryProcess()\n    } else if (this.retryPermanentlyStopped || this.userRequestedDisconnect) {\n      this.onDebug?.(' [CONNECTION] Retry stop definitivo o disconnessione utente - nessun tentativo di riconnessione')\n      console.log(' [CONNECTION] Retry bloccato - userRequestedDisconnect:', this.userRequestedDisconnect)\n    }\n  }\n\n  //  FIX: Metodo per resettare manualmente il flag stop definitivo\n  resetRetryLimit(): void {\n    this.retryPermanentlyStopped = false\n    //  CRITICAL FIX: NON resettare userRequestedDisconnect qui - deve rimanere true fino a nuovo avvio manuale\n    // this.userRequestedDisconnect = false //  RIMOSSO: Questo causava il problema di auto-reconnessione\n    this.retryCount = 0\n    this.isRetrying = false\n    this.retrySessionCount = 0\n    this.retrySessionStart = 0\n    this.onDebug?.(' [RETRY] Limite retry resettato manualmente - riprova disponibile')\n  }\n\n  //  NEW: Metodo per resettare SOLO quando l'utente avvia manualmente lo streaming\n  resetUserDisconnectFlag(): void {\n    this.userRequestedDisconnect = false\n    this.onDebug?.(' [USER DISCONNECT] Flag userRequestedDisconnect resettato - nuovo avvio manuale permesso')\n    console.log(' [USER DISCONNECT] Flag userRequestedDisconnect resettato a FALSE')\n  }\n\n  //  FIX: Setup listener per eventi FFmpeg da Electron\n  private setupFFmpegEventListeners(): void {\n    // @ts-ignore\n    if (typeof window !== 'undefined' && (window as any).electronAPI) {\n      // @ts-ignore\n      const electronAPI = (window as any).electronAPI\n      \n      // Listener per errori FFmpeg\n      electronAPI.onFFmpegError((_event: any, errorData: any) => {\n        this.onDebug?.(` [FFMPEG ERROR] ${errorData.type}: ${errorData.message}`)\n        this.onError?.(`FFmpeg Error: ${errorData.message}`)\n        \n        //  FIX: Ferma immediatamente l'invio di chunk audio\n        this.stopAudioDataSending()\n        \n        // Aggiorna stato come disconnesso\n        this.isStreaming = false\n        this.isConnected = false\n        \n        this.onStatusChange?.({\n          isConnected: false,\n          isStreaming: false,\n          bytesSent: 0,\n          errors: 1\n        })\n        \n        // Avvia retry automatico per errori critici solo se non  disconnessione utente\n        if (!this.isRetrying && !this.disconnectedForSilence && !this.userRequestedDisconnect) {\n          this.handleConnectionLost(`ffmpeg_error_${errorData.type}`)\n        } else if (this.userRequestedDisconnect) {\n          this.onDebug?.(' [FFMPEG ERROR] Disconnessione richiesta dall\\'utente - nessun retry')\n        }\n      })\n      \n      //  FIX: Listener per successo connessione FFmpeg\n      electronAPI.onFFmpegConnected?.((_event: any, connectionData: any) => {\n        this.onDebug?.(` [FFMPEG CONNECTED] Connesso con successo: ${connectionData.message || 'Connessione stabilita'}`)\n        \n        // Aggiorna stato come connesso solo quando FFmpeg  effettivamente connesso\n        this.isStreaming = true\n        this.isConnected = true\n        \n        this.onStatusChange?.({\n          isConnected: true,\n          isStreaming: true,\n          bytesSent: 0,\n          errors: 0\n        })\n        \n        this.onDebug?.(' [STREAMING] FFmpeg connesso e streaming attivo!')\n      })\n      \n      // Listener per disconnessioni FFmpeg\n      electronAPI.onFFmpegDisconnected((_event: any, disconnectData: any) => {\n        this.onDebug?.(` [FFMPEG DISCONNECTED] Exit code: ${disconnectData.exitCode}, Reason: ${disconnectData.reason}`)\n        \n        //  FIX: Ferma immediatamente l'invio di chunk audio\n        this.stopAudioDataSending()\n        \n        // Aggiorna stato come disconnesso\n        this.isStreaming = false\n        this.isConnected = false\n        \n        this.onStatusChange?.({\n          isConnected: false,\n          isStreaming: false,\n          bytesSent: 0,\n          errors: 1\n        })\n        \n        //  FIX: Avvia retry automatico solo se non  disconnessione richiesta dall'utente\n        if (disconnectData.reason !== 'normal_exit' && !this.isRetrying && !this.disconnectedForSilence && !this.userRequestedDisconnect) {\n          this.handleConnectionLost(`ffmpeg_disconnected_${disconnectData.exitCode}`)\n        } else if (this.userRequestedDisconnect) {\n          this.onDebug?.(' [FFMPEG DISCONNECTED] Disconnessione richiesta dall\\'utente - nessun retry')\n        }\n      })\n      \n      this.onDebug?.(' [FFMPEG] Event listeners setup completato')\n    }\n  }\n}\n\nexport default ContinuousStreamingManager\n","import React, { useState, useEffect } from 'react'\nimport { X, Terminal, Radio, Bell, AlertTriangle, CheckCircle, Info, AlertCircle } from 'lucide-react'\n\nexport interface Notification {\n  id: string\n  type: 'success' | 'error' | 'info' | 'warning'\n  title: string\n  message: string\n  timestamp: Date\n  category: 'streaming' | 'audio' | 'app'\n}\n\ninterface StreamingDebugPanelProps {\n  isVisible: boolean\n  onClose: () => void\n  streamStatus: string\n  isStreaming: boolean\n  streamError: string | null\n  debugMessages: string[]\n}\n\nconst StreamingDebugPanel: React.FC<StreamingDebugPanelProps> = ({\n  isVisible,\n  onClose,\n  streamStatus,\n  isStreaming,\n  streamError,\n  debugMessages\n}) => {\n  const [activeTab, setActiveTab] = useState<'debug' | 'streaming' | 'audio' | 'app'>('debug')\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [maxNotifications] = useState(100)\n\n  useEffect(() => {\n    // Esponi la funzione globalmente per aggiungere notifiche\n    ;(window as any).addStreamingNotification = (\n      type: 'success' | 'error' | 'info' | 'warning',\n      title: string,\n      message: string,\n      category: 'streaming' | 'audio' | 'app' = 'streaming'\n    ) => {\n      const newNotification: Notification = {\n        id: Date.now().toString(),\n        type,\n        title,\n        message,\n        timestamp: new Date(),\n        category\n      }\n\n      setNotifications(prev => {\n        const updated = [newNotification, ...prev]\n        return updated.slice(0, maxNotifications)\n      })\n    }\n\n    return () => {\n      delete (window as any).addStreamingNotification\n    }\n  }, [maxNotifications])\n\n  if (!isVisible) return null\n\n  const getStatusColor = () => {\n    if (isStreaming) return 'text-blue-400'\n    if (streamStatus === 'connected') return 'text-green-400'\n    if (streamStatus === 'connecting') return 'text-yellow-400'\n    if (streamError) return 'text-red-400'\n    return 'text-gray-400'\n  }\n\n  const getStatusIcon = () => {\n    if (isStreaming) return ''\n    if (streamStatus === 'connected') return ''\n    if (streamStatus === 'connecting') return ''\n    if (streamError) return ''\n    return ''\n  }\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case 'success':\n        return <CheckCircle className=\"w-3 h-3 text-green-500\" />\n      case 'error':\n        return <AlertCircle className=\"w-3 h-3 text-red-500\" />\n      case 'warning':\n        return <AlertTriangle className=\"w-3 h-3 text-yellow-500\" />\n      case 'info':\n        return <Info className=\"w-3 h-3 text-blue-500\" />\n      default:\n        return <Info className=\"w-3 h-3 text-gray-500\" />\n    }\n  }\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case 'success':\n        return 'border-l-green-500 bg-green-900/20'\n      case 'error':\n        return 'border-l-red-500 bg-red-900/20'\n      case 'warning':\n        return 'border-l-yellow-500 bg-yellow-900/20'\n      case 'info':\n        return 'border-l-blue-500 bg-blue-900/20'\n      default:\n        return 'border-l-gray-500 bg-gray-900/20'\n    }\n  }\n\n  const clearNotifications = () => {\n    setNotifications([])\n  }\n\n  const removeNotification = (id: string) => {\n    setNotifications(prev => prev.filter(n => n.id !== id))\n  }\n\n  const filteredNotifications = notifications.filter(n => n.category === activeTab)\n\n  const getTabCount = (category: 'streaming' | 'audio' | 'app') => {\n    return notifications.filter(n => n.category === category).length\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 w-96 bg-gray-900 border border-gray-700 rounded-lg shadow-2xl z-50 max-h-96 overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-3 bg-gray-800 border-b border-gray-700\">\n        <div className=\"flex items-center space-x-2\">\n          <Terminal className=\"w-4 h-4 text-gray-400\" />\n          <span className=\"text-sm font-medium text-white\">Notifiche & Debug</span>\n        </div>\n        <button\n          onClick={onClose}\n          className=\"text-gray-400 hover:text-white transition-colors\"\n          title=\"Chiudi notifiche\"\n        >\n          <X className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Status */}\n      <div className=\"p-3 bg-gray-850 border-b border-gray-700\">\n        <div className=\"flex items-center space-x-2 mb-2\">\n          <Radio className=\"w-4 h-4 text-gray-400\" />\n          <span className=\"text-sm text-gray-300\">Status:</span>\n          <span className={`text-sm font-medium ${getStatusColor()}`}>\n            {getStatusIcon()} {streamStatus.toUpperCase()}\n            {isStreaming && ' (LIVE)'}\n          </span>\n        </div>\n        \n        {streamError && (\n          <div className=\"bg-red-900/20 border border-red-500/30 rounded p-2\">\n            <div className=\"text-xs text-red-400 font-mono break-words\">\n               {streamError}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex border-b border-gray-700\">\n        <button\n          onClick={() => setActiveTab('debug')}\n          className={`flex-1 px-2 py-2 text-xs font-medium border-b-2 transition-colors ${\n            activeTab === 'debug'\n              ? 'border-blue-500 text-blue-400'\n              : 'border-transparent text-gray-400 hover:text-gray-300'\n          }`}\n        >\n           DEBUG\n        </button>\n        <button\n          onClick={() => setActiveTab('streaming')}\n          className={`flex-1 px-2 py-2 text-xs font-medium border-b-2 transition-colors ${\n            activeTab === 'streaming'\n              ? 'border-blue-500 text-blue-400'\n              : 'border-transparent text-gray-400 hover:text-gray-300'\n          }`}\n        >\n           STREAMING ({getTabCount('streaming')})\n        </button>\n        <button\n          onClick={() => setActiveTab('audio')}\n          className={`flex-1 px-2 py-2 text-xs font-medium border-b-2 transition-colors ${\n            activeTab === 'audio'\n              ? 'border-blue-500 text-blue-400'\n              : 'border-transparent text-gray-400 hover:text-gray-300'\n          }`}\n        >\n           AUDIO ({getTabCount('audio')})\n        </button>\n        <button\n          onClick={() => setActiveTab('app')}\n          className={`flex-1 px-2 py-2 text-xs font-medium border-b-2 transition-colors ${\n            activeTab === 'app'\n              ? 'border-blue-500 text-blue-400'\n              : 'border-transparent text-gray-400 hover:text-gray-300'\n          }`}\n        >\n           APP ({getTabCount('app')})\n        </button>\n      </div>\n\n      {/* Content */}\n      <div className=\"h-48 overflow-y-auto bg-black\">\n        {activeTab === 'debug' && (\n          <div className=\"p-3\">\n            <div className=\"text-xs text-gray-500 mb-2\">\n              Debug Log (ultimi {debugMessages.length} messaggi):\n            </div>\n            \n            {debugMessages.length === 0 ? (\n              <div className=\"text-xs text-gray-600 italic\">\n                Nessun messaggio di debug ancora...\n              </div>\n            ) : (\n              <div className=\"space-y-1\">\n                {debugMessages.map((msg, index) => (\n                  <div \n                    key={index}\n                    className={`text-xs font-mono break-words ${\n                      msg.includes('error') || msg.includes('fail') || msg.includes('Error') || msg.includes('Failed')\n                        ? 'text-red-400'\n                        : msg.includes('connected') || msg.includes('success') || msg.includes('started')\n                        ? 'text-green-400'\n                        : msg.includes('connecting') || msg.includes('starting')\n                        ? 'text-yellow-400'\n                        : 'text-gray-300'\n                    }`}\n                  >\n                    {msg}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {(activeTab === 'streaming' || activeTab === 'audio' || activeTab === 'app') && (\n          <div className=\"p-3\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <div className=\"text-xs text-gray-500\">\n                Notifiche {activeTab === 'streaming' ? 'Streaming' : activeTab === 'audio' ? 'Audio' : 'App'}:\n              </div>\n              <button\n                onClick={clearNotifications}\n                className=\"text-xs text-gray-400 hover:text-gray-300 px-2 py-1 rounded hover:bg-gray-800\"\n              >\n                Pulisci\n              </button>\n            </div>\n            \n            {filteredNotifications.length === 0 ? (\n              <div className=\"text-xs text-gray-600 italic\">\n                Nessuna notifica in questa categoria...\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {filteredNotifications.map((notification) => (\n                  <div\n                    key={notification.id}\n                    className={`p-2 rounded border-l-2 ${getTypeColor(notification.type)}`}\n                  >\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex items-start space-x-2 flex-1 min-w-0\">\n                        {getIcon(notification.type)}\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"text-xs font-medium text-gray-200 mb-1\">\n                            {notification.title}\n                          </div>\n                          <div className=\"text-xs text-gray-300 break-words\">\n                            {notification.message}\n                          </div>\n                          <div className=\"text-xs text-gray-500 mt-1\">\n                            {notification.timestamp.toLocaleTimeString()}\n                          </div>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => removeNotification(notification.id)}\n                        className=\"text-gray-500 hover:text-gray-300 p-1 rounded hover:bg-gray-800\"\n                      >\n                        <X className=\"w-3 h-3\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-2 bg-gray-800 border-t border-gray-700\">\n        <div className=\"text-xs text-gray-500 text-center\">\n           Questo pannello si apre automaticamente in caso di errori\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default StreamingDebugPanel\n","import React from 'react'\r\n\r\ninterface ConfirmationDialogProps {\r\n  isOpen: boolean\r\n  title: string\r\n  message: string\r\n  confirmText: string\r\n  cancelText: string\r\n  onConfirm: () => void\r\n  onCancel: () => void\r\n  type?: 'warning' | 'danger' | 'info'\r\n}\r\n\r\nconst ConfirmationDialog: React.FC<ConfirmationDialogProps> = ({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  confirmText,\r\n  cancelText,\r\n  onConfirm,\r\n  onCancel,\r\n  type = 'warning'\r\n}) => {\r\n  if (!isOpen) return null\r\n\r\n  const getTypeStyles = () => {\r\n    switch (type) {\r\n      case 'danger':\r\n        return {\r\n          icon: '',\r\n          confirmBg: 'bg-red-600 hover:bg-red-700',\r\n          borderColor: 'border-red-500'\r\n        }\r\n      case 'info':\r\n        return {\r\n          icon: '',\r\n          confirmBg: 'bg-blue-600 hover:bg-blue-700',\r\n          borderColor: 'border-blue-500'\r\n        }\r\n      default:\r\n        return {\r\n          icon: '',\r\n          confirmBg: 'bg-yellow-600 hover:bg-yellow-700',\r\n          borderColor: 'border-yellow-500'\r\n        }\r\n    }\r\n  }\r\n\r\n  const styles = getTypeStyles()\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className={`bg-dj-primary border-2 ${styles.borderColor} rounded-lg p-6 max-w-md mx-4 shadow-2xl`}>\r\n        <div className=\"flex items-center mb-4\">\r\n          <span className=\"text-2xl mr-3\">{styles.icon}</span>\r\n          <h3 className=\"text-xl font-bold text-white\">{title}</h3>\r\n        </div>\r\n        \r\n        <p className=\"text-dj-light mb-6 leading-relaxed\">\r\n          {message}\r\n        </p>\r\n        \r\n        <div className=\"flex space-x-3 justify-end\">\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors\"\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            className={`px-4 py-2 ${styles.confirmBg} text-white rounded-md transition-colors font-medium`}\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ConfirmationDialog\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useAudio } from '../contexts/AudioContext'\r\nimport { SoundEffectsManager } from '../audio/SoundEffectsManager'\r\n\r\ninterface DeckEffectsProps {\r\n  className?: string\r\n}\r\n\r\nexport const DeckEffects: React.FC<DeckEffectsProps> = ({ className = '' }) => {\r\n  const { state: audioState, soundEffectsManagerRef, microphoneEffectsManagerRef } = useAudio()\r\n  const [soundEffectsManager, setSoundEffectsManager] = useState<SoundEffectsManager | null>(null)\r\n  const [isInitialized, setIsInitialized] = useState<boolean>(false)\r\n  const [reverbEnabled, setReverbEnabled] = useState<boolean>(false)\r\n  const [reverbAmount, setReverbAmount] = useState<number>(0.5)\r\n  const [distortionEnabled, setDistortionEnabled] = useState<boolean>(false)\r\n  const [distortionAmount, setDistortionAmount] = useState<number>(0.5)\r\n  const [pitchEnabled, setPitchEnabled] = useState<boolean>(false)\r\n  const [pitchAmount, setPitchAmount] = useState<number>(0.5)\r\n  const [echoEnabled, setEchoEnabled] = useState<boolean>(false)\r\n  const [echoAmount, setEchoAmount] = useState<number>(0.5)\r\n  const [initializationError, setInitializationError] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    let attempts = 0\r\n    const maxAttempts = 50 // 5 secondi totali\r\n    \r\n    const checkInitialization = () => {\r\n      attempts++\r\n      \r\n      if (soundEffectsManagerRef?.current) {\r\n        setSoundEffectsManager(soundEffectsManagerRef.current)\r\n        setIsInitialized(true)\r\n        console.log(' [DECK EFFECTS] SoundEffectsManager inizializzato')\r\n      } else if (attempts < maxAttempts) {\r\n        // Riprova dopo 100ms se non  ancora disponibile\r\n        setTimeout(checkInitialization, 100)\r\n      } else {\r\n        // Fallback: crea il manager direttamente\r\n        console.warn(' [DECK EFFECTS] SoundEffectsManager non disponibile, creazione fallback...')\r\n        try {\r\n          const fallbackManager = new SoundEffectsManager()\r\n          fallbackManager.setCallbacks({\r\n            onDebug: (message) => console.log(message),\r\n            onError: (error) => console.error(error)\r\n          })\r\n          setSoundEffectsManager(fallbackManager)\r\n          setIsInitialized(true)\r\n          console.log(' [DECK EFFECTS] SoundEffectsManager fallback creato')\r\n        } catch (error) {\r\n          setInitializationError(true)\r\n          console.error(' [DECK EFFECTS] Errore creazione fallback:', error)\r\n        }\r\n      }\r\n    }\r\n    \r\n    checkInitialization()\r\n  }, [soundEffectsManagerRef])\r\n\r\n  // Riproduce un effetto sonoro\r\n  const playSoundEffect = async (effectId: string) => {\r\n    console.log(` [SOUND EFFECTS] Tentativo riproduzione: ${effectId}`)\r\n    console.log(` [SOUND EFFECTS] soundEffectsManager: ${soundEffectsManager ? ' S' : ' NO'}`)\r\n    console.log(` [SOUND EFFECTS] isInitialized: ${isInitialized ? ' S' : ' NO'}`)\r\n    \r\n    if (!soundEffectsManager || !isInitialized) {\r\n      console.warn(` [SOUND EFFECTS]  Non posso riprodurre ${effectId} - manager o inizializzazione non disponibili`)\r\n      return\r\n    }\r\n    \r\n    try {\r\n      console.log(` [SOUND EFFECTS] Chiamando playSoundEffect per: ${effectId}`)\r\n      const result = await soundEffectsManager.playSoundEffect(effectId, 0.8)\r\n      console.log(` [SOUND EFFECTS] Risultato playSoundEffect: ${result}`)\r\n    } catch (error) {\r\n      console.error(' [SOUND EFFECTS] Errore riproduzione effetto:', error)\r\n    }\r\n  }\r\n\r\n  // Toggle reverbero microfono\r\n  const toggleReverb = () => {\r\n    const newReverbState = !reverbEnabled\r\n    setReverbEnabled(newReverbState)\r\n    \r\n    // Usa i controlli globali del reverbero\r\n    const reverbGain = (window as any).microphoneReverbGain\r\n    const dryGain = (window as any).microphoneDryGain\r\n    \r\n    if (reverbGain && dryGain) {\r\n      if (newReverbState) {\r\n        // Attiva reverbero\r\n        reverbGain.gain.setValueAtTime(reverbAmount, reverbGain.context.currentTime)\r\n        dryGain.gain.setValueAtTime(1 - reverbAmount, dryGain.context.currentTime)\r\n        console.log(` [REVERB] Reverbero attivato: ${Math.round(reverbAmount * 100)}%`)\r\n      } else {\r\n        // Disattiva reverbero\r\n        reverbGain.gain.setValueAtTime(0, reverbGain.context.currentTime)\r\n        dryGain.gain.setValueAtTime(1, dryGain.context.currentTime)\r\n        console.log(' [REVERB] Reverbero disattivato')\r\n      }\r\n    } else {\r\n      console.warn(' [REVERB] Controlli reverbero non disponibili')\r\n    }\r\n  }\r\n\r\n  // Aggiorna quantit reverbero\r\n  const updateReverbAmount = (amount: number) => {\r\n    setReverbAmount(amount)\r\n    \r\n    if (reverbEnabled) {\r\n      const reverbGain = (window as any).microphoneReverbGain\r\n      const dryGain = (window as any).microphoneDryGain\r\n      \r\n      if (reverbGain && dryGain) {\r\n        reverbGain.gain.setValueAtTime(amount, reverbGain.context.currentTime)\r\n        dryGain.gain.setValueAtTime(1 - amount, dryGain.context.currentTime)\r\n        console.log(` [REVERB] Reverbero aggiornato: ${Math.round(amount * 100)}%`)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Controlla la distorsione del microfono\r\n  const toggleDistortion = () => {\r\n    const newDistortionState = !distortionEnabled\r\n    setDistortionEnabled(newDistortionState)\r\n    \r\n    // Usa i controlli globali del microfono se disponibili\r\n    const microphoneGain = (window as any).microphoneGain\r\n    console.log(` [DISTORTION] Debug microphoneGain: ${microphoneGain ? ' DISPONIBILE' : ' NON DISPONIBILE'}`)\r\n    \r\n    if (microphoneGain) {\r\n      if (newDistortionState) {\r\n        // Simula distorsione con gain molto alto\r\n        microphoneGain.gain.setValueAtTime(2 + distortionAmount * 3, microphoneGain.context.currentTime)\r\n        console.log(` [DISTORTION] Distorsione attivata: ${Math.round(distortionAmount * 100)}%`)\r\n      } else {\r\n        microphoneGain.gain.setValueAtTime(1, microphoneGain.context.currentTime)\r\n        console.log(' [DISTORTION] Distorsione disattivata')\r\n      }\r\n    } else {\r\n      console.warn(' [DISTORTION] Controlli microfono non disponibili')\r\n    }\r\n  }\r\n\r\n  const updateDistortionAmount = (amount: number) => {\r\n    setDistortionAmount(amount)\r\n    if (distortionEnabled) {\r\n      const microphoneGain = (window as any).microphoneGain\r\n      if (microphoneGain) {\r\n        microphoneGain.gain.setValueAtTime(2 + amount * 3, microphoneGain.context.currentTime)\r\n        console.log(` [DISTORTION] Distorsione aggiornata: ${Math.round(amount * 100)}%`)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Controlla il pitch shift (voce donna)\r\n  const togglePitch = () => {\r\n    const newPitchState = !pitchEnabled\r\n    setPitchEnabled(newPitchState)\r\n    \r\n    // Usa i controlli globali del microfono se disponibili\r\n    const microphoneGain = (window as any).microphoneGain\r\n    if (microphoneGain) {\r\n      if (newPitchState) {\r\n        // Simula pitch shift con gain molto ridotto (voce pi acuta)\r\n        microphoneGain.gain.setValueAtTime(0.5 + pitchAmount * 0.2, microphoneGain.context.currentTime)\r\n        console.log(` [PITCH] Voce donna attivata: ${Math.round(pitchAmount * 100)}%`)\r\n      } else {\r\n        microphoneGain.gain.setValueAtTime(1, microphoneGain.context.currentTime)\r\n        console.log(' [PITCH] Voce donna disattivata')\r\n      }\r\n    } else {\r\n      console.warn(' [PITCH] Controlli microfono non disponibili')\r\n    }\r\n  }\r\n\r\n  const updatePitchAmount = (amount: number) => {\r\n    setPitchAmount(amount)\r\n    if (pitchEnabled) {\r\n      const microphoneGain = (window as any).microphoneGain\r\n      if (microphoneGain) {\r\n        microphoneGain.gain.setValueAtTime(0.5 + amount * 0.2, microphoneGain.context.currentTime)\r\n        console.log(` [PITCH] Voce donna aggiornata: ${Math.round(amount * 100)}%`)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Controlla l'eco del microfono\r\n  const toggleEcho = () => {\r\n    const newEchoState = !echoEnabled\r\n    setEchoEnabled(newEchoState)\r\n    \r\n    // Usa i controlli globali del microfono se disponibili\r\n    const microphoneGain = (window as any).microphoneGain\r\n    if (microphoneGain) {\r\n      if (newEchoState) {\r\n        // Simula eco con gain modulato\r\n        microphoneGain.gain.setValueAtTime(1.5 + echoAmount * 1, microphoneGain.context.currentTime)\r\n        console.log(` [ECHO] Eco attivato: ${Math.round(echoAmount * 100)}%`)\r\n      } else {\r\n        microphoneGain.gain.setValueAtTime(1, microphoneGain.context.currentTime)\r\n        console.log(' [ECHO] Eco disattivato')\r\n      }\r\n    } else {\r\n      console.warn(' [ECHO] Controlli microfono non disponibili')\r\n    }\r\n  }\r\n\r\n  const updateEchoAmount = (amount: number) => {\r\n    setEchoAmount(amount)\r\n    if (echoEnabled) {\r\n      const microphoneGain = (window as any).microphoneGain\r\n      if (microphoneGain) {\r\n        microphoneGain.gain.setValueAtTime(1.5 + amount * 1, microphoneGain.context.currentTime)\r\n        console.log(` [ECHO] Eco aggiornato: ${Math.round(amount * 100)}%`)\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!isInitialized) {\r\n    return (\r\n      <div className={`deck-effects ${className}`}>\r\n        <div className=\"loading\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Caricamento effetti...</p>\r\n          {initializationError && (\r\n            <p className=\"error\">Errore caricamento effetti. Riprova a ricaricare la pagina.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={`deck-effects ${className}`}>\r\n      <div className=\"effects-header\">\r\n        <h3> Effetti Audio</h3>\r\n      </div>\r\n\r\n      {/* Sound Effects */}\r\n      <div className=\"sound-effects-section\">\r\n        <h4> Sound Effects</h4>\r\n        <div className=\"effects-grid\">\r\n          <button\r\n            onClick={() => playSoundEffect('applause')}\r\n            className=\"effect-button applause\"\r\n            title=\"Applausi del pubblico\"\r\n          >\r\n             Applausi\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('horn')}\r\n            className=\"effect-button horn\"\r\n            title=\"Suono di trombetta\"\r\n          >\r\n             Trombetta\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('swoosh')}\r\n            className=\"effect-button swoosh\"\r\n            title=\"Effetto di transizione\"\r\n          >\r\n             Swoosh\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('whoosh')}\r\n            className=\"effect-button whoosh\"\r\n            title=\"Effetto di movimento\"\r\n          >\r\n             Whoosh\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('beep')}\r\n            className=\"effect-button beep\"\r\n            title=\"Suono di notifica\"\r\n          >\r\n             Beep\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('drop')}\r\n            className=\"effect-button drop\"\r\n            title=\"Effetto di caduta\"\r\n          >\r\n             Drop\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('rise')}\r\n            className=\"effect-button rise\"\r\n            title=\"Effetto di ascesa\"\r\n          >\r\n             Rise\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => playSoundEffect('squeak')}\r\n            className=\"effect-button squeak\"\r\n            title=\"Suono che perde\"\r\n          >\r\n             Squeak\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Microphone Effects - Layout Orizzontale */}\r\n      <div className=\"microphone-effects-section\">\r\n        <h4> Effetti Microfono</h4>\r\n        <div className=\"mic-effects-grid\">\r\n          \r\n          {/* Reverbero */}\r\n          <div className=\"mic-effect-card\">\r\n            <div className=\"effect-header\">\r\n              <button\r\n                onClick={toggleReverb}\r\n                className={`effect-button reverb ${reverbEnabled ? 'active' : ''}`}\r\n                title={reverbEnabled ? 'Disattiva reverbero' : 'Attiva reverbero'}\r\n              >\r\n                 Reverbero\r\n              </button>\r\n            </div>\r\n            \r\n            {reverbEnabled && (\r\n              <div className=\"effect-controls\">\r\n                <label>Intensit:</label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  value={reverbAmount}\r\n                  onChange={(e) => updateReverbAmount(parseFloat(e.target.value))}\r\n                  className=\"slider\"\r\n                />\r\n                <span>{Math.round(reverbAmount * 100)}%</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Distorsione */}\r\n          <div className=\"mic-effect-card\">\r\n            <div className=\"effect-header\">\r\n              <button\r\n                onClick={toggleDistortion}\r\n                className={`effect-button distortion ${distortionEnabled ? 'active' : ''}`}\r\n                title={distortionEnabled ? 'Disattiva distorsione' : 'Attiva distorsione'}\r\n              >\r\n                 Distorsione\r\n              </button>\r\n            </div>\r\n            \r\n            {distortionEnabled && (\r\n              <div className=\"effect-controls\">\r\n                <label>Intensit:</label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  value={distortionAmount}\r\n                  onChange={(e) => updateDistortionAmount(parseFloat(e.target.value))}\r\n                  className=\"slider\"\r\n                />\r\n                <span>{Math.round(distortionAmount * 100)}%</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Voce Donna */}\r\n          <div className=\"mic-effect-card\">\r\n            <div className=\"effect-header\">\r\n              <button\r\n                onClick={togglePitch}\r\n                className={`effect-button pitch ${pitchEnabled ? 'active' : ''}`}\r\n                title={pitchEnabled ? 'Disattiva voce donna' : 'Attiva voce donna'}\r\n              >\r\n                 Voce Donna\r\n              </button>\r\n            </div>\r\n            \r\n            {pitchEnabled && (\r\n              <div className=\"effect-controls\">\r\n                <label>Intensit:</label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  value={pitchAmount}\r\n                  onChange={(e) => updatePitchAmount(parseFloat(e.target.value))}\r\n                  className=\"slider\"\r\n                />\r\n                <span>{Math.round(pitchAmount * 100)}%</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Eco */}\r\n          <div className=\"mic-effect-card\">\r\n            <div className=\"effect-header\">\r\n              <button\r\n                onClick={toggleEcho}\r\n                className={`effect-button echo ${echoEnabled ? 'active' : ''}`}\r\n                title={echoEnabled ? 'Disattiva eco' : 'Attiva eco'}\r\n              >\r\n                 Eco\r\n              </button>\r\n            </div>\r\n            \r\n            {echoEnabled && (\r\n              <div className=\"effect-controls\">\r\n                <label>Intensit:</label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  value={echoAmount}\r\n                  onChange={(e) => updateEchoAmount(parseFloat(e.target.value))}\r\n                  className=\"slider\"\r\n                />\r\n                <span>{Math.round(echoAmount * 100)}%</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Preset Grotta */}\r\n          <div className=\"mic-effect-card\">\r\n            <div className=\"effect-header\">\r\n              <button\r\n                onClick={() => {\r\n                  if (microphoneEffectsManagerRef?.current) {\r\n                    microphoneEffectsManagerRef.current.applyPreset('cave')\r\n                    console.log(' [PRESET] Grotta applicata')\r\n                  }\r\n                }}\r\n                className=\"effect-button cave\"\r\n                title=\"Applica preset grotta\"\r\n              >\r\n                 Grotta\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .deck-effects {\r\n          background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\r\n          border-radius: 12px;\r\n          padding: 20px;\r\n          color: white;\r\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .loading {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 40px;\r\n        }\r\n\r\n        .spinner {\r\n          width: 40px;\r\n          height: 40px;\r\n          border: 4px solid rgba(255, 255, 255, 0.1);\r\n          border-left: 4px solid #00d4ff;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        .error {\r\n          color: #ff6b6b;\r\n          font-size: 0.9em;\r\n          margin-top: 10px;\r\n          text-align: center;\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        .effects-header h3 {\r\n          margin: 0 0 20px 0;\r\n          font-size: 1.5em;\r\n          text-align: center;\r\n          background: linear-gradient(45deg, #00d4ff, #ff6b6b);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n        }\r\n\r\n        .sound-effects-section,\r\n        .microphone-effects-section {\r\n          margin-bottom: 25px;\r\n          padding: 15px;\r\n          background: rgba(255, 255, 255, 0.05);\r\n          border-radius: 8px;\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n        }\r\n\r\n        .sound-effects-section h4,\r\n        .microphone-effects-section h4 {\r\n          margin: 0 0 15px 0;\r\n          font-size: 1.2em;\r\n          color: #00d4ff;\r\n        }\r\n\r\n        .effects-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\r\n          gap: 10px;\r\n        }\r\n\r\n        .effect-button {\r\n          padding: 10px 15px;\r\n          background: linear-gradient(45deg, #00d4ff, #0099cc);\r\n          border: none;\r\n          border-radius: 8px;\r\n          color: white;\r\n          font-size: 0.9em;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          box-shadow: 0 2px 8px rgba(0, 212, 255, 0.2);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 5px;\r\n        }\r\n\r\n        .effect-button:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4);\r\n          background: linear-gradient(45deg, #00e5ff, #00aadd);\r\n        }\r\n\r\n        .effect-button:active {\r\n          transform: translateY(0);\r\n          box-shadow: 0 2px 4px rgba(0, 212, 255, 0.3);\r\n        }\r\n\r\n        .reverb-controls {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 15px;\r\n        }\r\n\r\n        .reverb-toggle {\r\n          display: flex;\r\n          justify-content: center;\r\n        }\r\n\r\n        .reverb-button {\r\n          padding: 12px 24px;\r\n          background: linear-gradient(45deg, #ff6b6b, #ee5a52);\r\n          border: none;\r\n          border-radius: 25px;\r\n          color: white;\r\n          font-size: 1em;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .reverb-button:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);\r\n        }\r\n\r\n        .reverb-button.active {\r\n          background: linear-gradient(45deg, #00d4ff, #0099cc);\r\n          box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);\r\n        }\r\n\r\n        .reverb-button.active:hover {\r\n          box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);\r\n        }\r\n\r\n        .reverb-slider {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 15px;\r\n          padding: 10px;\r\n          background: rgba(255, 255, 255, 0.05);\r\n          border-radius: 8px;\r\n        }\r\n\r\n        .reverb-slider label {\r\n          font-size: 0.9em;\r\n          color: #ccc;\r\n          min-width: 120px;\r\n        }\r\n\r\n        .slider {\r\n          flex: 1;\r\n          height: 6px;\r\n          border-radius: 3px;\r\n          background: rgba(255, 255, 255, 0.2);\r\n          outline: none;\r\n          -webkit-appearance: none;\r\n        }\r\n\r\n        .slider::-webkit-slider-thumb {\r\n          -webkit-appearance: none;\r\n          width: 18px;\r\n          height: 18px;\r\n          border-radius: 50%;\r\n          background: #00d4ff;\r\n          cursor: pointer;\r\n          box-shadow: 0 2px 6px rgba(0, 212, 255, 0.3);\r\n        }\r\n\r\n        .reverb-slider span {\r\n          font-size: 0.9em;\r\n          color: #00d4ff;\r\n          font-weight: 600;\r\n          min-width: 40px;\r\n          text-align: center;\r\n        }\r\n\r\n        /* Layout Orizzontale Effetti Microfono */\r\n        .mic-effects-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n          gap: 20px;\r\n          margin-top: 15px;\r\n        }\r\n\r\n        .mic-effect-card {\r\n          background: rgba(255, 255, 255, 0.03);\r\n          border-radius: 12px;\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          padding: 15px;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .mic-effect-card:hover {\r\n          background: rgba(255, 255, 255, 0.05);\r\n          border-color: rgba(255, 255, 255, 0.2);\r\n        }\r\n\r\n        .effect-button {\r\n          width: 100%;\r\n          padding: 12px 20px;\r\n          border: none;\r\n          border-radius: 8px;\r\n          color: white;\r\n          font-size: 1em;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 8px;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .effect-button.reverb {\r\n          background: linear-gradient(45deg, #ff6b6b, #ee5a52);\r\n          box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);\r\n        }\r\n\r\n        .effect-button.distortion {\r\n          background: linear-gradient(45deg, #ff4757, #ff3742);\r\n          box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);\r\n        }\r\n\r\n        .effect-button.pitch {\r\n          background: linear-gradient(45deg, #ff9f43, #ff8c42);\r\n          box-shadow: 0 4px 15px rgba(255, 159, 67, 0.3);\r\n        }\r\n\r\n        .effect-button.echo {\r\n          background: linear-gradient(45deg, #a55eea, #8b5cf6);\r\n          box-shadow: 0 4px 15px rgba(165, 94, 234, 0.3);\r\n        }\r\n\r\n        .effect-button.cave {\r\n          background: linear-gradient(45deg, #2c2c54, #40407a);\r\n          box-shadow: 0 4px 15px rgba(44, 44, 84, 0.3);\r\n        }\r\n\r\n        .effect-button:hover {\r\n          transform: translateY(-2px);\r\n        }\r\n\r\n        .effect-button.reverb:hover {\r\n          box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);\r\n        }\r\n\r\n        .effect-button.distortion:hover {\r\n          box-shadow: 0 6px 20px rgba(255, 71, 87, 0.4);\r\n        }\r\n\r\n        .effect-button.pitch:hover {\r\n          box-shadow: 0 6px 20px rgba(255, 159, 67, 0.4);\r\n        }\r\n\r\n        .effect-button.echo:hover {\r\n          box-shadow: 0 6px 20px rgba(165, 94, 234, 0.4);\r\n        }\r\n\r\n        .effect-button.cave:hover {\r\n          box-shadow: 0 6px 20px rgba(44, 44, 84, 0.4);\r\n        }\r\n\r\n        .effect-button.active {\r\n          background: linear-gradient(45deg, #00d4ff, #0099cc);\r\n          box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);\r\n        }\r\n\r\n        .effect-button.active:hover {\r\n          box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);\r\n        }\r\n\r\n        .effect-controls {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n        }\r\n\r\n        .effect-controls label {\r\n          font-size: 0.9em;\r\n          color: #ccc;\r\n          text-align: center;\r\n        }\r\n\r\n        .effect-controls span {\r\n          font-size: 0.9em;\r\n          font-weight: 600;\r\n          text-align: center;\r\n          padding: 4px 8px;\r\n          background: rgba(255, 255, 255, 0.1);\r\n          border-radius: 4px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useCallback, useEffect, useRef } from 'react'\nimport { Activity, Settings, Radio, Headphones, Bell } from 'lucide-react'\nimport { useAudio } from '../../contexts/AudioContext'\nimport { useSettings } from '../../contexts/SettingsContext'\nimport { usePlaylist } from '../../contexts/PlaylistContext'\nimport { ContinuousStreamingManager } from '../../audio/ContinuousStreamingManager'\nimport { localDatabase } from '../../database/LocalDatabase'\nimport EnhancedDeck from './EnhancedDeck'\nimport EnhancedMixer from './EnhancedMixer'\nimport EnhancedPlaylist from './EnhancedPlaylist'\nimport AutoAdvanceManager from './AutoAdvanceManager'\nimport DuplicateTrackDialog from './DuplicateTrackDialog'\nimport StreamingDebugPanel from './StreamingDebugPanel'\nimport ConfirmationDialog from '../ConfirmationDialog'\nimport { DeckEffects } from '../DeckEffects'\n\nconst RebuiltDJConsole: React.FC = () => {\n  const { \n    state: audioState,\n    playLeftTrack,\n    playRightTrack,\n    setLeftLocalVolume,\n    setRightLocalVolume,\n    getMixedStream,\n    setMasterVolume\n  } = useAudio()\n  \n  const { settings } = useSettings()\n  const { state: playlistState } = usePlaylist()\n  \n  // Stati locali\n  const [activePlaylistId, setActivePlaylistId] = useState<string | null>(null)\n  const [leftTrack, setLeftTrack] = useState<any>(null)\n  const [rightTrack, setRightTrack] = useState<any>(null)\n  const [duplicateDialog, setDuplicateDialog] = useState<{\n    track: any | null\n    activeDeck: 'left' | 'right' | null\n    isVisible: boolean\n  }>({\n    track: null,\n    activeDeck: null,\n    isVisible: false\n  })\n  \n  // Stati streaming per il bellissimo pulsante\n  const [isStreaming, setIsStreaming] = useState(false)\n  const [streamStatus, setStreamStatus] = useState<'disconnected' | 'connecting' | 'connected' | 'streaming'>('disconnected')\n  const [streamError, setStreamError] = useState<string | null>(null)\n  const [streamingManager] = useState(() => new ContinuousStreamingManager())\n  const [debugMessages, setDebugMessages] = useState<string[]>([])\n  const [showDebugPanel, setShowDebugPanel] = useState(false)\n  const [pttActive, setPttActive] = useState(false)\n  const [errorCount, setErrorCount] = useState(0)\n  \n  //  SICUREZZA: Stati per conferme streaming\n  const [showStartConfirmation, setShowStartConfirmation] = useState(false)\n  const [showStopConfirmation, setShowStopConfirmation] = useState(false)\n  const [pendingStreamingAction, setPendingStreamingAction] = useState<'start' | 'stop' | null>(null)\n  \n  //  SICUREZZA: Stati per rilevamento silenzio\n  const [showSilenceWarning, setShowSilenceWarning] = useState(false)\n  const [silenceSecondsRemaining, setSilenceSecondsRemaining] = useState(0)\n  \n  //  CRITICAL FIX: Esponi streamingManager globalmente per AudioContext\n  useEffect(() => {\n    ;(window as any).streamingManager = streamingManager\n    \n    //  ESPONI METODI DI PAUSA/RIPRESA DEL CONTINUOUS STREAMING MANAGER\n    ;(window as any).pauseStreaming = () => {\n      if (streamingManager && typeof streamingManager.pauseStreaming === 'function') {\n        streamingManager.pauseStreaming()\n        console.log(' [CONTINUOUS] Pausa streaming richiesta')\n      }\n    }\n    \n    ;(window as any).resumeStreaming = () => {\n      if (streamingManager && typeof streamingManager.resumeStreaming === 'function') {\n        streamingManager.resumeStreaming()\n        console.log(' [CONTINUOUS] Ripresa streaming richiesta')\n      }\n    }\n    \n    console.log(' [GLOBAL] ContinuousStreamingManager esposto globalmente per AudioContext')\n    \n    //  FIX: Esponi streamingManager globalmente per il sistema di monitoraggio\n    ;(window as any).globalStreamingManager = streamingManager\n    \n    return () => {\n      ;(window as any).streamingManager = null\n      ;(window as any).globalStreamingManager = null\n      ;(window as any).pauseStreaming = null\n      ;(window as any).resumeStreaming = null\n    }\n  }, [streamingManager])\n\n  //  Contatore errori per notifiche\n  useEffect(() => {\n    const countErrors = () => {\n      const errorMessages = debugMessages.filter(msg => \n        msg.includes('') || msg.includes('ERROR') || msg.includes('Errore')\n      )\n      setErrorCount(errorMessages.length)\n    }\n    \n    countErrors()\n  }, [debugMessages])\n  \n  // Refs per evitare loop di caricamento\n  const loadInProgressRef = useRef(false)\n  \n  //  Cache del mixed stream per evitare ricreazione continua\n  const cachedMixedStreamRef = useRef<MediaStream | null>(null)\n  \n  // Seleziona automaticamente la prima playlist\n  useEffect(() => {\n    if (!activePlaylistId && playlistState.library.playlists.length > 0) {\n      setActivePlaylistId(playlistState.library.playlists[0].id)\n    }\n  }, [activePlaylistId, playlistState.library.playlists])\n\n  // NUOVO: Listener per sincronizzazione playlist dalla Library\n  useEffect(() => {\n    const handleLibraryPlaylistUpdated = (event: CustomEvent) => {\n      const { playlistId, updatedTracks, updatedPlaylists } = event.detail\n      console.log(' [REBUILT_CONSOLE] Library playlist updated - syncing:', { playlistId, trackCount: updatedTracks?.length || 0 })\n      \n      // Forza il refresh delle playlist nel PlaylistContext\n      if (updatedPlaylists) {\n        window.dispatchEvent(new CustomEvent('djconsole:force-playlist-refresh', { \n          detail: { updatedPlaylists } \n        }))\n      }\n    }\n\n    const handleForcePlaylistRefresh = (event: CustomEvent) => {\n      const { updatedPlaylists } = event.detail\n      console.log(' [REBUILT_CONSOLE] Force playlist refresh requested:', { count: updatedPlaylists?.length })\n      \n      // Le playlist vengono aggiornate automaticamente dal PlaylistContext\n      // Questo listener serve solo per logging e debug\n    }\n\n    window.addEventListener('djconsole:library-playlist-updated', handleLibraryPlaylistUpdated as EventListener)\n    window.addEventListener('djconsole:force-playlist-refresh', handleForcePlaylistRefresh as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:library-playlist-updated', handleLibraryPlaylistUpdated as EventListener)\n      window.removeEventListener('djconsole:force-playlist-refresh', handleForcePlaylistRefresh as EventListener)\n    }\n  }, [])\n\n  // Sincronizza i track locali con lo stato audio\n  useEffect(() => {\n    if (audioState.leftDeck.track) {\n      setLeftTrack(audioState.leftDeck.track)\n    }\n    if (audioState.rightDeck.track) {\n      setRightTrack(audioState.rightDeck.track)\n    }\n  }, [audioState.leftDeck.track, audioState.rightDeck.track])\n\n  // Inizializza StreamingManager con settings e callbacks\n  useEffect(() => {\n    const initializeStreaming = async () => {\n      try {\n        // Carica le settings dal database\n        const { localDatabase } = await import('../../database/LocalDatabase')\n        await localDatabase.waitForInitialization()\n        const s = await localDatabase.getSettings()\n        \n        // Configura URL server\n        const isElectron = !!((window as any).fileStore) || ((typeof navigator !== 'undefined' && (navigator.userAgent || '').includes('Electron')))\n        let defaultWs = `ws://127.0.0.1:8000`\n        if (!isElectron) {\n          defaultWs = `${window.location.protocol === 'https:' ? 'wss' : 'ws'}://${window.location.hostname}:8000`\n        }\n        const wsUrl = (s.streaming.bridgeUrl && s.streaming.bridgeUrl.length > 0) ? s.streaming.bridgeUrl : defaultWs\n        \n        //  USA SERVER DI DEFAULT SELEZIONATO\n        const defaultServer = await localDatabase.getDefaultIcecastServer()\n        if (defaultServer) {\n          streamingManager.setServerUrl(wsUrl)\n          streamingManager.setCredentials({\n            host: defaultServer.host,\n            port: defaultServer.port,\n            username: defaultServer.username,\n            password: defaultServer.password,\n            mountpoint: defaultServer.mount,\n            useSSL: !!defaultServer.useSSL\n          })\n          \n          //  CRITICAL FIX: Configura anche le impostazioni di streaming\n          streamingManager.setCredentials({\n            format: s.streaming.defaultFormat || 'mp3', //  USA FORMATO DAI SETTINGS\n            bitrate: s.streaming.defaultBitrate || 128,\n            channels: s.streaming.channels || 2,\n            sampleRate: s.audio.sampleRate || 44100\n          })\n          \n          console.log(` StreamingManager configurato con server: ${defaultServer.name} (${defaultServer.host}:${defaultServer.port}${defaultServer.mount})`)\n          console.log(` StreamingManager configurato con formato: ${s.streaming.defaultFormat || 'mp3'}, bitrate: ${s.streaming.defaultBitrate || 128}`)\n        } else {\n          // Fallback ai settings legacy\n          streamingManager.setServerUrl(wsUrl)\n          streamingManager.setCredentials({\n            host: 'localhost',\n            port: 5040,\n            username: 'source',\n            password: '',\n            mountpoint: '/stream',\n            useSSL: false\n          })\n          \n          //  CRITICAL FIX: Configura anche le impostazioni di streaming per fallback\n          streamingManager.setCredentials({\n            format: s.streaming.defaultFormat || 'mp3', //  USA FORMATO DAI SETTINGS\n            bitrate: s.streaming.defaultBitrate || 128,\n            channels: s.streaming.channels || 2,\n            sampleRate: 44100\n          })\n          \n          console.log(` StreamingManager configurato con settings legacy: localhost:5040/stream`)\n          console.log(` StreamingManager configurato con formato: ${s.streaming.defaultFormat || 'mp3'}, bitrate: ${s.streaming.defaultBitrate || 128}`)\n        }\n        \n        // Imposta callbacks per StreamingManager\n        streamingManager.setStatusCallback((status) => {\n          setStreamStatus(status as any)\n          setIsStreaming(status === 'streaming')\n          console.log(` Streaming status: ${status}`)\n        })\n        \n        streamingManager.setDebugCallback((msg) => {\n          setDebugMessages(prev => [\n            `${new Date().toLocaleTimeString()}: ${msg}`,\n            ...prev\n          ].slice(0, 50))\n          \n          // Apri automaticamente il debug panel in caso di errore\n          if (msg.toLowerCase().includes('error') || msg.toLowerCase().includes('fail')) {\n            setStreamError(msg)\n            setShowDebugPanel(true)\n          }\n        })\n        \n        //  SICUREZZA: Callback per avviso silenzio e retry\n        streamingManager.setCallbacks({\n          onStatusChange: (status) => {\n            setStreamStatus(status.isStreaming ? 'streaming' : status.isConnected ? 'connected' : 'disconnected')\n            setIsStreaming(status.isStreaming)\n            console.log(` Streaming status: ${status.isStreaming ? 'streaming' : status.isConnected ? 'connected' : 'disconnected'}`)\n          },\n          onError: (error) => {\n            setStreamError(error)\n            setShowDebugPanel(true)\n          },\n          onDebug: (msg) => {\n            setDebugMessages(prev => [\n              `${new Date().toLocaleTimeString()}: ${msg}`,\n              ...prev\n            ].slice(0, 50))\n            \n            if (msg.toLowerCase().includes('error') || msg.toLowerCase().includes('fail')) {\n              setStreamError(msg)\n              setShowDebugPanel(true)\n            }\n          },\n          onSilenceWarning: (secondsRemaining) => {\n            setSilenceSecondsRemaining(secondsRemaining)\n            setShowSilenceWarning(true)\n            console.log(` [SILENCE] Avviso: disconnessione in ${secondsRemaining} secondi`)\n          },\n          onSilenceDisconnect: () => {\n            setShowSilenceWarning(false)\n          },\n          onRetryAttempt: (attempt, maxRetries) => {\n            console.log(` [RETRY] Tentativo ${attempt}/${maxRetries} di riconnessione...`)\n            setDebugMessages(prev => [\n              `${new Date().toLocaleTimeString()}:  Tentativo ${attempt}/${maxRetries} di riconnessione...`,\n              ...prev\n            ].slice(0, 50))\n          },\n          onRetryFailed: () => {\n            console.log(' [RETRY] Riconnessione fallita dopo 5 tentativi')\n            setStreamError('Riconnessione fallita dopo 5 tentativi')\n            setShowDebugPanel(true)\n          },\n          onConnectionLost: (reason) => {\n            console.log(` [CONNECTION] Connessione persa: ${reason}`)\n            \n            //  FIX: Controlla se l'utente ha richiesto la disconnessione\n            if (streamingManager.isUserRequestedDisconnect) {\n              console.log(' [CONNECTION] Disconnessione richiesta dall\\'utente - ignoro perdita connessione')\n              return\n            }\n            \n            setDebugMessages(prev => [\n              `${new Date().toLocaleTimeString()}:  Connessione persa: ${reason}`,\n              ...prev\n            ].slice(0, 50))\n          }\n        })\n        \n        // setErrorCallback rimosso - gli errori vanno nel pannello notifiche\n        \n        console.log(` StreamingManager inizializzato con server: ${wsUrl}`)\n        \n      } catch (error) {\n        console.error(' Errore inizializzazione StreamingManager:', error)\n        setStreamError(`Initialization error: ${error}`)\n      }\n    }\n    \n    initializeStreaming()\n  }, [streamingManager])\n\n  // Determina se i deck sono attivi (hanno una canzone che sta suonando)\n  const leftDeckActive = !!(audioState.leftDeck.track && audioState.leftDeck.isPlaying)\n  const rightDeckActive = !!(audioState.rightDeck.track && audioState.rightDeck.isPlaying)\n\n\n  // Gestisce il caricamento di una traccia in un deck\n  const handleTrackLoadInternal = useCallback((deck: 'left' | 'right', track: any) => {\n    if (loadInProgressRef.current) {\n      console.log(' Caricamento gi in corso, saltando')\n      return\n    }\n    \n    // Verifica se la stessa traccia  gi caricata nello stesso deck\n    const currentDeckTrack = deck === 'left' ? audioState.leftDeck.track : audioState.rightDeck.track\n    if (currentDeckTrack?.id === track.id) {\n      console.log(` Traccia \"${track.title}\" gi caricata in deck ${deck.toUpperCase()}`)\n      return\n    }\n    \n    loadInProgressRef.current = true\n    \n    try {\n      console.log(` Caricamento traccia \"${track.title}\" in deck ${deck.toUpperCase()}`)\n      \n      if (deck === 'left') {\n        setLeftTrack(track)\n        if (track?.url) {\n          playLeftTrack({\n            id: track.id,\n            title: track.title,\n            artist: track.artist,\n            duration: track.duration,\n            url: track.url\n          })\n        }\n      } else {\n        setRightTrack(track)\n        if (track?.url) {\n          playRightTrack({\n            id: track.id,\n            title: track.title,\n            artist: track.artist,\n            duration: track.duration,\n            url: track.url\n          })\n        }\n      }\n      \n      console.log(` Traccia caricata con successo in deck ${deck.toUpperCase()}`)\n      \n      //  CRITICAL FIX: NON fermare lo streaming per cambio traccia - solo sincronizzazione continua\n      // Il sistema di sincronizzazione continua gestir l'aggiornamento della posizione\n      console.log(` [TRACK CHANGE] Traccia cambiata in deck ${deck.toUpperCase()} - sincronizzazione continua gestir l'aggiornamento`)\n      \n    } catch (error) {\n      console.error(' Errore nel caricamento traccia:', error)\n    } finally {\n      // Reset dopo un delay per evitare spam\n      setTimeout(() => {\n        loadInProgressRef.current = false\n      }, 500)\n    }\n  }, [playLeftTrack, playRightTrack, audioState.leftDeck.track, audioState.rightDeck.track])\n\n  // Wrapper functions for EnhancedDeck callbacks\n  const handleLeftTrackLoad = useCallback((track: any) => {\n    handleTrackLoadInternal('left', track)\n  }, [handleTrackLoadInternal])\n\n  const handleRightTrackLoad = useCallback((track: any) => {\n    handleTrackLoadInternal('right', track)\n  }, [handleTrackLoadInternal])\n\n  // Gestisce l'auto-avanzamento\n  const handleAutoAdvance = useCallback((deck: 'left' | 'right') => {\n    console.log(` [REBUILT DJ] Auto-avanzamento richiesto per deck ${deck.toUpperCase()}`)\n    \n    // Dispatch evento per AutoAdvanceManager\n    console.log(` [REBUILT DJ] Emettendo evento djconsole:request-auto-advance per deck ${deck}`)\n    window.dispatchEvent(new CustomEvent('djconsole:request-auto-advance', {\n      detail: { deck }\n    }))\n  }, [])\n\n  // Gestisce l'avviso di traccia duplicata\n  const handleDuplicateTrackWarning = useCallback((track: any, activeDeck: 'left' | 'right') => {\n    console.log(` Traccia duplicata rilevata: ${track.title}`)\n    setDuplicateDialog({\n      track,\n      activeDeck,\n      isVisible: true\n    })\n  }, [])\n\n  // Conferma caricamento traccia duplicata\n  const handleDuplicateConfirm = useCallback(() => {\n    if (duplicateDialog.track && duplicateDialog.activeDeck) {\n      handleTrackLoadInternal(duplicateDialog.activeDeck, duplicateDialog.track)\n    }\n    setDuplicateDialog({ track: null, activeDeck: null, isVisible: false })\n  }, [duplicateDialog, handleTrackLoadInternal])\n\n  // Annulla caricamento traccia duplicata\n  const handleDuplicateCancel = useCallback(() => {\n    console.log(' Caricamento traccia duplicata annullato')\n    setDuplicateDialog({ track: null, activeDeck: null, isVisible: false })\n  }, [])\n\n  // Gestisce i cambiamenti del volume master\n  const handleMasterVolumeChange = useCallback((volume: number) => {\n    console.log(` Master volume cambiato: ${Math.round(volume * 100)}%`)\n    // Il volume master influenza solo l'ascolto locale, non lo streaming\n  }, [])\n\n  // Gestisce i cambiamenti del volume stream\n  const handleStreamVolumeChange = useCallback((volume: number) => {\n    console.log(` Stream volume cambiato: ${Math.round(volume * 100)}%`)\n    //  CRITICAL FIX: Aggiorna il master volume del mixer per controllare lo streaming\n    setMasterVolume(volume)\n  }, [setMasterVolume])\n\n  // Gestisce l'attivazione/disattivazione del PTT\n  const handlePTTActivate = useCallback((active: boolean) => {\n    console.log(` PTT ${active ? 'attivato' : 'disattivato'}`)\n    setPttActive(active)\n    \n    //  CRITICAL FIX: Aggiorna SOLO i volumi PTT senza ricreare il mixer\n    if ((window as any).updatePTTVolumesOnly) {\n      console.log(` Aggiornamento volumi PTT: ${active ? 'ducking ON' : 'ducking OFF'}`)\n      ;(window as any).updatePTTVolumesOnly(active)\n    }\n    \n    //  RIMUOVO: Non ricreare getMixedStream per PTT - causa l'azzeramento della musica!\n    // Se il streaming  attivo, NON ricreate il stream - aggiornate solo i volumi\n    console.log(' PTT change completed - stream NOT recreated (volume-only update)')\n  }, [isStreaming, getMixedStream])\n\n  //  SICUREZZA: Gestisce la disconnessione (sempre permessa)\n  const handleDisconnect = useCallback(() => {\n    try {\n      // Disconnetti\n      console.log(' Disconnessione...')\n      console.log(' [REBUILT DJ] Chiamata handleDisconnect - flag userRequestedDisconnect sar impostato a TRUE')\n      streamingManager.disconnect()\n      setStreamStatus('disconnected')\n      setIsStreaming(false)\n      \n      //  FIX: Ferma monitoraggio server\n      if ((window as any).stopServerMonitoring) {\n        ;(window as any).stopServerMonitoring()\n        console.log(' [DISCONNECT] Monitoraggio server fermato')\n      }\n      \n      //  Rimuovi flag globale streaming PRIMA del cleanup\n      ;(window as any).isCurrentlyStreaming = false\n      \n      //  FIX: Ferma la riproduzione dei deck quando si disconnette\n      console.log(' [DISCONNECT] Fermando riproduzione deck dopo disconnessione...')\n      \n      // Ferma deck sinistro\n      const leftAudio = document.getElementById('left-audio') as HTMLAudioElement\n      if (leftAudio && !leftAudio.paused) {\n        console.log(' [DISCONNECT] Fermando deck LEFT')\n        leftAudio.pause()\n        leftAudio.currentTime = 0\n        // Aggiorna stato locale\n        if (leftTrack) {\n          setLeftTrack({ ...leftTrack, isPlaying: false })\n        }\n      }\n      \n      // Ferma deck destro\n      const rightAudio = document.getElementById('right-audio') as HTMLAudioElement\n      if (rightAudio && !rightAudio.paused) {\n        console.log(' [DISCONNECT] Fermando deck RIGHT')\n        rightAudio.pause()\n        rightAudio.currentTime = 0\n        // Aggiorna stato locale\n        if (rightTrack) {\n          setRightTrack({ ...rightTrack, isPlaying: false })\n        }\n      }\n      \n      //  CLEANUP: Pulisci audio residuo dopo disconnessione (ora pu fermare l'audio locale)\n      console.log(' [STREAMING] Cleanup audio residuo dopo disconnessione...')\n      if ((window as any).cleanupAllAudioStreams) {\n        ;(window as any).cleanupAllAudioStreams()\n      }\n      \n      //  Pulisci cache mixed stream\n      cachedMixedStreamRef.current = null\n      console.log(' Cache mixed stream pulita')\n    } catch (error) {\n      console.error(' Errore disconnessione:', error)\n      setStreamError(`Disconnect error: ${error}`)\n      setShowDebugPanel(true)\n    }\n  }, [streamingManager, leftTrack, rightTrack])\n\n  //  SICUREZZA: Gestisce il click del pulsante streaming con conferme\n  const handleStreamingButtonClick = useCallback(() => {\n    if (streamStatus === 'disconnected' || (streamStatus === 'connected' && !isStreaming)) {\n      // Mostra conferma per avvio streaming\n      setPendingStreamingAction('start')\n      setShowStartConfirmation(true)\n    } else if (isStreaming) {\n      // Mostra conferma per stop streaming\n      setPendingStreamingAction('stop')\n      setShowStopConfirmation(true)\n    } else {\n      //  FIX: Disconnessione immediata con stop completo\n      console.log(' [DISCONNECT CLICK] Disconnessione immediata richiesta...')\n      \n      // 1. Ferma immediatamente i deck se sono attivi\n      console.log(' [DISCONNECT CLICK] Fermando immediatamente tutti i deck...')\n      \n      // Ferma deck sinistro\n      const leftAudio = document.getElementById('left-audio') as HTMLAudioElement\n      if (leftAudio && !leftAudio.paused) {\n        console.log(' [DISCONNECT CLICK] Fermando deck LEFT')\n        leftAudio.pause()\n        leftAudio.currentTime = 0\n        // Aggiorna stato locale\n        if (leftTrack) {\n          setLeftTrack({ ...leftTrack, isPlaying: false })\n        }\n      }\n      \n      // Ferma deck destro\n      const rightAudio = document.getElementById('right-audio') as HTMLAudioElement\n      if (rightAudio && !rightAudio.paused) {\n        console.log(' [DISCONNECT CLICK] Fermando deck RIGHT')\n        rightAudio.pause()\n        rightAudio.currentTime = 0\n        // Aggiorna stato locale\n        if (rightTrack) {\n          setRightTrack({ ...rightTrack, isPlaying: false })\n        }\n      }\n      \n      // 2. Chiama handleDisconnect per il resto\n      handleDisconnect()\n    }\n  }, [streamStatus, isStreaming, leftTrack, rightTrack, handleDisconnect])\n\n  //  SICUREZZA: Esegue l'azione di avvio streaming dopo conferma\n  const handleStartStreamingConfirmed = useCallback(async () => {\n    setShowStartConfirmation(false)\n    setPendingStreamingAction(null)\n    \n    try {\n      if (streamStatus === 'disconnected') {\n        // Prima connessione\n        console.log(' Connessione al server streaming...')\n        \n        //  FIX: Reset flag disconnessione utente per permettere riconnessione\n        streamingManager.resetRetryLimit()\n        streamingManager.resetUserDisconnectFlag() //  CRITICAL FIX: Reset flag disconnessione utente solo per nuovo avvio manuale\n        console.log(' [REBUILT DJ] Flag userRequestedDisconnect resettato per nuovo avvio manuale')\n        \n        setStreamStatus('connecting')\n        const connected = await streamingManager.connect()\n        \n        if (!connected) {\n          setStreamError('Connessione fallita - verifica le impostazioni')\n          setStreamStatus('disconnected')\n          setShowDebugPanel(true)\n        } else {\n          //  AUTO-START: Avvia automaticamente lo streaming dopo la connessione\n          console.log(' Connesso! Avvio automatico streaming...')\n          setTimeout(async () => {\n            try {\n              //  FIX: Controlla se l'utente ha richiesto la disconnessione\n              if (streamingManager.isUserRequestedDisconnect) {\n                console.log(' [AUTO-START] Disconnessione richiesta dall\\'utente - salto auto-start')\n                return\n              }\n              \n              //  CRITICAL FIX: Imposta flag PRIMA di creare mixed stream\n              ;(window as any).isCurrentlyStreaming = true\n              console.log(' Flag isCurrentlyStreaming impostato PRIMA di getMixedStream')\n              \n              //  CLEANUP: Pulisci audio residuo DOPO aver impostato il flag\n              console.log(' [STREAMING] Cleanup audio residuo dopo aver impostato flag streaming...')\n              if ((window as any).cleanupAllAudioStreams) {\n                ;(window as any).cleanupAllAudioStreams()\n              }\n\n              //  Riusa stream cached o creane uno nuovo SOLO se necessario\n              if (!cachedMixedStreamRef.current) {\n                console.log(' Creazione NUOVO mixed stream (non cached)')\n                cachedMixedStreamRef.current = await getMixedStream(undefined, undefined, pttActive)\n                console.log(' getMixedStream result:', {\n                  isNull: cachedMixedStreamRef.current === null,\n                  isUndefined: cachedMixedStreamRef.current === undefined,\n                  type: typeof cachedMixedStreamRef.current,\n                  constructor: cachedMixedStreamRef.current?.constructor?.name,\n                  isMediaStream: cachedMixedStreamRef.current instanceof MediaStream,\n                  active: cachedMixedStreamRef.current?.active,\n                  tracks: cachedMixedStreamRef.current?.getTracks?.()?.length,\n                  actualValue: cachedMixedStreamRef.current\n                })\n              } else {\n                console.log(' Riuso mixed stream esistente (cached)')\n              }\n              \n              if (!cachedMixedStreamRef.current) {\n                console.error(' getMixedStream ha restituito null - impossibile avviare streaming')\n                setStreamError('Errore audio - impossibile creare mixed stream')\n                setStreamStatus('connected')\n                return\n              }\n              \n              //  USA CONTINUOUS STREAMING MANAGER\n              const { localDatabase } = await import('../../database/LocalDatabase')\n              const defaultServer = await localDatabase.getDefaultIcecastServer()\n              if (!defaultServer) {\n                setStreamError('Nessun server Icecast configurato per auto-start')\n                setShowDebugPanel(true)\n                return\n              }\n              \n              //  CRITICAL FIX: Carica settings nel scope corretto\n              const s = await localDatabase.getSettings()\n              \n              const streamConfig = {\n                host: defaultServer.host,\n                port: defaultServer.port,\n                username: defaultServer.username,\n                password: defaultServer.password,\n                mountpoint: defaultServer.mount,\n                useSSL: !!defaultServer.useSSL,\n                bitrate: s.streaming.defaultBitrate || 128,\n                format: (s.streaming.defaultFormat || 'mp3') as 'opus' | 'mp3'\n              }\n              const started = await streamingManager.startStreamingWithConfig(streamConfig)\n              \n              if (!started) {\n                setStreamError('Avvio streaming fallito dopo connessione')\n                setShowDebugPanel(true)\n              } else {\n                console.log(' Streaming avviato con successo')\n              }\n            } catch (error) {\n              console.error(' Errore avvio automatico streaming:', error)\n              setStreamError(`Auto-start error: ${error}`)\n              setShowDebugPanel(true)\n            }\n          }, 1000) // Aspetta 1 secondo per stabilizzare la connessione\n        }\n      } else if (streamStatus === 'connected' && !isStreaming) {\n        // Avvia streaming\n        console.log(' Avvio streaming...')\n        \n        //  CRITICAL FIX: Imposta flag PRIMA di creare mixed stream\n        ;(window as any).isCurrentlyStreaming = true\n        console.log(' Flag isCurrentlyStreaming impostato PRIMA di getMixedStream')\n        \n        const mixed = await getMixedStream(undefined, undefined, pttActive)\n        \n        //  USA CONTINUOUS STREAMING MANAGER\n        const { localDatabase } = await import('../../database/LocalDatabase')\n        const defaultServer = await localDatabase.getDefaultIcecastServer()\n        if (!defaultServer) {\n          setStreamError('Nessun server Icecast configurato')\n          setShowDebugPanel(true)\n          return\n        }\n        \n        //  CRITICAL FIX: Carica settings nel scope corretto\n        const s = await localDatabase.getSettings()\n        \n        const streamConfig = {\n          host: defaultServer.host,\n          port: defaultServer.port,\n          username: defaultServer.username,\n          password: defaultServer.password,\n          mountpoint: defaultServer.mount,\n          useSSL: !!defaultServer.useSSL,\n          bitrate: s.streaming.defaultBitrate || 128,\n          format: (s.streaming.defaultFormat || 'mp3') as 'opus' | 'mp3',\n          djName: s.streaming.metadata?.stationName || 'DJ Console Pro'  //  NICKNAME DJ PER STREAMING\n        }\n        const started = await streamingManager.startStreamingWithConfig(streamConfig)\n        \n        if (!started) {\n          setStreamError('Avvio streaming fallito')\n          setShowDebugPanel(true)\n        } else {\n          console.log(' Streaming avviato con successo')\n        }\n      } else if (isStreaming) {\n        // Ferma streaming\n        console.log(' Stop streaming...')\n        console.log(' [STOP STREAMING] Impostando flag userRequestedDisconnect a TRUE')\n        //  CRITICAL FIX: Usa disconnect invece di stopStreaming per impostare il flag\n        streamingManager.disconnect()\n        setStreamStatus('disconnected')\n        setIsStreaming(false)\n        //  Rimuovi flag globale streaming\n        ;(window as any).isCurrentlyStreaming = false\n        \n        //  CLEANUP: Pulisci audio residuo dopo stop streaming (ora pu fermare l'audio locale)\n        console.log(' [STREAMING] Cleanup audio residuo dopo stop streaming...')\n        if ((window as any).cleanupAllAudioStreams) {\n          ;(window as any).cleanupAllAudioStreams()\n        }\n        \n        //  CRITICAL FIX: Ripristina volumi HTML originali quando streaming si ferma\n        console.log(' [STREAMING STOP] Restoring original HTML volumes...')\n        // Note: I volumi verranno ripristinati dal prossimo calculateVolumes() call\n        console.log(' Streaming fermato - flag globale rimosso')\n      } else {\n        //  FIX: Disconnessione immediata con stop completo\n        console.log(' [DISCONNECT] Disconnessione immediata richiesta...')\n        \n        // 1. Ferma immediatamente i deck se sono attivi\n        console.log(' [DISCONNECT] Fermando immediatamente tutti i deck...')\n        \n        // Ferma deck sinistro\n        const leftAudio = document.getElementById('left-audio') as HTMLAudioElement\n        if (leftAudio && !leftAudio.paused) {\n          console.log(' [DISCONNECT] Fermando deck LEFT')\n          leftAudio.pause()\n          leftAudio.currentTime = 0\n          // Aggiorna stato locale\n          if (leftTrack) {\n            setLeftTrack({ ...leftTrack, isPlaying: false })\n          }\n        }\n        \n        // Ferma deck destro\n        const rightAudio = document.getElementById('right-audio') as HTMLAudioElement\n        if (rightAudio && !rightAudio.paused) {\n          console.log(' [DISCONNECT] Fermando deck RIGHT')\n          rightAudio.pause()\n          rightAudio.currentTime = 0\n          // Aggiorna stato locale\n          if (rightTrack) {\n            setRightTrack({ ...rightTrack, isPlaying: false })\n          }\n        }\n        \n        // 2. Disconnetti e ferma tutti i retry\n        console.log(' [DISCONNECT] Disconnessione streaming manager...')\n        streamingManager.disconnect()\n        setStreamStatus('disconnected')\n        setIsStreaming(false)\n        \n        // 3. Rimuovi flag globale streaming PRIMA del cleanup\n        ;(window as any).isCurrentlyStreaming = false\n        \n        // 4. CLEANUP: Pulisci audio residuo dopo disconnessione\n        console.log(' [DISCONNECT] Cleanup audio residuo dopo disconnessione...')\n        if ((window as any).cleanupAllAudioStreams) {\n          ;(window as any).cleanupAllAudioStreams()\n        }\n        \n        // 5. Pulisci cache mixed stream\n        cachedMixedStreamRef.current = null\n        console.log(' [DISCONNECT] Cache mixed stream pulita - disconnessione completata')\n      }\n    } catch (error) {\n      console.error(' Errore pulsante streaming:', error)\n      setStreamError(`Button error: ${error}`)\n      setShowDebugPanel(true)\n    }\n  }, [streamStatus, isStreaming, streamingManager, getMixedStream, pttActive])\n\n  //  SICUREZZA: Esegue l'azione di stop streaming dopo conferma\n  const handleStopStreamingConfirmed = useCallback(() => {\n    setShowStopConfirmation(false)\n    setPendingStreamingAction(null)\n    \n    try {\n      // Ferma streaming\n      console.log(' Fermata streaming...')\n      console.log(' [STOP STREAMING] Impostando flag userRequestedDisconnect a TRUE')\n      //  CRITICAL FIX: Imposta flag disconnessione utente PRIMA di fermare lo streaming\n      streamingManager.disconnect() // Usa disconnect invece di stopStreaming per impostare il flag\n      setStreamStatus('disconnected') // Cambia a disconnected invece di connected\n      setIsStreaming(false)\n      \n      //  Rimuovi flag globale streaming PRIMA del cleanup\n      ;(window as any).isCurrentlyStreaming = false\n      console.log(' Streaming fermato - flag globale rimosso')\n      \n      //  FIX: Ferma la riproduzione dei deck quando si ferma lo streaming\n      console.log(' [STOP STREAMING] Fermando riproduzione deck dopo stop streaming...')\n      if (leftTrack && leftTrack.isPlaying) {\n        console.log(' [STOP STREAMING] Fermando deck LEFT')\n        const leftAudio = document.getElementById('left-audio') as HTMLAudioElement\n        if (leftAudio) {\n          leftAudio.pause()\n          leftAudio.currentTime = 0\n        }\n      }\n      if (rightTrack && rightTrack.isPlaying) {\n        console.log(' [STOP STREAMING] Fermando deck RIGHT')\n        const rightAudio = document.getElementById('right-audio') as HTMLAudioElement\n        if (rightAudio) {\n          rightAudio.pause()\n          rightAudio.currentTime = 0\n        }\n      }\n    } catch (error) {\n      console.error(' Errore stop streaming:', error)\n      setStreamError(`Stop error: ${error}`)\n      setShowDebugPanel(true)\n    }\n  }, [streamingManager, leftTrack, rightTrack])\n\n\n  // Listener per sincronizzare lo stato streaming dal componente StreamingControl\n  useEffect(() => {\n    const handleStreamingStatusChange = (event: CustomEvent) => {\n      const { status, isStreaming: streaming, error } = event.detail\n      console.log(` Streaming status changed: ${status}, streaming: ${streaming}`)\n      setStreamStatus(status)\n      setIsStreaming(streaming)\n      setStreamError(error)\n    }\n\n    // Listener per track-ended dal sistema audio per auto-avanzamento\n    const handleTrackEnded = (event: CustomEvent) => {\n      const { deckId } = event.detail\n      console.log(` [REBUILT DJ] Track ended on deck ${deckId}, checking auto-advance`)\n      \n      if (!settings.interface.autoAdvance) {\n        console.log(' [REBUILT DJ] Auto-avanzamento disabilitato nelle impostazioni')\n        return\n      }\n\n      // Converte deckId da 'A'/'B' a 'left'/'right' \n      const side = deckId === 'A' ? 'left' : 'right'\n      console.log(` [REBUILT DJ] Chiamando handleAutoAdvance per deck ${side}`)\n      handleAutoAdvance(side)\n    }\n\n    // Eventi dal StreamingControl e sistema audio\n    window.addEventListener('djconsole:streaming-status-changed', handleStreamingStatusChange as EventListener)\n    window.addEventListener('djconsole:track-ended', handleTrackEnded as EventListener)\n    \n    return () => {\n      window.removeEventListener('djconsole:streaming-status-changed', handleStreamingStatusChange as EventListener)\n      window.removeEventListener('djconsole:track-ended', handleTrackEnded as EventListener)\n    }\n  }, [settings.interface.autoAdvance, handleAutoAdvance])\n\n  //  EXPOSE: Esponi getMixedStream globalmente per uso esterno\n  ;(window as any).getMixedStream = getMixedStream\n  \n  //  EXPOSE: Funzione per controllare il volume del Live Stream (richiesta dal PTT)\n  const setLiveStreamVolume = useCallback((volume: number) => {\n    const clampedVolume = Math.max(0, Math.min(1, volume))\n    console.log(` [LIVE STREAM] Volume Live Stream impostato: ${Math.round(clampedVolume * 100)}%`)\n    \n    //  Salva il volume corrente per il PTT\n    ;(window as any).__currentStreamVolume__ = clampedVolume\n    \n    //  Dispatch evento per aggiornare altri componenti\n    window.dispatchEvent(new CustomEvent('djconsole:stream-volume-change', {\n      detail: { volume: clampedVolume }\n    }))\n  }, [])\n  \n  //  EXPOSE: Rendi disponibile setLiveStreamVolume globalmente per il PTT\n  ;(window as any).setLiveStreamVolume = setLiveStreamVolume\n  \n  //  EXPOSE: Inizializza il volume corrente del LiveStream per il PTT\n  ;(window as any).__currentStreamVolume__ = 1.0 // Default al 100% (come richiesto dall'utente)\n  \n  return (\n    <div className=\"min-h-screen bg-dj-dark text-white overflow-y-auto\">\n      {/* Header principale */}\n      <header className=\"bg-dj-primary border-b border-dj-accent/30 p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <h1 className=\"text-2xl font-dj font-bold text-white flex items-center space-x-3\">\n              <Activity className=\"w-8 h-8 text-dj-highlight\" />\n              <span>DJ Console Pro</span>\n            </h1>\n            \n            {/* Indicatori stato deck */}\n            <div className=\"flex items-center space-x-4\">\n              <div className={`flex items-center space-x-2 px-3 py-1 rounded-full transition-all duration-300 ${\n                leftDeckActive ? 'bg-green-500/20 border border-green-500/40' : 'bg-gray-500/20 border border-gray-500/40'\n              }`}>\n                <div className={`w-2 h-2 rounded-full ${leftDeckActive ? 'bg-green-500 animate-pulse' : 'bg-gray-500'}`} />\n                <span className=\"text-xs font-medium\">Deck A</span>\n              </div>\n              \n              <div className={`flex items-center space-x-2 px-3 py-1 rounded-full transition-all duration-300 ${\n                rightDeckActive ? 'bg-green-500/20 border border-green-500/40' : 'bg-gray-500/20 border border-gray-500/40'\n              }`}>\n                <div className={`w-2 h-2 rounded-full ${rightDeckActive ? 'bg-green-500 animate-pulse' : 'bg-gray-500'}`} />\n                <span className=\"text-xs font-medium\">Deck B</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Controlli header */}\n          <div className=\"flex items-center space-x-3\">\n            {/* Indicatore auto-avanzamento */}\n            <div className={`flex items-center space-x-2 px-3 py-1 rounded-lg ${\n              settings.interface.autoAdvance \n                ? 'bg-dj-highlight/20 text-dj-highlight border border-dj-highlight/40' \n                : 'bg-gray-500/20 text-gray-400 border border-gray-500/40'\n            }`}>\n              <div className={`w-2 h-2 rounded-full ${settings.interface.autoAdvance ? 'bg-dj-highlight animate-pulse' : 'bg-gray-400'}`} />\n              <span className=\"text-xs font-medium\">Auto-Advance</span>\n            </div>\n\n            {/* Indicatore loop playlist */}\n            <div className={`flex items-center space-x-2 px-3 py-1 rounded-lg ${\n              settings.interface.playlistLoop \n                ? 'bg-green-500/20 text-green-400 border border-green-500/40' \n                : 'bg-gray-500/20 text-gray-400 border border-gray-500/40'\n            }`}>\n              <div className={`w-2 h-2 rounded-full ${settings.interface.playlistLoop ? 'bg-green-500 animate-pulse' : 'bg-gray-400'}`} />\n              <span className=\"text-xs font-medium\">Loop Playlist</span>\n            </div>\n\n            {/* Pulsanti azione */}\n            <button\n              className=\"p-2 bg-dj-secondary hover:bg-dj-accent rounded-lg transition-colors\"\n              title=\"Impostazioni\"\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n\n            {/* Pulsante Notifiche */}\n            <button\n              onClick={() => setShowDebugPanel(!showDebugPanel)}\n              className={`relative p-2 rounded-lg transition-colors ${\n                showDebugPanel \n                  ? 'bg-green-600 text-white' \n                  : 'bg-dj-secondary hover:bg-dj-accent text-dj-light'\n              }`}\n              title=\"Notifiche e Debug\"\n            >\n              <Bell className=\"w-5 h-5\" />\n              {errorCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold\">\n                  {errorCount > 99 ? '99+' : errorCount}\n                </span>\n              )}\n            </button>\n            \n            {/* BELLISSIMO STREAMING BUTTON - Ripristinato come prima! */}\n            <button\n              onClick={handleStreamingButtonClick}\n              disabled={streamStatus === 'connecting'}\n              className={`p-2 rounded-lg transition-all duration-200 relative ${\n                isStreaming\n                  ? 'bg-blue-500 text-white shadow-lg ring-2 ring-blue-300'\n                  : streamStatus === 'connecting'\n                  ? 'bg-yellow-500 text-white animate-pulse cursor-not-allowed'\n                  : streamStatus === 'connected'\n                  ? 'bg-green-500 text-white shadow-lg'\n                  : streamError\n                  ? 'bg-red-500 text-white shadow-lg'\n                  : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n              title={\n                streamStatus === 'streaming' ? 'LIVE STREAMING - Click to stop' :\n                streamStatus === 'connecting' ? 'Connecting and starting streaming...' :\n                streamStatus === 'connected' ? 'Connected - Starting stream...' :\n                streamError ? `Stream Error: ${streamError}` :\n                'Click to Start Live Streaming'\n              }\n            >\n              <Radio className=\"w-5 h-5\" />\n              {streamStatus === 'connecting' && (\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-300 rounded-full animate-ping\"></div>\n              )}\n              {isStreaming && (\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-blue-300 rounded-full animate-pulse\"></div>\n              )}\n              {streamStatus === 'connected' && !isStreaming && (\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-green-300 rounded-full animate-pulse\"></div>\n              )}\n              {streamError && (\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-300 rounded-full animate-bounce\"></div>\n              )}\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Area principale */}\n      <div className=\"p-4 space-y-4\">\n        {/* Riga dei deck */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n          <EnhancedDeck\n            side=\"left\"\n            deckId=\"A\"\n            track={leftTrack}\n            onTrackLoad={handleLeftTrackLoad}\n            onAutoAdvance={handleAutoAdvance}\n          />\n          \n          <EnhancedDeck\n            side=\"right\"\n            deckId=\"B\"\n            track={rightTrack}\n            onTrackLoad={handleRightTrackLoad}\n            onAutoAdvance={handleAutoAdvance}\n          />\n        </div>\n\n        {/* Effetti Audio */}\n        <DeckEffects />\n\n        {/* Mixer e controlli */}\n        <EnhancedMixer\n          leftDeckActive={leftDeckActive}\n          rightDeckActive={rightDeckActive}\n          onMasterVolumeChange={handleMasterVolumeChange}\n          onStreamVolumeChange={handleStreamVolumeChange}\n          onPTTActivate={handlePTTActivate}\n        />\n\n        {/* Playlist */}\n        <EnhancedPlaylist\n          activePlaylistId={activePlaylistId}\n          onPlaylistChange={setActivePlaylistId}\n          onTrackLoad={handleTrackLoadInternal}\n          leftDeckActive={leftDeckActive}\n          rightDeckActive={rightDeckActive}\n        />\n\n        {/* RIMUOVO IL GRANDE PANNELLO STREAMING - ora solo il pulsante funziona */}\n      </div>\n\n      {/* Auto-advance manager (invisibile) */}\n      <AutoAdvanceManager\n        activePlaylistId={activePlaylistId}\n        onTrackLoad={handleTrackLoadInternal}\n        onDuplicateTrackWarning={handleDuplicateTrackWarning}\n      />\n\n      {/* Dialog traccia duplicata */}\n      <DuplicateTrackDialog\n        track={duplicateDialog.track}\n        activeDeck={duplicateDialog.activeDeck}\n        onConfirm={handleDuplicateConfirm}\n        onCancel={handleDuplicateCancel}\n        isVisible={duplicateDialog.isVisible}\n      />\n\n\n      {/* Piccolo Debug Panel in basso a destra */}\n      <StreamingDebugPanel\n        isVisible={showDebugPanel}\n        onClose={() => setShowDebugPanel(false)}\n        streamStatus={streamStatus}\n        isStreaming={isStreaming}\n        streamError={streamError}\n        debugMessages={debugMessages}\n      />\n\n\n      {/* Footer informativo */}\n      <footer className=\"bg-dj-primary border-t border-dj-accent/30 p-4 mt-8\">\n        <div className=\"flex items-center justify-between text-sm text-dj-light/60\">\n          <div className=\"flex items-center space-x-6\">\n            <div className=\"flex items-center space-x-2\">\n              <Headphones className=\"w-4 h-4\" />\n              <span>Audio separato: Locale vs Streaming</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Activity className=\"w-4 h-4\" />\n              <span>Auto-avanzamento: {settings.interface.autoAdvance ? 'Attivo' : 'Disattivo'}</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Activity className=\"w-4 h-4\" />\n              <span>Loop Playlist: {settings.interface.playlistLoop ? 'Attivo' : 'Disattivo'}</span>\n            </div>\n          </div>\n          <div>\n            <span>PTT: Tieni premuto M per attivare il microfono</span>\n          </div>\n        </div>\n      </footer>\n\n      {/*  SICUREZZA: Dialogo avviso silenzio */}\n      <ConfirmationDialog\n        isOpen={showSilenceWarning}\n        title=\" Avviso Silenzio\"\n        message={`Rilevato silenzio prolungato! Lo streaming verr disconnesso automaticamente in ${silenceSecondsRemaining} secondi se non viene rilevato audio.`}\n        confirmText=\"OK\"\n        cancelText=\"\"\n        onConfirm={() => setShowSilenceWarning(false)}\n        onCancel={() => setShowSilenceWarning(false)}\n        type=\"warning\"\n      />\n\n      {/*  SICUREZZA: Dialoghi di conferma streaming */}\n      <ConfirmationDialog\n        isOpen={showStartConfirmation}\n        title=\" Avvio Streaming Live\"\n        message=\"Sei sicuro di voler andare in diretta? Lo streaming inizier immediatamente e sar visibile a tutti gli ascoltatori.\"\n        confirmText=\"S, VAI IN DIRETTA\"\n        cancelText=\"Annulla\"\n        onConfirm={handleStartStreamingConfirmed}\n        onCancel={() => {\n          setShowStartConfirmation(false)\n          setPendingStreamingAction(null)\n        }}\n        type=\"warning\"\n      />\n\n      <ConfirmationDialog\n        isOpen={showStopConfirmation}\n        title=\" Stop Streaming Live\"\n        message=\"Sei sicuro di voler interrompere la trasmissione? Lo streaming si fermer immediatamente e gli ascoltatori perderanno la connessione.\"\n        confirmText=\"S, FERMA STREAMING\"\n        cancelText=\"Annulla\"\n        onConfirm={handleStopStreamingConfirmed}\n        onCancel={() => {\n          setShowStopConfirmation(false)\n          setPendingStreamingAction(null)\n        }}\n        type=\"danger\"\n      />\n    </div>\n  )\n}\n\nexport default RebuiltDJConsole\n","import React, { useEffect, useState } from 'react'\r\nimport { useAudio } from '../contexts/AudioContext'\r\n\r\nconst TestAudioControls: React.FC = () => {\r\n  const { state, handlePlayPauseDefinitive } = useAudio()\r\n  const [testResults, setTestResults] = useState<string[]>([])\r\n  const [isTesting, setIsTesting] = useState(false)\r\n\r\n  const addTestResult = (result: string) => {\r\n    setTestResults(prev => [...prev, `${new Date().toLocaleTimeString()}: ${result}`])\r\n  }\r\n\r\n  const runAudioControlsTest = async () => {\r\n    setIsTesting(true)\r\n    setTestResults([])\r\n    \r\n    addTestResult(' Iniziando test controlli audio...')\r\n    \r\n    try {\r\n      // Test 1: Verifica stato iniziale\r\n      addTestResult(' Test 1: Verifica stato iniziale')\r\n      addTestResult(`   - Left deck: ${state.leftDeck.track ? 'Track caricata' : 'Nessuna track'}`)\r\n      addTestResult(`   - Right deck: ${state.rightDeck.track ? 'Track caricata' : 'Nessuna track'}`)\r\n      \r\n      // Test 2: Verifica controlli play/pause\r\n      addTestResult(' Test 2: Verifica controlli play/pause')\r\n      \r\n      if (state.leftDeck.track) {\r\n        addTestResult('   - Testando left deck...')\r\n        const wasPlaying = state.leftDeck.isPlaying\r\n        \r\n        addTestResult(`   - Stato iniziale: ${wasPlaying ? 'Playing' : 'Paused'}`)\r\n        \r\n        // Testa play/pause\r\n        handlePlayPauseDefinitive('left')\r\n        \r\n        // Aspetta pi tempo per permettere l'aggiornamento dello stato\r\n        await new Promise(resolve => setTimeout(resolve, 500))\r\n        \r\n        const newState = state.leftDeck.isPlaying\r\n        addTestResult(`   - Stato dopo controllo: ${newState ? 'Playing' : 'Paused'}`)\r\n        \r\n        if (newState !== wasPlaying) {\r\n          addTestResult('    Left deck: Controlli funzionanti')\r\n        } else {\r\n          addTestResult('    Left deck: Controlli non funzionanti')\r\n          addTestResult('    Debug: Stato non  cambiato dopo handlePlayPauseDefinitive')\r\n        }\r\n      } else {\r\n        addTestResult('    Left deck: Nessuna track per testare')\r\n      }\r\n      \r\n      if (state.rightDeck.track) {\r\n        addTestResult('   - Testando right deck...')\r\n        const wasPlaying = state.rightDeck.isPlaying\r\n        \r\n        addTestResult(`   - Stato iniziale: ${wasPlaying ? 'Playing' : 'Paused'}`)\r\n        \r\n        // Testa play/pause\r\n        handlePlayPauseDefinitive('right')\r\n        \r\n        // Aspetta pi tempo per permettere l'aggiornamento dello stato\r\n        await new Promise(resolve => setTimeout(resolve, 500))\r\n        \r\n        const newState = state.rightDeck.isPlaying\r\n        addTestResult(`   - Stato dopo controllo: ${newState ? 'Playing' : 'Paused'}`)\r\n        \r\n        if (newState !== wasPlaying) {\r\n          addTestResult('    Right deck: Controlli funzionanti')\r\n        } else {\r\n          addTestResult('    Right deck: Controlli non funzionanti')\r\n          addTestResult('    Debug: Stato non  cambiato dopo handlePlayPauseDefinitive')\r\n        }\r\n      } else {\r\n        addTestResult('    Right deck: Nessuna track per testare')\r\n      }\r\n      \r\n      // Test 3: Verifica sincronizzazione stato\r\n      addTestResult(' Test 3: Verifica sincronizzazione stato')\r\n      addTestResult(`   - Left deck playing: ${state.leftDeck.isPlaying}`)\r\n      addTestResult(`   - Right deck playing: ${state.rightDeck.isPlaying}`)\r\n      addTestResult(`   - Left deck time: ${state.leftDeck.currentTime.toFixed(1)}s`)\r\n      addTestResult(`   - Right deck time: ${state.rightDeck.currentTime.toFixed(1)}s`)\r\n      \r\n      // Test 4: Verifica elementi HTML audio\r\n      addTestResult(' Test 4: Verifica elementi HTML audio')\r\n      const leftAudio = document.querySelector('audio[data-deck=\"left\"]') as HTMLAudioElement\r\n      const rightAudio = document.querySelector('audio[data-deck=\"right\"]') as HTMLAudioElement\r\n      \r\n      if (leftAudio) {\r\n        addTestResult(`   - Left audio element: ${leftAudio.paused ? 'Paused' : 'Playing'}`)\r\n        addTestResult(`   - Left audio src: ${leftAudio.src ? 'Presente' : 'Mancante'}`)\r\n        addTestResult(`   - Left audio currentTime: ${leftAudio.currentTime.toFixed(1)}s`)\r\n      } else {\r\n        addTestResult('    Left audio element non trovato')\r\n      }\r\n      \r\n      if (rightAudio) {\r\n        addTestResult(`   - Right audio element: ${rightAudio.paused ? 'Paused' : 'Playing'}`)\r\n        addTestResult(`   - Right audio src: ${rightAudio.src ? 'Presente' : 'Mancante'}`)\r\n        addTestResult(`   - Right audio currentTime: ${rightAudio.currentTime.toFixed(1)}s`)\r\n      } else {\r\n        addTestResult('    Right audio element non trovato')\r\n      }\r\n      \r\n      // Test 5: Verifica persistenza\r\n      addTestResult(' Test 5: Verifica persistenza')\r\n      addTestResult('   - Simulando cambio pagina...')\r\n      \r\n      // Simula un cambio di pagina salvando lo stato\r\n      const savedState = {\r\n        leftDeck: { ...state.leftDeck },\r\n        rightDeck: { ...state.rightDeck }\r\n      }\r\n      \r\n      addTestResult('   - Stato salvato per persistenza')\r\n      addTestResult('   - Simulando ritorno alla console...')\r\n      \r\n      // Simula il ritorno alla console\r\n      setTimeout(() => {\r\n        addTestResult('   - Console ripristinata')\r\n        addTestResult(`   - Left deck ripristinato: ${savedState.leftDeck.track?.title || 'Nessuna'}`)\r\n        addTestResult(`   - Right deck ripristinato: ${savedState.rightDeck.track?.title || 'Nessuna'}`)\r\n        addTestResult(' Test completato con successo!')\r\n        setIsTesting(false)\r\n      }, 1000)\r\n      \r\n    } catch (error) {\r\n      addTestResult(` Errore durante il test: ${error}`)\r\n      setIsTesting(false)\r\n    }\r\n  }\r\n\r\n  const clearResults = () => {\r\n    setTestResults([])\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4 bg-dj-dark text-white\">\r\n      <h2 className=\"text-xl font-bold mb-4\"> Test Controlli Audio</h2>\r\n      \r\n      <div className=\"mb-4\">\r\n        <button\r\n          onClick={runAudioControlsTest}\r\n          disabled={isTesting}\r\n          className=\"px-4 py-2 bg-dj-highlight text-white rounded hover:bg-dj-highlight-dark disabled:opacity-50\"\r\n        >\r\n          {isTesting ? ' Test in corso...' : ' Avvia Test'}\r\n        </button>\r\n        \r\n        <button\r\n          onClick={clearResults}\r\n          className=\"ml-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\"\r\n        >\r\n           Pulisci Risultati\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => {\r\n            addTestResult(' Test diretto controlli audio...')\r\n            if (state.leftDeck.track) {\r\n              addTestResult('   - Testando left deck...')\r\n              const wasPlaying = state.leftDeck.isPlaying\r\n              addTestResult(`   - Stato prima: ${wasPlaying ? 'Playing' : 'Paused'}`)\r\n              handlePlayPauseDefinitive('left')\r\n              setTimeout(() => {\r\n                const newState = state.leftDeck.isPlaying\r\n                addTestResult(`   - Stato dopo: ${newState ? 'Playing' : 'Paused'}`)\r\n                if (newState !== wasPlaying) {\r\n                  addTestResult('    Left deck: Controlli funzionanti!')\r\n                } else {\r\n                  addTestResult('    Left deck: Controlli non funzionano')\r\n                }\r\n              }, 1000)\r\n            }\r\n          }}\r\n          className=\"ml-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\"\r\n        >\r\n           Test Diretto\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"mb-4\">\r\n        <h3 className=\"text-lg font-semibold mb-2\"> Stato Attuale:</h3>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"bg-dj-darker p-3 rounded\">\r\n            <h4 className=\"font-semibold text-dj-highlight\">Left Deck</h4>\r\n            <p>Track: {state.leftDeck.track?.title || 'Nessuna'}</p>\r\n            <p>Playing: {state.leftDeck.isPlaying ? '' : ''}</p>\r\n            <p>Time: {state.leftDeck.currentTime.toFixed(1)}s</p>\r\n          </div>\r\n          <div className=\"bg-dj-darker p-3 rounded\">\r\n            <h4 className=\"font-semibold text-dj-highlight\">Right Deck</h4>\r\n            <p>Track: {state.rightDeck.track?.title || 'Nessuna'}</p>\r\n            <p>Playing: {state.rightDeck.isPlaying ? '' : ''}</p>\r\n            <p>Time: {state.rightDeck.currentTime.toFixed(1)}s</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-2\"> Risultati Test:</h3>\r\n        <div className=\"bg-dj-darker p-3 rounded max-h-96 overflow-y-auto\">\r\n          {testResults.length === 0 ? (\r\n            <p className=\"text-gray-400\">Nessun test eseguito. Clicca \"Avvia Test\" per iniziare.</p>\r\n          ) : (\r\n            testResults.map((result, index) => (\r\n              <div key={index} className=\"mb-1 font-mono text-sm\">\r\n                {result}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"mt-4 p-3 bg-blue-900 rounded\">\r\n        <h4 className=\"font-semibold text-blue-200\"> Come usare questo test:</h4>\r\n        <ol className=\"list-decimal list-inside text-sm text-blue-100\">\r\n          <li>Carica una traccia in uno dei deck</li>\r\n          <li>Avvia il test per verificare i controlli</li>\r\n          <li>Cambia pagina e torna alla console</li>\r\n          <li>Verifica che i controlli funzionino ancora</li>\r\n          <li>Esegui nuovamente il test per confermare</li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TestAudioControls\r\n","import React, { useState, useEffect } from 'react'\nimport { localDatabase } from '../database/LocalDatabase'\nimport { useAudio } from '../contexts/AudioContext'\nimport { usePlaylist } from '../contexts/PlaylistContext'\nimport TestAudioControls from './TestAudioControls'\n\nfunction createSilentWavBlob(durationSeconds: number = 1, sampleRate: number = 48000): Blob {  //  FIX: Opus supporta 48000Hz\n  const numChannels = 1\n  const bitsPerSample = 16\n  const numFrames = durationSeconds * sampleRate\n  const byteRate = (sampleRate * numChannels * bitsPerSample) / 8\n  const blockAlign = (numChannels * bitsPerSample) / 8\n  const dataSize = numFrames * blockAlign\n  const buffer = new ArrayBuffer(44 + dataSize)\n  const view = new DataView(buffer)\n\n  // RIFF header\n  const writeString = (offset: number, s: string) => {\n    for (let i = 0; i < s.length; i++) view.setUint8(offset + i, s.charCodeAt(i))\n  }\n\n  writeString(0, 'RIFF')\n  view.setUint32(4, 36 + dataSize, true)\n  writeString(8, 'WAVE')\n  writeString(12, 'fmt ')\n  view.setUint32(16, 16, true) // Subchunk1Size\n  view.setUint16(20, 1, true) // AudioFormat PCM\n  view.setUint16(22, numChannels, true)\n  view.setUint32(24, sampleRate, true)\n  view.setUint32(28, byteRate, true)\n  view.setUint16(32, blockAlign, true)\n  view.setUint16(34, bitsPerSample, true)\n  writeString(36, 'data')\n  view.setUint32(40, dataSize, true)\n\n  // Data (silence)\n  // Already zeroed by ArrayBuffer initialization\n\n  return new Blob([buffer], { type: 'audio/wav' })\n}\n\nconst TestConsole = () => {\n  const [testResults, setTestResults] = useState<string[]>([])\n  const [isRunning, setIsRunning] = useState(false)\n  const { playTrack } = useAudio()\n  const { state: playlistState, createPlaylist } = usePlaylist()\n\n  const addTestResult = (result: string) => {\n    setTestResults(prev => [...prev, `${new Date().toLocaleTimeString()}: ${result}`])\n  }\n\n  const runTests = async () => {\n    setIsRunning(true)\n    setTestResults([])\n    \n    try {\n      // Test 1: Database initialization\n      addTestResult('Testing database initialization...')\n      await localDatabase.waitForInitialization()\n      addTestResult(' Database initialized successfully')\n      \n      // Test 2: Add test track\n      addTestResult('Testing track addition...')\n      const silentBlob = createSilentWavBlob(1)\n      const objectUrl = URL.createObjectURL(silentBlob)\n      const trackId = await localDatabase.addTrack({\n        title: 'Test Track',\n        artist: 'Test Artist',\n        album: 'Test Album',\n        genre: 'Test',\n        duration: 1,\n        url: objectUrl,\n        bpm: 128,\n        key: 'C',\n        energy: 'medium'\n      })\n      addTestResult(` Track added with ID: ${trackId}`)\n      \n      // Test 3: Retrieve track\n      addTestResult('Testing track retrieval...')\n      const track = await localDatabase.getTrack(trackId)\n      if (track) {\n        addTestResult(` Track retrieved: ${track.title} by ${track.artist}`)\n      } else {\n        addTestResult(' Failed to retrieve track')\n      }\n      \n      // Test 4: Create playlist\n      addTestResult('Testing playlist creation...')\n      const playlistId = await localDatabase.createPlaylist({\n        name: 'Test Playlist',\n        description: 'A test playlist',\n        tracks: [trackId],\n        isAutoPlaylist: false\n      })\n      addTestResult(` Playlist created with ID: ${playlistId}`)\n      \n      // Test 5: Get all tracks\n      addTestResult('Testing get all tracks...')\n      const allTracks = await localDatabase.getAllTracks()\n      addTestResult(` Retrieved ${allTracks.length} tracks`)\n      \n      // Test 6: Get all playlists\n      addTestResult('Testing get all playlists...')\n      const allPlaylists = await localDatabase.getAllPlaylists()\n      addTestResult(` Retrieved ${allPlaylists.length} playlists`)\n      \n      // Test 7: Search tracks\n      addTestResult('Testing track search...')\n      const searchResults = await localDatabase.searchTracks('Test')\n      addTestResult(` Search found ${searchResults.length} tracks`)\n      \n      // Test 8: Settings\n      addTestResult('Testing settings...')\n      await localDatabase.updateSettings({\n        audio: { sampleRate: 48000, bitDepth: 24, bufferSize: 1024, latency: 20 }  //  FIX: Opus supporta 48000Hz\n      })\n      const settings = await localDatabase.getSettings()\n      addTestResult(` Settings updated: ${settings.audio.sampleRate}Hz`)\n      \n      // Test 9: Statistics\n      addTestResult('Testing statistics...')\n      const stats = await localDatabase.getStats()\n      addTestResult(` Stats: ${stats.totalTracks} tracks, ${stats.totalPlaylists} playlists`)\n      \n      addTestResult(' All tests completed successfully!')\n      \n    } catch (error) {\n      addTestResult(` Test failed: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    } finally {\n      setIsRunning(false)\n    }\n  }\n\n  const clearResults = () => {\n    setTestResults([])\n  }\n\n  const testPlayTrack = () => {\n    if (playlistState.library.tracks.length > 0) {\n      const track = playlistState.library.tracks[0]\n      playTrack({\n        id: track.id,\n        title: track.title,\n        artist: track.artist,\n        duration: track.duration,\n        url: track.url\n      })\n      addTestResult(` Playing track: ${track.title}`)\n    } else {\n      addTestResult(' No tracks available to play')\n    }\n  }\n\n  const testCreatePlaylist = async () => {\n    try {\n      await createPlaylist('Test Playlist from Context', 'Created via context test')\n      addTestResult(' Playlist created via context')\n    } catch (error) {\n      addTestResult(` Failed to create playlist via context: ${error}`)\n    }\n  }\n\n  return (\n    <div className=\"h-full bg-dj-dark text-white p-6 overflow-auto\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-dj font-bold text-white mb-6\">DJ Console Test Suite</h1>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n          {/* Test Controls */}\n          <div className=\"bg-dj-secondary rounded-xl p-6 border border-dj-accent/20\">\n            <h2 className=\"text-xl font-dj font-bold text-white mb-4\">Test Controls</h2>\n            \n            <div className=\"space-y-3\">\n              <button\n                onClick={runTests}\n                disabled={isRunning}\n                className=\"w-full dj-button\"\n              >\n                {isRunning ? 'Running Tests...' : 'Run All Tests'}\n              </button>\n              \n              <button\n                onClick={testPlayTrack}\n                className=\"w-full dj-button-secondary\"\n              >\n                Test Play Track\n              </button>\n              \n              <button\n                onClick={testCreatePlaylist}\n                className=\"w-full dj-button-secondary\"\n              >\n                Test Create Playlist\n              </button>\n              \n              <button\n                onClick={clearResults}\n                className=\"w-full bg-dj-error hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200\"\n              >\n                Clear Results\n              </button>\n            </div>\n          </div>\n          \n          {/* Database Status */}\n          <div className=\"bg-dj-secondary rounded-xl p-6 border border-dj-accent/20\">\n            <h2 className=\"text-xl font-dj font-bold text-white mb-4\">Database Status</h2>\n            \n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-dj-light/60\">Tracks:</span>\n                <span className=\"text-white\">{playlistState.library.tracks.length}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-dj-light/60\">Playlists:</span>\n                <span className=\"text-white\">{playlistState.library.playlists.length}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-dj-light/60\">Genres:</span>\n                <span className=\"text-white\">{playlistState.library.genres.length}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-dj-light/60\">Artists:</span>\n                <span className=\"text-white\">{playlistState.library.artists.length}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Test Results */}\n        <div className=\"bg-dj-secondary rounded-xl p-6 border border-dj-accent/20\">\n          <h2 className=\"text-xl font-dj font-bold text-white mb-4\">Test Results</h2>\n          \n          {testResults.length === 0 ? (\n            <p className=\"text-dj-light/60 text-center py-8\">No tests run yet. Click \"Run All Tests\" to start.</p>\n          ) : (\n            <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n              {testResults.map((result, index) => (\n                <div key={index} className=\"text-sm font-mono bg-dj-primary rounded p-2\">\n                  {result}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n        \n        {/* Audio Controls Test */}\n        <div className=\"bg-dj-secondary rounded-xl p-6 border border-dj-accent/20 mt-6\">\n          <h2 className=\"text-xl font-dj font-bold text-white mb-4\"> Test Controlli Audio</h2>\n          <TestAudioControls />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TestConsole\n","import React, { createContext, useContext, useRef, useEffect, useState } from 'react'\n\ninterface TimerState {\n  leftDeck: {\n    currentTime: number\n    duration: number\n  }\n  rightDeck: {\n    currentTime: number\n    duration: number\n  }\n}\n\ninterface TimerContextType {\n  state: TimerState\n  updateLeftDeckTime: (time: number) => void\n  updateRightDeckTime: (time: number) => void\n  updateLeftDeckDuration: (duration: number) => void\n  updateRightDeckDuration: (duration: number) => void\n}\n\nconst TimerContext = createContext<TimerContextType | undefined>(undefined)\n\nexport const useTimer = () => {\n  const context = useContext(TimerContext)\n  if (!context) {\n    throw new Error('useTimer must be used within a TimerProvider')\n  }\n  return context\n}\n\ninterface TimerProviderProps {\n  children: React.ReactNode\n}\n\nexport const TimerProvider: React.FC<TimerProviderProps> = ({ children }) => {\n  const [state, setState] = useState<TimerState>({\n    leftDeck: { currentTime: 0, duration: 0 },\n    rightDeck: { currentTime: 0, duration: 0 }\n  })\n\n  const updateLeftDeckTime = (time: number) => {\n    setState(prev => ({\n      ...prev,\n      leftDeck: { ...prev.leftDeck, currentTime: time }\n    }))\n  }\n\n  const updateRightDeckTime = (time: number) => {\n    setState(prev => ({\n      ...prev,\n      rightDeck: { ...prev.rightDeck, currentTime: time }\n    }))\n  }\n\n  const updateLeftDeckDuration = (duration: number) => {\n    setState(prev => ({\n      ...prev,\n      leftDeck: { ...prev.leftDeck, duration }\n    }))\n  }\n\n  const updateRightDeckDuration = (duration: number) => {\n    setState(prev => ({\n      ...prev,\n      rightDeck: { ...prev.rightDeck, duration }\n    }))\n  }\n\n  return (\n    <TimerContext.Provider value={{\n      state,\n      updateLeftDeckTime,\n      updateRightDeckTime,\n      updateLeftDeckDuration,\n      updateRightDeckDuration\n    }}>\n      {children}\n    </TimerContext.Provider>\n  )\n}\n","import React, { Component, ErrorInfo, ReactNode } from 'react'\r\nimport { AlertTriangle, RefreshCw, Home } from 'lucide-react'\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n  fallback?: ReactNode\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean\r\n  error: Error | null\r\n  errorInfo: ErrorInfo | null\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props)\r\n    this.state = { hasError: false, error: null, errorInfo: null }\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error, errorInfo: null }\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo)\r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    })\r\n    \r\n    // Log dell'errore per debugging\r\n    console.group(' ErrorBoundary - Error Details')\r\n    console.error('Error:', error)\r\n    console.error('Error Info:', errorInfo)\r\n    console.error('Component Stack:', errorInfo.componentStack)\r\n    console.groupEnd()\r\n  }\r\n\r\n  handleReload = () => {\r\n    window.location.reload()\r\n  }\r\n\r\n  handleGoHome = () => {\r\n    // Reset dell'errore e torna alla home\r\n    this.setState({ hasError: false, error: null, errorInfo: null })\r\n    // Dispatch evento per tornare alla home\r\n    window.dispatchEvent(new CustomEvent('djconsole:navigate-home'))\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Fallback personalizzato se fornito\r\n      if (this.props.fallback) {\r\n        return this.props.fallback\r\n      }\r\n\r\n      // Fallback di default\r\n      return (\r\n        <div className=\"min-h-screen bg-dj-primary flex items-center justify-center p-4\">\r\n          <div className=\"max-w-md w-full bg-dj-secondary rounded-xl p-6 border border-dj-accent/20\">\r\n            <div className=\"text-center\">\r\n              {/* Icona Errore */}\r\n              <div className=\"mx-auto w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mb-4\">\r\n                <AlertTriangle className=\"w-8 h-8 text-red-500\" />\r\n              </div>\r\n              \r\n              {/* Titolo */}\r\n              <h1 className=\"text-xl font-bold text-white mb-2\">\r\n                Ops! Qualcosa  andato storto\r\n              </h1>\r\n              \r\n              {/* Descrizione */}\r\n              <p className=\"text-dj-light/80 mb-6\">\r\n                L'applicazione ha incontrato un errore inaspettato. Non preoccuparti, i tuoi dati sono al sicuro.\r\n              </p>\r\n              \r\n              {/* Dettagli Errore (solo in sviluppo) */}\r\n              {process.env.NODE_ENV === 'development' && this.state.error && (\r\n                <details className=\"mb-6 text-left\">\r\n                  <summary className=\"text-sm text-dj-light/60 cursor-pointer hover:text-dj-light/80 mb-2\">\r\n                    Dettagli Errore (Sviluppo)\r\n                  </summary>\r\n                  <div className=\"bg-dj-primary p-3 rounded text-xs font-mono text-red-400 overflow-auto max-h-32\">\r\n                    <div className=\"mb-2\">\r\n                      <strong>Error:</strong> {this.state.error.message}\r\n                    </div>\r\n                    {this.state.errorInfo && (\r\n                      <div>\r\n                        <strong>Stack:</strong>\r\n                        <pre className=\"whitespace-pre-wrap mt-1\">\r\n                          {this.state.errorInfo.componentStack}\r\n                        </pre>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </details>\r\n              )}\r\n              \r\n              {/* Azioni */}\r\n              <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                <button\r\n                  onClick={this.handleReload}\r\n                  className=\"flex-1 bg-dj-highlight hover:bg-dj-accent text-white py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4\" />\r\n                  <span>Ricarica App</span>\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={this.handleGoHome}\r\n                  className=\"flex-1 bg-dj-primary hover:bg-dj-secondary text-white py-3 px-4 rounded-lg transition-colors border border-dj-accent/20 flex items-center justify-center space-x-2\"\r\n                >\r\n                  <Home className=\"w-4 h-4\" />\r\n                  <span>Torna alla Home</span>\r\n                </button>\r\n              </div>\r\n              \r\n              {/* Informazioni Aggiuntive */}\r\n              <div className=\"mt-6 text-xs text-dj-light/60\">\r\n                <p>Se il problema persiste, prova a:</p>\r\n                <ul className=\"mt-2 space-y-1\">\r\n                  <li> Chiudere e riaprire l'applicazione</li>\r\n                  <li> Verificare che tutti i file audio siano validi</li>\r\n                  <li> Controllare che ci sia spazio sufficiente sul disco</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n","import React, { useMemo, useRef, useEffect } from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport TopNav from './components/TopNav'\nimport DJConsole from './components/DJConsole'\nimport NewDJConsole from './components/NewDJConsole'\nimport { RebuiltDJConsole } from './components/dj-console'\n// Rimossi import diretti per lazy loading\n// import LibraryManager from './components/LibraryManager'\n// import Settings from './components/Settings'\nimport TestConsole from './components/TestConsole'\nimport { AudioProvider } from './contexts/AudioContext'\nimport { PlaylistProvider } from './contexts/PlaylistContext'\nimport { SettingsProvider } from './contexts/SettingsContext'\nimport { TimerProvider } from './contexts/TimerContext'\nimport ErrorBoundary from './components/ErrorBoundary'\nimport './styles/themes.css'\n\nfunction App() {\n  // Debug: Monitor re-render dell'intero albero\n  const renderCount = useRef(0)\n  const lastRenderTime = useRef(Date.now())\n  \n  useEffect(() => {\n    renderCount.current++\n    const now = Date.now()\n    const timeSinceLastRender = now - lastRenderTime.current\n    lastRenderTime.current = now\n    \n    console.log(` [APP] Re-render #${renderCount.current} - Time since last: ${timeSinceLastRender}ms`)\n    \n    // Stack trace per identificare cosa causa il re-render\n    if (renderCount.current > 1) {\n      console.trace(' [APP] Stack trace for re-render')\n    }\n  })\n\n  // Log quando viene richiesto il refresh (ma non ricaricare la pagina)\n  React.useEffect(() => {\n    const handleForceRefresh = () => {\n      console.log(' Force component refresh requested (but not reloading page)')\n      // Non ricaricare la pagina per non perdere lo stato\n      // Il problema del resume deve essere risolto diversamente\n    }\n\n    window.addEventListener('djconsole:force-component-refresh', handleForceRefresh)\n    return () => {\n      window.removeEventListener('djconsole:force-component-refresh', handleForceRefresh)\n    }\n  }, [])\n\n  // REF per forzare la stabilit - non cambia mai\n  const stableRef = useRef({})\n  \n  // MEMOIZZA i componenti per evitare re-mount - CON REF STABILE + LAZY LOADING\n  const memoizedRebuiltDJConsole = useMemo(() => <RebuiltDJConsole key=\"djconsole-rebuilt-stable\" />, [stableRef.current])\n  const memoizedDJConsole = useMemo(() => <NewDJConsole key=\"djconsole-v2-stable\" />, [stableRef.current])\n  const memoizedOldDJConsole = useMemo(() => <DJConsole key=\"djconsole-old-stable\" />, [stableRef.current])\n  \n  // LAZY LOADING per componenti pesanti\n  const LazyLibraryManager = useMemo(() => {\n    return React.lazy(() => import('./components/LibraryManager'))\n  }, [])\n  \n  const LazySettings = useMemo(() => {\n    return React.lazy(() => import('./components/Settings'))\n  }, [])\n  \n  const memoizedTestConsole = useMemo(() => <TestConsole key=\"test-stable\" />, [stableRef.current])\n\n  // MEMOIZZA anche i provider per evitare re-creazione\n  const memoizedProviders = useMemo(() => (\n    <SettingsProvider>\n      <TimerProvider>\n        <AudioProvider>\n          <PlaylistProvider>\n            <ErrorBoundary>\n              <div className=\"flex flex-col min-h-screen bg-dj-dark\">\n                <TopNav />\n                <main className=\"flex-1 overflow-y-auto transition-opacity duration-200 ease-in-out\">\n                  <React.Suspense fallback={\n                    <div className=\"flex items-center justify-center h-full bg-dj-dark\">\n                      <div className=\"flex flex-col items-center space-y-4\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-dj-accent\"></div>\n                        <div className=\"text-white text-sm opacity-75\">Caricamento...</div>\n                      </div>\n                    </div>\n                  }>\n                    <Routes>\n                      <Route path=\"/\" element={memoizedRebuiltDJConsole} />\n                      <Route path=\"/v2\" element={memoizedDJConsole} />\n                      <Route path=\"/old\" element={memoizedOldDJConsole} />\n                      <Route path=\"/library\" element={<LazyLibraryManager />} />\n                      <Route path=\"/settings\" element={<LazySettings />} />\n                      <Route path=\"/test\" element={memoizedTestConsole} />\n                    </Routes>\n                  </React.Suspense>\n                </main>\n              </div>\n            </ErrorBoundary>\n          </PlaylistProvider>\n        </AudioProvider>\n      </TimerProvider>\n    </SettingsProvider>\n  ), [memoizedRebuiltDJConsole, memoizedDJConsole, memoizedOldDJConsole, LazyLibraryManager, LazySettings, memoizedTestConsole])\n\n  return memoizedProviders\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { BrowserRouter, HashRouter } from 'react-router-dom'\nimport App from './App.tsx'\nimport './index.css'\nimport './styles/themes.css'\nimport { setLanguage } from './i18n'\n\n// Inizializza la lingua (default: italiano)\nsetLanguage('it')\n\nconst Router = window.location.protocol === 'file:' ? HashRouter : BrowserRouter\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n)\n\n// Global error hooks in renderer\ntry {\n  window.addEventListener('error', (e) => {\n    try { (window as any).log?.error?.(`window.onerror: ${e.message}`) } catch {}\n  })\n  window.addEventListener('unhandledrejection', (e: PromiseRejectionEvent) => {\n    try { (window as any).log?.error?.(`unhandledrejection: ${String(e.reason)}`) } catch {}\n  })\n} catch {}\n"],"file":"assets/index-5b2d746f.js"}