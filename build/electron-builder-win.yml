appId: com.infernoconsole.app
productName: Inferno Console
copyright: Copyright © 2024 Inferno Console Team

# Configurazione per Windows
win:
  target:
    - target: nsis
      arch:
        - x64
        - ia32
    - target: portable
      arch:
        - x64
  artifactName: Inferno-Console-${version}-win-${arch}.${ext}
  requestedExecutionLevel: asInvoker
  # publisherName: DJ Console Team  # Rimosso per compatibilità
  verifyUpdateCodeSignature: false
  signAndEditExecutable: false

# Configurazione NSIS - VERSIONE SEMPLIFICATA
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  allowElevation: false
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Inferno Console
  perMachine: false
  deleteAppDataOnUninstall: false
  runAfterFinish: true
  uninstallDisplayName: Inferno Console
  # ✅ RIMOSSO: Script personalizzato e configurazioni complesse

# File da includere
files:
  - dist/**
  - electron/**
  - package.json
  - node_modules/@ffmpeg-installer/**
  - node_modules/ffmpeg-static/**
  - node_modules/ws/**

# Configurazione ASAR
asar: true
asarUnpack:
  - node_modules/@ffmpeg-installer/**
  - node_modules/ffmpeg-static/**

# Risorse extra
extraResources:
  - from: node_modules/@ffmpeg-installer/ffmpeg.exe
    to: ffmpeg.exe

# Compressione
compression: maximum

# Directory di output
directories:
  output: dist-electron
  buildResources: build

# Configurazione per la versione
generateUpdatesFilesForAllChannels: false


# Configurazione auto-updater
publish:
  provider: github
  owner: Alexand83
  repo: InfernoConsole
  releaseType: release
