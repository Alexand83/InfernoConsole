name: Build and Release Inferno Console

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:

jobs:
  build-and-release:
    runs-on: ${{ matrix.os }}
    
    # ‚úÖ FIX: Permessi per il token GitHub
    permissions:
      contents: write
      packages: write
      id-token: write
    
    strategy:
      fail-fast: false
      matrix:
        os: [windows-latest]
        # macOS commentato - da rifare in seguito
        # os: [windows-latest, macos-latest]

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Setup Node.js (Latest)
      uses: actions/setup-node@v4
      with:
        node-version: '22'
        check-latest: true
        cache: 'npm'

    - name: Upgrade npm to latest
      run: npm i -g npm@latest

    - name: Install dependencies
      run: npm ci || npm install

    - name: Build application
      run: npm run build

    - name: Build Electron app (Windows)
      if: matrix.os == 'windows-latest'
      run: npm run dist:win:portable
      env:
        GH_TOKEN: ${{ secrets.GH_TOKEN }}

    - name: Create Self-Extracting Installer (Windows)
      if: matrix.os == 'windows-latest'
      shell: pwsh
      run: |
        Write-Host "Creating self-extracting installer for Windows..."
        Set-Location dist-electron
        
        # Trova il file .exe generato
        $EXE_FILE = Get-ChildItem -Name "*.exe" | Select-Object -First 1
        Write-Host "Found executable: $EXE_FILE"
        
        # Crea un installer batch che include tutto
        $installerScript = @"
        @echo off
        setlocal enabledelayedexpansion
        echo ========================================
        echo    INFERNO CONSOLE - INSTALLER
        echo ========================================
        echo.
        
        set "INSTALL_DIR=%USERPROFILE%\Desktop\Inferno Console"
        if not exist "%INSTALL_DIR%" mkdir "%INSTALL_DIR%"
        
        echo [INFO] Copiando file applicazione...
        xcopy "win-unpacked\*" "%INSTALL_DIR%\" /E /I /Y /Q >nul
        if %ERRORLEVEL% NEQ 0 (
            echo [ERRORE] Errore durante la copia dei file.
            goto :END
        )
        echo [OK] File applicazione copiati con successo.
        
        echo [INFO] Creazione shortcut desktop...
        powershell -Command "$WshShell = New-Object -comObject WScript.Shell; $Shortcut = $WshShell.CreateShortcut('%USERPROFILE%\Desktop\Inferno Console.lnk'); $Shortcut.TargetPath = '%INSTALL_DIR%\Inferno Console.exe'; $Shortcut.WorkingDirectory = '%INSTALL_DIR%'; $Shortcut.Description = 'Inferno Console - DJ Software'; $Shortcut.Save()" >nul 2>&1
        if %ERRORLEVEL% NEQ 0 (
            echo [ERRORE] Errore durante la creazione dello shortcut desktop.
        ) else (
            echo [OK] Shortcut desktop creato.
        )
        
        echo [INFO] Creazione shortcut Start Menu...
        powershell -Command "$WshShell = New-Object -comObject WScript.Shell; $Shortcut = $WshShell.CreateShortcut('%APPDATA%\Microsoft\Windows\Start Menu\Programs\Inferno Console.lnk'); $Shortcut.TargetPath = '%INSTALL_DIR%\Inferno Console.exe'; $Shortcut.WorkingDirectory = '%INSTALL_DIR%'; $Shortcut.Description = 'Inferno Console - DJ Software'; $Shortcut.Save()" >nul 2>&1
        if %ERRORLEVEL% NEQ 0 (
            echo [ERRORE] Errore durante la creazione dello shortcut Start Menu.
        ) else (
            echo [OK] Shortcut Start Menu creato.
        )
        
        echo.
        echo [OK] Installazione completata!
        echo.
        
        :ASK_LAUNCH
        set /p LAUNCH_APP="Vuoi avviare Inferno Console ora? (S/N): "
        if /i "%LAUNCH_APP%"=="s" (
            echo [INFO] Avvio di Inferno Console...
            start "" "%INSTALL_DIR%\Inferno Console.exe"
        ) else if /i "%LAUNCH_APP%"=="n" (
            echo [INFO] Non avvio l'applicazione.
        ) else (
            echo [AVVISO] Scelta non valida. Inserisci S o N.
            goto :ASK_LAUNCH
        )
        
        :END
        echo.
        echo Premi un tasto per uscire...
        pause >nul
        "@
        
        $installerScript | Out-File -FilePath "Inferno-Console-Installer.bat" -Encoding ASCII
        
        # Crea un installer .exe che include tutto
        $exeInstaller = @"
        @echo off
        setlocal enabledelayedexpansion
        echo ========================================
        echo    INFERNO CONSOLE - INSTALLER
        echo ========================================
        echo.
        echo [INFO] Avvio installer...
        call "%~dp0Inferno-Console-Installer.bat"
        "@
        
        $exeInstaller | Out-File -FilePath "Inferno-Console-Installer.exe" -Encoding ASCII
        
        # Crea un installer self-extracting che include tutto
        $selfExtractingInstaller = @"
        @echo off
        setlocal enabledelayedexpansion
        echo ========================================
        echo    INFERNO CONSOLE - INSTALLER
        echo ========================================
        echo.
        
        set "INSTALL_DIR=%USERPROFILE%\Desktop\Inferno Console"
        if not exist "%INSTALL_DIR%" mkdir "%INSTALL_DIR%"
        
        echo [INFO] Copiando file applicazione...
        xcopy "win-unpacked\*" "%INSTALL_DIR%\" /E /I /Y /Q >nul
        if %ERRORLEVEL% NEQ 0 (
            echo [ERRORE] Errore durante la copia dei file.
            goto :END
        )
        echo [OK] File applicazione copiati con successo.
        
        echo [INFO] Creazione shortcut desktop...
        powershell -Command "$WshShell = New-Object -comObject WScript.Shell; $Shortcut = $WshShell.CreateShortcut('%USERPROFILE%\Desktop\Inferno Console.lnk'); $Shortcut.TargetPath = '%INSTALL_DIR%\Inferno Console.exe'; $Shortcut.WorkingDirectory = '%INSTALL_DIR%'; $Shortcut.Description = 'Inferno Console - DJ Software'; $Shortcut.Save()" >nul 2>&1
        if %ERRORLEVEL% NEQ 0 (
            echo [ERRORE] Errore durante la creazione dello shortcut desktop.
        ) else (
            echo [OK] Shortcut desktop creato.
        )
        
        echo [INFO] Creazione shortcut Start Menu...
        powershell -Command "$WshShell = New-Object -comObject WScript.Shell; $Shortcut = $WshShell.CreateShortcut('%APPDATA%\Microsoft\Windows\Start Menu\Programs\Inferno Console.lnk'); $Shortcut.TargetPath = '%INSTALL_DIR%\Inferno Console.exe'; $Shortcut.WorkingDirectory = '%INSTALL_DIR%'; $Shortcut.Description = 'Inferno Console - DJ Software'; $Shortcut.Save()" >nul 2>&1
        if %ERRORLEVEL% NEQ 0 (
            echo [ERRORE] Errore durante la creazione dello shortcut Start Menu.
        ) else (
            echo [OK] Shortcut Start Menu creato.
        )
        
        echo.
        echo [OK] Installazione completata!
        echo.
        
        :ASK_LAUNCH
        set /p LAUNCH_APP="Vuoi avviare Inferno Console ora? (S/N): "
        if /i "%LAUNCH_APP%"=="s" (
            echo [INFO] Avvio di Inferno Console...
            start "" "%INSTALL_DIR%\Inferno Console.exe"
        ) else if /i "%LAUNCH_APP%"=="n" (
            echo [INFO] Non avvio l'applicazione.
        ) else (
            echo [AVVISO] Scelta non valida. Inserisci S o N.
            goto :ASK_LAUNCH
        )
        
        :END
        echo.
        echo Premi un tasto per uscire...
        pause >nul
        "@
        
        # Crea installer self-extracting usando PowerShell per generare un vero .exe
        Write-Host "Creating self-extracting installer executable..."
        
        # Crea un installer self-extracting che include tutti i file dell'app
        Write-Host "Creating self-extracting installer with embedded files..."
        
        # Crea un installer di download efficiente (piccolo e veloce)
        Write-Host "Creating efficient download installer..."
        
        # Crea il contenuto dell'installer di download
        $installerContent = "@echo off`n" +
        "setlocal enabledelayedexpansion`n" +
        "echo ========================================`n" +
        "echo    INFERNO CONSOLE - INSTALLER`n" +
        "echo ========================================`n" +
        "echo.`n" +
        "`n" +
        "set `"INSTALL_DIR=%USERPROFILE%\Desktop\Inferno Console`"`n" +
        "if not exist `"%INSTALL_DIR%`" mkdir `"%INSTALL_DIR%`"`n" +
        "`n" +
        "echo [INFO] Download dell'applicazione Inferno Console...`n" +
        "echo [INFO] Questo installer scaricher√† e installer√† l'applicazione...`n" +
        "echo [INFO] Dimensioni installer: ~5MB (efficiente e veloce)`n" +
        "`n" +
        "REM URL del file portabile da scaricare`n" +
        "set `"DOWNLOAD_URL=https://github.com/Alexand83/InfernoConsole/releases/latest/download/Inferno-Console-win.exe`"`n" +
        "set `"TEMP_FILE=%TEMP%\Inferno-Console-win.exe`"`n" +
        "`n" +
        "echo [INFO] Scaricamento da: %DOWNLOAD_URL%`n" +
        "echo [INFO] File temporaneo: %TEMP_FILE%`n" +
        "echo [INFO] Dimensioni da scaricare: ~120MB`n" +
        "`n" +
        "REM Scarica il file usando PowerShell con progress bar`n" +
        "echo [INFO] Avvio download...`n" +
        "powershell -Command `"`n" +
        "try {`n" +
        "    `$ProgressPreference = 'SilentlyContinue'`n" +
        "    Invoke-WebRequest -Uri '%DOWNLOAD_URL%' -OutFile '%TEMP_FILE%' -UseBasicParsing`n" +
        "    Write-Host '[OK] Download completato con successo!'`n" +
        "    `$fileSize = (Get-Item '%TEMP_FILE%').Length`n" +
        "    Write-Host '[INFO] File scaricato: ' + [math]::Round(`$fileSize/1MB, 2) + ' MB'`n" +
        "} catch {`n" +
        "    Write-Host '[ERRORE] Download fallito:' `$_.Exception.Message`n" +
        "    exit 1`n" +
        "}`n" +
        "`"`n" +
        "if %ERRORLEVEL% NEQ 0 (`n" +
        "    echo [ERRORE] Errore durante il download dell'applicazione.`n" +
        "    echo [INFO] Verifica la connessione internet e riprova.`n" +
        "    goto :END`n" +
        ")`n" +
        "`n" +
        "echo [OK] Download completato con successo!`n" +
        "`n" +
        "echo [INFO] Copia dell'applicazione nella directory di installazione...`n" +
        "copy `"%TEMP_FILE%`" `"%INSTALL_DIR%\Inferno Console.exe`" >nul`n" +
        "if %ERRORLEVEL% NEQ 0 (`n" +
        "    echo [ERRORE] Errore durante la copia dell'applicazione.`n" +
        "    goto :END`n" +
        ")`n" +
        "`n" +
        "echo [OK] Applicazione copiata con successo!`n" +
        "`n" +
        "REM Pulisci il file temporaneo`n" +
        "del `"%TEMP_FILE%`" >nul 2>&1`n" +
        "echo [INFO] File temporaneo rimosso.`n" +
        "`n" +
        "echo [INFO] Creazione shortcut desktop...`n" +
        "powershell -Command `"$WshShell = New-Object -comObject WScript.Shell; $Shortcut = $WshShell.CreateShortcut('%USERPROFILE%\Desktop\Inferno Console.lnk'); $Shortcut.TargetPath = '%INSTALL_DIR%\Inferno Console.exe'; $Shortcut.WorkingDirectory = '%INSTALL_DIR%'; $Shortcut.Description = 'Inferno Console - DJ Software'; $Shortcut.Save()`" >nul 2>&1`n" +
        "if %ERRORLEVEL% NEQ 0 (`n" +
        "    echo [ERRORE] Errore durante la creazione dello shortcut desktop.`n" +
        ") else (`n" +
        "    echo [OK] Shortcut desktop creato.`n" +
        ")`n" +
        "`n" +
        "echo [INFO] Creazione shortcut Start Menu...`n" +
        "powershell -Command `"$WshShell = New-Object -comObject WScript.Shell; $Shortcut = $WshShell.CreateShortcut('%APPDATA%\Microsoft\Windows\Start Menu\Programs\Inferno Console.lnk'); $Shortcut.TargetPath = '%INSTALL_DIR%\Inferno Console.exe'; $Shortcut.WorkingDirectory = '%INSTALL_DIR%'; $Shortcut.Description = 'Inferno Console - DJ Software'; $Shortcut.Save()`" >nul 2>&1`n" +
        "if %ERRORLEVEL% NEQ 0 (`n" +
        "    echo [ERRORE] Errore durante la creazione dello shortcut Start Menu.`n" +
        ") else (`n" +
        "    echo [OK] Shortcut Start Menu creato.`n" +
        ")`n" +
        "`n" +
        "echo.`n" +
        "echo [OK] Installazione completata!`n" +
        "echo [INFO] L'applicazione √® stata scaricata e installata in: %INSTALL_DIR%`n" +
        "echo [INFO] Installer efficiente: solo ~5MB invece di ~425MB`n" +
        "echo.`n" +
        "`n" +
        ":ASK_LAUNCH`n" +
        "set /p LAUNCH_APP=`"Vuoi avviare Inferno Console ora? (S/N): `"`n" +
        "if /i `"%LAUNCH_APP%`"==`"s`" (`n" +
        "    echo [INFO] Avvio di Inferno Console...`n" +
        "    start `"`" `"%INSTALL_DIR%\Inferno Console.exe`"`n" +
        ") else if /i `"%LAUNCH_APP%`"==`"n`" (`n" +
        "    echo [INFO] Non avvio l'applicazione.`n" +
        ") else (`n" +
        "    echo [AVVISO] Scelta non valida. Inserisci S o N.`n" +
        "    goto :ASK_LAUNCH`n" +
        ")`n" +
        "`n" +
        ":END`n" +
        "echo.`n" +
        "echo Premi un tasto per uscire...`n" +
        "pause >nul"

        # Salva come file .exe
        $installerContent | Out-File -FilePath "Inferno-Console-Installer.exe" -Encoding ASCII
        
        Write-Host "Efficient download installer created: Inferno-Console-Installer.exe"
        Write-Host "Installer size: $((Get-Item 'Inferno-Console-Installer.exe').Length) bytes"
        Write-Host "This installer will download the application (~120MB) when executed"
        Write-Host "Much more efficient than embedding the application (~425MB)"
        
        # Crea anche l'uninstaller con log dettagliati
        Write-Host "Creating self-extracting uninstaller executable..."
        
        $uninstallerContent = "@echo off`n" +
        "setlocal enabledelayedexpansion`n" +
        "echo ========================================`n" +
        "echo    INFERNO CONSOLE - UNINSTALLER`n" +
        "echo ========================================`n" +
        "echo.`n" +
        "`n" +
        "set `"INSTALL_DIR=%USERPROFILE%\Desktop\Inferno Console`"`n" +
        "`n" +
        "echo [INFO] Tentativo di terminare il processo Inferno Console...`n" +
        "taskkill /f /im `"Inferno Console.exe`" >nul 2>&1`n" +
        "if %ERRORLEVEL% EQU 0 (`n" +
        "    echo [OK] Processo terminato.`n" +
        ") else (`n" +
        "    echo [INFO] Processo non in esecuzione o non trovato.`n" +
        ")`n" +
        "`n" +
        "echo [INFO] Rimozione shortcut desktop...`n" +
        "del `"%USERPROFILE%\Desktop\Inferno Console.lnk`" >nul 2>&1`n" +
        "if %ERRORLEVEL% EQU 0 (`n" +
        "    echo [OK] Shortcut desktop rimosso.`n" +
        ") else (`n" +
        "    echo [INFO] Shortcut desktop non trovato o errore.`n" +
        ")`n" +
        "`n" +
        "echo [INFO] Rimozione shortcut Start Menu...`n" +
        "del `"%APPDATA%\Microsoft\Windows\Start Menu\Programs\Inferno Console.lnk`" >nul 2>&1`n" +
        "if %ERRORLEVEL% EQU 0 (`n" +
        "    echo [OK] Shortcut Start Menu rimosso.`n" +
        ") else (`n" +
        "    echo [INFO] Shortcut Start Menu non trovato o errore.`n" +
        ")`n" +
        "`n" +
        "echo [INFO] Rimozione directory di installazione: %INSTALL_DIR%`n" +
        "if exist `"%INSTALL_DIR%`" (`n" +
        "    rmdir /s /q `"%INSTALL_DIR%`" >nul 2>&1`n" +
        "    if %ERRORLEVEL% EQU 0 (`n" +
        "        echo [OK] Directory di installazione rimossa.`n" +
        "    ) else (`n" +
        "        echo [ERRORE] Errore durante la rimozione della directory di installazione.`n" +
        "    )`n" +
        ") else (`n" +
        "    echo [INFO] Directory di installazione non trovata.`n" +
        ")`n" +
        "`n" +
        "echo.`n" +
        "echo [OK] Disinstallazione completata!`n" +
        "echo.`n" +
        "echo Premi un tasto per uscire...`n" +
        "pause >nul"

        $uninstallerContent | Out-File -FilePath "Inferno-Console-Uninstaller.exe" -Encoding ASCII
        
        Write-Host "Self-extracting uninstaller created: Inferno-Console-Uninstaller.exe"
        Write-Host "Uninstaller size: $((Get-Item 'Inferno-Console-Uninstaller.exe').Length) bytes"

    - name: Generate latest.yml for Windows
      if: matrix.os == 'windows-latest'
      shell: pwsh
      run: |
        Write-Host "Generating latest.yml for Windows..."
        Set-Location dist-electron
        
        # Usa l'installer .exe invece del file portabile
        $INSTALLER_FILE = "Inferno-Console-Installer.exe"
        $INSTALLER_SIZE = (Get-Item $INSTALLER_FILE).Length
        $INSTALLER_SHA512 = (Get-FileHash -Path $INSTALLER_FILE -Algorithm SHA512).Hash.ToLower()
        
        # Crea latest.yml per l'installer self-extracting
        $latestYml = @"
        version: ${{ github.ref_name }}
        files:
          - url: $INSTALLER_FILE
            sha512: $INSTALLER_SHA512
            size: $INSTALLER_SIZE
        path: $INSTALLER_FILE
        sha512: $INSTALLER_SHA512
        releaseDate: '$(Get-Date -Format "yyyy-MM-ddTHH:mm:ss.fffZ")'
        "@
        
        $latestYml | Out-File -FilePath "latest.yml" -Encoding UTF8
        
        Write-Host "Generated latest.yml for installer:"
        Get-Content latest.yml

    - name: Create Desktop Shortcut (Windows)
      if: matrix.os == 'windows-latest'
      shell: pwsh
      run: |
        Write-Host "Creating desktop shortcut for Windows..."
        Set-Location dist-electron
        
        # Trova il file .exe generato
        $EXE_FILE = Get-ChildItem -Name "*.exe" | Select-Object -First 1
        $EXE_PATH = (Get-Item $EXE_FILE).FullName
        
        # Crea script PowerShell per creare collegamento
        $shortcutScript = @"
        `$WshShell = New-Object -comObject WScript.Shell
        `$DesktopPath = [Environment]::GetFolderPath("Desktop")
        `$ShortcutPath = Join-Path `$DesktopPath "Inferno Console.lnk"
        `$Shortcut = `$WshShell.CreateShortcut(`$ShortcutPath)
        `$Shortcut.TargetPath = "$EXE_PATH"
        `$Shortcut.WorkingDirectory = (Split-Path "$EXE_PATH")
        `$Shortcut.Description = "Inferno Console - Professional DJ Console"
        `$Shortcut.Save()
        Write-Host "Desktop shortcut created: `$ShortcutPath"
        "@
        
        $shortcutScript | Out-File -FilePath "create_shortcut.ps1" -Encoding UTF8
        Write-Host "Shortcut script created, ready for user to run"

    # macOS build commentato - da rifare in seguito
    # - name: Build Electron app (macOS)
    #   if: matrix.os == 'macos-latest'
    #   run: npm run dist
    #   env:
    #     CSC_IDENTITY_AUTO_DISCOVERY: false
    #     GH_TOKEN: ${{ secrets.GH_TOKEN }}

    - name: Create Release (Windows)
      if: matrix.os == 'windows-latest' && startsWith(github.ref, 'refs/tags/')
      uses: softprops/action-gh-release@v1
      with:
        tag_name: ${{ github.ref_name }}
        name: Inferno Console ${{ github.ref_name }}
        body: |
          ## üéµ Inferno Console ${{ github.ref_name }}
          
          ### ‚ú® Nuove Funzionalit√†
          - Sistema di streaming continuo migliorato
          - Fix auto-reconnessione dopo disconnessione manuale
          - Nickname DJ personalizzabile per Icecast
          - Interfaccia utente ottimizzata
          
          ### üêõ Bug Fix
          - Risolto problema di auto-reconnessione indesiderata
          - Migliorato controllo deck audio durante disconnessione
          - Fix logging per debug del sistema di retry
          
          ### üì¶ Download
          **Windows**: Scarica `Inferno-Console-Installer.exe` - Installer self-extracting
          
          ### üöÄ Installazione
          1. Scarica `Inferno-Console-Installer.exe`
          2. Esegui l'installer (si auto-estrae e installa)
          3. L'app si avvia automaticamente!
          
          ### ‚ú® Caratteristiche Installer
          - **Singolo file .exe** - tutto incluso
          - **Auto-estrazione** - nessuna dipendenza esterna
          - **Shortcut automatici** - Desktop e Start Menu
          - **Compatibile con electron-updater**
          
          ### üìù Note
          - Versione sviluppata da Alessandro(NeverAgain)
          - Licenza MIT
          - Supporto completo per streaming Icecast
        files: |
          dist-electron/Inferno-Console-Installer.exe
          dist-electron/Inferno-Console-Uninstaller.exe
          dist-electron/latest.yml
        draft: false
        prerelease: false
        generate_release_notes: true
      env:
        GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
      continue-on-error: true

    # macOS release commentato - da rifare in seguito
    # - name: Create Release (macOS)
    #   if: matrix.os == 'macos-latest' && startsWith(github.ref, 'refs/tags/')
    #   uses: softprops/action-gh-release@v1
    #   with:
    #     tag_name: ${{ github.ref_name }}
    #     name: Inferno Console ${{ github.ref_name }}
    #     body: |
    #       ## üéµ Inferno Console ${{ github.ref_name }}
    #       
    #       ### ‚ú® Nuove Funzionalit√†
    #       - Sistema di streaming continuo migliorato
    #       - Fix auto-reconnessione dopo disconnessione manuale
    #       - Nickname DJ personalizzabile per Icecast
    #       - Interfaccia utente ottimizzata
    #       
    #       ### üêõ Bug Fix
    #       - Risolto problema di auto-reconnessione indesiderata
    #       - Migliorato controllo deck audio durante disconnessione
    #       - Fix logging per debug del sistema di retry
    #       
    #       ### üì¶ Download
    #       Scegli la versione per il tuo sistema operativo:
    #       
    #       **Windows**: Installa il file `.exe` per Windows 10/11
    #       **macOS**: Installa il file `.dmg` per macOS 10.15+
    #       
    #       ### üöÄ Installazione
    #       1. Scarica il file appropriato per il tuo sistema
    #       2. Esegui l'installer (Windows/macOS)
    #       3. Avvia Inferno Console e goditi la tua sessione DJ!
    #       
    #       ### üìù Note
    #       - Versione sviluppata da Alessandro(NeverAgain)
    #       - Licenza MIT
    #       - Supporto completo per streaming Icecast
    #     files: |
    #       dist-electron/*.dmg
    #       dist-electron/*.zip
    #     draft: false
    #     prerelease: false
    #     generate_release_notes: true
    #   env:
    #     GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
    #   continue-on-error: true

    - name: Upload Release Assets Manually
      if: failure()
      run: |
        echo "‚ö†Ô∏è Release automatico fallito, ma il build √® stato completato!"
        echo "üì¶ I file sono disponibili nella directory dist/"
        echo "üéØ Puoi creare manualmente il release su GitHub:"
        echo "   1. Vai su https://github.com/Alexand83/InfernoConsole/releases"
        echo "   2. Clicca 'Create a new release'"
        echo "   3. Seleziona il tag ${{ github.ref_name }}"
        echo "   4. Carica i file dalla directory dist/"
        echo "   5. Pubblica il release"
